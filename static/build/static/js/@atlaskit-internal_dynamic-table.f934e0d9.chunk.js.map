{"version":3,"file":"static/js/@atlaskit-internal_dynamic-table.f934e0d9.chunk.js","mappings":"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","sources":["../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/drag-drop-context/rbd-invariant.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/drag-drop-context/internal-context.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/hooks/use-captured-dimensions.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/hooks/use-cleanup-fn.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/utils/attributes.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/utils/find-element.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/utils/find-drag-handle.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/utils/get-closest-positioned-element.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/drag-drop-context/cancel-drag.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-hitbox/dist/esm/closest-edge.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/draggable/data.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/droppable/data.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/drag-drop-context/draggable-location.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/utils/find-all-draggables.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/drag-drop-context/droppable-registry.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/public-utils/combine.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/honey-pot-fix/honey-pot-data-attribute.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/honey-pot-fix/is-honey-pot-element.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/honey-pot-fix/get-element-from-point-without-honey-pot.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/honey-pot-fix/make-honey-pot-fix.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/public-utils/once.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/util/is-firefox.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/util/is-safari.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/util/changing-window/count-events-for-safari.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/util/changing-window/is-leaving-window.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/util/changing-window/is-from-another-window.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/util/detect-broken-drag.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/util/get-input.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/ledger/dispatch-consumer-event.js","../node_modules/raf-schd/dist/raf-schd.esm.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/ledger/lifecycle-manager.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/ledger/usage-ledger.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/util/add-attribute.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/make-adapter/make-drop-target.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/make-adapter/make-monitor.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/util/android.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/util/media-types/text-media-type.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/adapter/element-adapter.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/util/max-z-index.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/make-adapter/make-adapter.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/util/media-types/url-media-type.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/adapter/element-adapter-native-data-key.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/drag-drop-context/error-boundary.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/drag-drop-context/get-destination.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/drag-drop-context/hooks/use-hidden-text-element.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/utils/find-closest-scroll-container.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/utils/get-best-cross-axis-droppable.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/utils/get-element-by-draggable-location.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/drag-drop-context/hooks/use-keyboard-controls.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/get-closest-scrollable-element.js","../node_modules/css-box-model/dist/css-box-model.esm.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/position.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/can-scroll.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/constants.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/config.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/get-scroll/get-scroll-on-axis/get-distance-thresholds.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/get-percentage.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/get-scroll/get-scroll-on-axis/dampen-value-by-time.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/get-scroll/get-scroll-on-axis/get-value.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/get-scroll/get-scroll-on-axis/get-value-from-distance.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/get-scroll/get-scroll-on-axis/index.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/get-scroll/index.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/window/get-max-window-scroll.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/get-max-scroll.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/window/get-viewport.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/window/get-window-scroll.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/scroll.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/get-window-scroll-change.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/get-scrollable.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/get-scrollable-scroll-change.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/index.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/public-utils/prevent-unhandled.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/hooks/use-isomorphic-layout-effect.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/drag-drop-context/hooks/use-style-marshal.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/utils/batch-updates-for-react-16.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/drag-drop-context/lifecycle-context.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/drag-drop-context/live-region.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/drag-drop-context/screen-reader.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/drag-drop-context/use-scheduler.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/drag-drop-context/index.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/drag-drop-context/hooks/use-pointer-controls.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/utils/use-stable.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/draggable/get-draggable-provided-style.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/draggable/constants.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/droppable/drop-indicator/constants.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/draggable/state.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/draggable/use-draggable-state-snapshot.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/utils/find-drop-indicator.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/utils/find-placeholder.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/droppable/draggable-clone.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/droppable/gap/get-distance.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/droppable/gap/index.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/droppable/drop-indicator/get-dimensions.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/droppable/drop-indicator/index.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/droppable/droppable-context.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/droppable/state.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/draggable/placeholder.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/hooks/use-drop-target-for-draggable.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/droppable/virtual-placeholder.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/droppable/index.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/public-utils/element/disable-native-drag-preview.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/draggable/is-event-in-interactive-element.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/draggable/index.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/hooks/use-keyboard-context.js","../node_modules/@atlaskit/dynamic-table/dist/esm/styled/rankable/table-row.js","../node_modules/@atlaskit/dynamic-table/dist/esm/styled/rankable/table-cell.js","../node_modules/@atlaskit/dynamic-table/dist/esm/components/rankable/table-cell.js","../node_modules/@atlaskit/dynamic-table/dist/esm/components/rankable/table-row.js","../node_modules/@atlaskit/dynamic-table/dist/esm/components/rankable/body.js"],"sourcesContent":["import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _wrapNativeSuper from \"@babel/runtime/helpers/wrapNativeSuper\";\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nvar isProduction = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nexport var RbdInvariant = /*#__PURE__*/function (_Error) {\n  function RbdInvariant(message) {\n    var _this;\n    _classCallCheck(this, RbdInvariant);\n    _this = _callSuper(this, RbdInvariant);\n    _this.message = message;\n    return _this;\n  }\n  _inherits(RbdInvariant, _Error);\n  return _createClass(RbdInvariant, [{\n    key: \"toString\",\n    value: function toString() {\n      return this.message;\n    }\n  }]);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\n// A copy-paste of tiny-invariant but with a custom error type\n// Throw an error if the condition fails\nexport function rbdInvariant(condition, message) {\n  if (condition) {\n    return;\n  }\n  if (isProduction) {\n    // In production we strip the message but still throw\n    throw new RbdInvariant(prefix);\n  } else {\n    // When not in production we allow the message to pass through\n    // *This block will be removed in production builds*\n    throw new RbdInvariant(\"\".concat(prefix, \": \").concat(message || ''));\n  }\n}","import React, { createContext, useContext, useMemo } from 'react';\nimport { rbdInvariant } from './rbd-invariant';\nvar DragDropContext = /*#__PURE__*/createContext(null);\nexport function useDragDropContext() {\n  var value = useContext(DragDropContext);\n  rbdInvariant(value !== null, 'Unable to find DragDropContext context');\n  return value;\n}\nexport function DragDropContextProvider(_ref) {\n  var children = _ref.children,\n    contextId = _ref.contextId,\n    getDragState = _ref.getDragState,\n    startKeyboardDrag = _ref.startKeyboardDrag,\n    droppableRegistry = _ref.droppableRegistry;\n  var value = useMemo(function () {\n    return {\n      contextId: contextId,\n      getDragState: getDragState,\n      startKeyboardDrag: startKeyboardDrag,\n      droppableRegistry: droppableRegistry\n    };\n  }, [contextId, getDragState, startKeyboardDrag, droppableRegistry]);\n  return /*#__PURE__*/React.createElement(DragDropContext.Provider, {\n    value: value\n  }, children);\n}","import { useDragDropContext } from '../drag-drop-context/internal-context';\nexport function getDraggableDimensions(element) {\n  var _window$getComputedSt = window.getComputedStyle(element),\n    margin = _window$getComputedSt.margin;\n  var rect = element.getBoundingClientRect();\n  return {\n    margin: margin,\n    rect: rect\n  };\n}\n\n/**\n * Returns the captured dimensions of the item being dragged.\n */\nexport function useDraggableDimensions() {\n  var _useDragDropContext = useDragDropContext(),\n    getDragState = _useDragDropContext.getDragState;\n  var dragState = getDragState();\n  if (!dragState.isDragging) {\n    return null;\n  }\n  return dragState.draggableDimensions;\n}","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useEffect, useState } from 'react';\nvar noop = function noop() {};\nfunction createCleanupManager() {\n  var cleanupFn = noop;\n  var setCleanupFn = function setCleanupFn(newCleanupFn) {\n    cleanupFn = newCleanupFn;\n  };\n  var runCleanupFn = function runCleanupFn() {\n    cleanupFn();\n    cleanupFn = noop;\n  };\n  return {\n    setCleanupFn: setCleanupFn,\n    runCleanupFn: runCleanupFn\n  };\n}\nexport function useCleanupFn() {\n  var _useState = useState(createCleanupManager),\n    _useState2 = _slicedToArray(_useState, 1),\n    cleanupManager = _useState2[0];\n\n  /**\n   * Run the cleanup function on unmount.\n   */\n  useEffect(function () {\n    return cleanupManager.runCleanupFn;\n  }, [cleanupManager.runCleanupFn]);\n  return cleanupManager;\n}","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { rbdInvariant } from '../drag-drop-context/rbd-invariant';\nexport var attributes = {\n  draggable: {\n    contextId: 'data-rbd-draggable-context-id',\n    id: 'data-rbd-draggable-id'\n  },\n  dragHandle: {\n    contextId: 'data-rbd-drag-handle-context-id',\n    draggableId: 'data-rbd-drag-handle-draggable-id'\n  },\n  droppable: {\n    contextId: 'data-rbd-droppable-context-id',\n    id: 'data-rbd-droppable-id'\n  },\n  placeholder: {\n    contextId: 'data-rbd-placeholder-context-id'\n  }\n};\n\n/**\n * These attributes are not set by `react-beautiful-dnd`,\n * but they expose useful information for the migration layer.\n */\nexport var customAttributes = {\n  draggable: {\n    droppableId: 'data-rbd-draggable-droppable-id',\n    index: 'data-rbd-draggable-index'\n  },\n  dropIndicator: 'data-rbd-drop-indicator',\n  droppable: {\n    direction: 'data-rbd-droppable-direction',\n    type: 'data-rbd-droppable-type'\n  }\n};\nexport function getAttribute(element, attribute) {\n  var value = element.getAttribute(attribute);\n  rbdInvariant(value !== null, \"Expected '\".concat(attribute, \"' to be present\"));\n  return value;\n}\nexport function setAttributes(element, attributes) {\n  for (var _i = 0, _Object$entries = Object.entries(attributes); _i < _Object$entries.length; _i++) {\n    var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n      key = _Object$entries$_i[0],\n      value = _Object$entries$_i[1];\n    element.setAttribute(key, value);\n  }\n  return function () {\n    for (var _i2 = 0, _Object$keys = Object.keys(attributes); _i2 < _Object$keys.length; _i2++) {\n      var _key = _Object$keys[_i2];\n      element.removeAttribute(_key);\n    }\n  };\n}","import { rbdInvariant } from '../drag-drop-context/rbd-invariant';\n\n/**\n * Each fragment consists of an attribute name, with an optional value.\n */\n\n/**\n * Joins selector fragments into a single selector.\n *\n * @example\n * getSelector(\n *   // If we care about the value of the attribute\n *   { attribute: 'my-attribute', value: 'my-value' },\n *   // If we only care about existence of the attribute\n *   { attribute: 'another-attribute' },\n * ) === '[my-attribute=\"my-value\"][another-attribute]'\n */\nfunction getSelector() {\n  for (var _len = arguments.length, fragments = new Array(_len), _key = 0; _key < _len; _key++) {\n    fragments[_key] = arguments[_key];\n  }\n  var parts = fragments.map(function (_ref) {\n    var attribute = _ref.attribute,\n      value = _ref.value;\n    if (value) {\n      // `CSS.escape` is widely supported, the lint rule is wrong.\n      // It avoids problems caused by some values which are not valid in\n      // selectors.\n      // eslint-disable-next-line compat/compat\n      return \"[\".concat(attribute, \"=\\\"\").concat(CSS.escape(value), \"\\\"]\");\n    }\n    return \"[\".concat(attribute, \"]\");\n  });\n  return parts.join('');\n}\n\n/**\n * Queries an element based on the provided selector fragments.\n */\nexport function findElement() {\n  var selector = getSelector.apply(void 0, arguments);\n  return document.querySelector(selector);\n}\nexport function findElementAll() {\n  var selector = getSelector.apply(void 0, arguments);\n  return Array.from(document.querySelectorAll(selector));\n}\n\n/**\n * Queries an element, ensuring it exists.\n */\nexport function getElement() {\n  var result = findElement.apply(void 0, arguments);\n  rbdInvariant(result, 'There is a matching HTMLElement for selector ' + getSelector.apply(void 0, arguments));\n  return result;\n}","import { attributes } from './attributes';\nimport { findElement } from './find-element';\n\n/**\n * Obtains the `HTMLElement` with the data attribute passed down through\n * `provided.dragHandleProps`\n */\nexport function findDragHandle(_ref) {\n  var contextId = _ref.contextId,\n    draggableId = _ref.draggableId;\n  // Otherwise the drag handle is a descendant.\n  return findElement({\n    attribute: attributes.dragHandle.contextId,\n    value: contextId\n  }, {\n    attribute: attributes.dragHandle.draggableId,\n    value: draggableId\n  });\n}","// eslint-disable-next-line import/no-extraneous-dependencies\n\n/**\n * Returns the closest element with `position: absolute` or `null` if none found.\n */\nfunction getClosestAbsolutePositionedElement(element) {\n  var _getComputedStyle = getComputedStyle(element),\n    position = _getComputedStyle.position;\n  if (position === 'absolute') {\n    return element;\n  }\n  var parentElement = element.parentElement;\n  if (parentElement instanceof HTMLElement) {\n    return getClosestAbsolutePositionedElement(parentElement);\n  }\n  return null;\n}\n\n/**\n * Returns the closest element that is offset relative to the scroll container.\n */\nexport function getClosestPositionedElement(_ref) {\n  var _getClosestAbsolutePo;\n  var element = _ref.element,\n    mode = _ref.mode;\n  /**\n   * We use the element directly for standard lists,\n   * because we assume it is positioned in the flow.\n   */\n  if (mode === 'standard') {\n    return element;\n  }\n\n  /**\n   * For virtual lists we use the closest element with `position: absolute`,\n   * as this is how virtualization libraries offset elements.\n   */\n  return (_getClosestAbsolutePo = getClosestAbsolutePositionedElement(element)) !== null && _getClosestAbsolutePo !== void 0 ? _getClosestAbsolutePo : element;\n}","/**\n * Cancels the active drag, if there is one.\n *\n * This only affects pdnd's tracking, not the browser's dragging.\n *\n * This means if you drag out of the browser and back in,\n * an external adapter could pick it up as a new drag.\n */\nexport function cancelPointerDrag() {\n  window.dispatchEvent(new DragEvent('dragend'));\n}","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n// re-exporting type to make it easy to use\n\nvar getDistanceToEdge = {\n  top: function top(rect, client) {\n    return Math.abs(client.y - rect.top);\n  },\n  right: function right(rect, client) {\n    return Math.abs(rect.right - client.x);\n  },\n  bottom: function bottom(rect, client) {\n    return Math.abs(rect.bottom - client.y);\n  },\n  left: function left(rect, client) {\n    return Math.abs(client.x - rect.left);\n  }\n};\n\n// using a symbol so we can guarantee a key with a unique value\nvar uniqueKey = Symbol('closestEdge');\n\n/**\n * Adds a unique `Symbol` to the `userData` object. Use with `extractClosestEdge()` for type safe lookups.\n */\nexport function attachClosestEdge(userData, _ref) {\n  var _entries$sort$0$edge, _entries$sort$;\n  var element = _ref.element,\n    input = _ref.input,\n    allowedEdges = _ref.allowedEdges;\n  var client = {\n    x: input.clientX,\n    y: input.clientY\n  };\n  // I tried caching the result of `getBoundingClientRect()` for a single\n  // frame in order to improve performance.\n  // However, on measurement I saw no improvement. So no longer caching\n  var rect = element.getBoundingClientRect();\n  var entries = allowedEdges.map(function (edge) {\n    return {\n      edge: edge,\n      value: getDistanceToEdge[edge](rect, client)\n    };\n  });\n\n  // edge can be `null` when `allowedEdges` is []\n  var addClosestEdge = (_entries$sort$0$edge = (_entries$sort$ = entries.sort(function (a, b) {\n    return a.value - b.value;\n  })[0]) === null || _entries$sort$ === void 0 ? void 0 : _entries$sort$.edge) !== null && _entries$sort$0$edge !== void 0 ? _entries$sort$0$edge : null;\n  return _objectSpread(_objectSpread({}, userData), {}, _defineProperty({}, uniqueKey, addClosestEdge));\n}\n\n/**\n * Returns the value added by `attachClosestEdge()` to the `userData` object. It will return `null` if there is no value.\n */\nexport function extractClosestEdge(userData) {\n  var _ref2;\n  return (_ref2 = userData[uniqueKey]) !== null && _ref2 !== void 0 ? _ref2 : null;\n}","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport { useMemo } from 'react';\n\n// eslint-disable-next-line import/no-extraneous-dependencies\n\n/**\n * Private symbol that is intentionally not exported from this file.\n */\nvar privateKey = Symbol('DraggableData');\n\n/**\n * Data that is attached to drags. The same data is used for the `draggable()`\n * and `dropTargetForElements()` calls related to a `<Draggable>` instance.\n */\n\n/**\n * Checks if the passed data satisfies `DraggableData` using the private symbol.\n */\nexport function isDraggableData(data) {\n  return data[privateKey] === true;\n}\n\n/**\n * Adds the private symbol to the passed data.\n *\n * The symbol allows us to quickly check if an object satisfies `DraggableData`.\n */\nexport function useDraggableData(_ref) {\n  var draggableId = _ref.draggableId,\n    droppableId = _ref.droppableId,\n    getIndex = _ref.getIndex,\n    contextId = _ref.contextId,\n    type = _ref.type;\n  return useMemo(function () {\n    return _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, privateKey, true), \"draggableId\", draggableId), \"droppableId\", droppableId), \"getIndex\", getIndex), \"contextId\", contextId), \"type\", type);\n  }, [draggableId, droppableId, getIndex, contextId, type]);\n}","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport { useMemo } from 'react';\n\n// eslint-disable-next-line import/no-extraneous-dependencies\n\n/**\n * Private symbol that is intentionally not exported from this file.\n */\nvar privateKey = Symbol('DroppableData');\n\n/**\n * Data that is attached to drags.\n */\n\n/**\n * Checks if the passed data satisfies `DroppableData` using the private symbol.\n */\nexport function isDroppableData(data) {\n  return data[privateKey] === true;\n}\n\n/**\n * Adds the private symbol to the passed data.\n *\n * The symbol allows us to quickly check if an object satisfies `DroppableData`.\n */\nexport function useDroppableData(_ref) {\n  var contextId = _ref.contextId,\n    droppableId = _ref.droppableId,\n    getIsDropDisabled = _ref.getIsDropDisabled;\n  return useMemo(function () {\n    return _defineProperty(_defineProperty(_defineProperty(_defineProperty({}, privateKey, true), \"contextId\", contextId), \"droppableId\", droppableId), \"getIsDropDisabled\", getIsDropDisabled);\n  }, [contextId, droppableId, getIsDropDisabled]);\n}","import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"droppableId\", \"getIndex\"],\n  _excluded2 = [\"contextId\", \"droppableId\"];\n// eslint-disable-next-line import/no-extraneous-dependencies\n\nimport { extractClosestEdge } from '@atlaskit/pragmatic-drag-and-drop-hitbox/closest-edge';\nimport { isDraggableData } from '../draggable/data';\nimport { isDroppableData } from '../droppable/data';\nimport { customAttributes, getAttribute } from '../utils/attributes';\nimport { findAllDraggables } from '../utils/find-all-draggables';\n\n/**\n * Derives the `DraggableLocation` of a `<Draggable>`.\n *\n * Accounts for which edge is being hovered over.\n */\nfunction getDraggableLocationFromDraggableData(_ref) {\n  var droppableId = _ref.droppableId,\n    getIndex = _ref.getIndex,\n    data = _objectWithoutProperties(_ref, _excluded);\n  /**\n   * The index that the draggable is currently occupying.\n   */\n  var index = getIndex();\n  var closestEdge = extractClosestEdge(\n  /**\n   * TypeScript doesn't like this without casting.\n   *\n   * The IDE doesn't have an issue, but if you try to build it then\n   * there will be an error.\n   */\n  data);\n  /**\n   * Whether the user is hovering over the second half of the draggable.\n   *\n   * For a vertical list it is the bottom half,\n   * while for a horizontal list it is the right half.\n   */\n  var isForwardEdge = closestEdge === 'bottom' || closestEdge === 'right';\n  if (isForwardEdge) {\n    /**\n     * If hovering over the 'forward' half of the draggable,\n     * then the user is targeting the index after the draggable.\n     */\n    index += 1;\n  }\n  return {\n    droppableId: droppableId,\n    index: index\n  };\n}\n\n/**\n * Derives the `DraggableLocation` of a `<Droppable>`.\n *\n * This corresponds to the first or last index of the list,\n * depending on where the user is hovering.\n */\nfunction getDraggableLocationFromDroppableData(_ref2) {\n  var contextId = _ref2.contextId,\n    droppableId = _ref2.droppableId,\n    data = _objectWithoutProperties(_ref2, _excluded2);\n  var draggables = findAllDraggables({\n    contextId: contextId,\n    droppableId: droppableId\n  });\n\n  /**\n   * If there are no draggables, then the index should be 0\n   */\n  if (draggables.length === 0) {\n    return {\n      droppableId: droppableId,\n      index: 0\n    };\n  }\n  var closestEdge = extractClosestEdge(data);\n  /**\n   * Whether the user is closer to the start of the droppable.\n   *\n   * For a vertical list it is the top half,\n   * while for a horizontal list it is the left half.\n   */\n  var isCloserToStart = closestEdge === 'top' || closestEdge === 'left';\n  if (isCloserToStart) {\n    /**\n     * If the user is closer to the start of the list, we will target the\n     * first (0th) index.\n     */\n    return {\n      droppableId: droppableId,\n      index: 0\n    };\n  }\n\n  /**\n   * We don't just take the index of the last draggable,\n   * because portal-ing can lead to the DOM order not matching indexes.\n   */\n  var biggestIndex = draggables.reduce(function (max, draggable) {\n    var draggableIndex = parseInt(getAttribute(draggable, customAttributes.draggable.index), 10);\n    return Math.max(max, draggableIndex);\n  }, 0);\n  return {\n    droppableId: droppableId,\n    index: biggestIndex + 1\n  };\n}\n\n/**\n * Derives a `DraggableLocation` (`react-beautiful-dnd`)\n * from a `DragLocation` (`@atlaskit/pragmatic-drag-and-drop`).\n */\nexport function getDraggableLocation(location) {\n  var dropTargets = location.dropTargets;\n\n  // If there are no drop targets then there is no destination.\n  if (dropTargets.length === 0) {\n    return null;\n  }\n\n  // Obtains the innermost drop target.\n  var target = dropTargets[0];\n\n  // If the target is a draggable we can extract its index.\n  if (isDraggableData(target.data)) {\n    return getDraggableLocationFromDraggableData(target.data);\n  }\n\n  // If the target is a droppable, there is no index to extract.\n  // We default to the end of the droppable.\n  if (isDroppableData(target.data)) {\n    return getDraggableLocationFromDroppableData(target.data);\n  }\n\n  // The target is not from the migration layer.\n  return null;\n}\n\n/**\n * Checks if two `DraggableLocation` values are equivalent.\n */\nexport function isSameLocation(a, b) {\n  if ((a === null || a === void 0 ? void 0 : a.droppableId) !== (b === null || b === void 0 ? void 0 : b.droppableId)) {\n    return false;\n  }\n  if ((a === null || a === void 0 ? void 0 : a.index) !== (b === null || b === void 0 ? void 0 : b.index)) {\n    return false;\n  }\n  return true;\n}","import { attributes, customAttributes } from './attributes';\nimport { findElementAll } from './find-element';\nexport function findAllDraggables(_ref) {\n  var droppableId = _ref.droppableId,\n    contextId = _ref.contextId;\n  return findElementAll({\n    attribute: attributes.draggable.contextId,\n    value: contextId\n  }, {\n    attribute: customAttributes.draggable.droppableId,\n    value: droppableId\n  });\n}","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState } from 'react';\n\n// eslint-disable-next-line import/no-extraneous-dependencies\n\nfunction createDroppableRegistry() {\n  var droppableMap = new Map();\n  var getEntry = function getEntry(_ref) {\n    var _droppableMap$get;\n    var droppableId = _ref.droppableId;\n    return (_droppableMap$get = droppableMap.get(droppableId)) !== null && _droppableMap$get !== void 0 ? _droppableMap$get : null;\n  };\n  var updateListener = null;\n  var setUpdateListener = function setUpdateListener(listener) {\n    updateListener = listener;\n  };\n  var register = function register(entry) {\n    var _updateListener;\n    droppableMap.set(entry.droppableId, entry);\n    (_updateListener = updateListener) === null || _updateListener === void 0 || _updateListener(entry);\n    return function () {\n      droppableMap.delete(entry.droppableId);\n    };\n  };\n  return {\n    getEntry: getEntry,\n    register: register,\n    setUpdateListener: setUpdateListener\n  };\n}\nexport function useDroppableRegistry() {\n  var _useState = useState(createDroppableRegistry),\n    _useState2 = _slicedToArray(_useState, 1),\n    droppableRegistry = _useState2[0];\n  return droppableRegistry;\n}","/** Create a new combined function that will call all the provided functions */\nexport function combine() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n  return function cleanup() {\n    fns.forEach(function (fn) {\n      return fn();\n    });\n  };\n}","// pulling this into a separate file so adapter(s) that don't\n// need the honey pot can pay as little as possible for it.\nexport var honeyPotDataAttribute = 'data-pdnd-honey-pot';","import { honeyPotDataAttribute } from './honey-pot-data-attribute';\nexport function isHoneyPotElement(target) {\n  return target instanceof Element && target.hasAttribute(honeyPotDataAttribute);\n}","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { isHoneyPotElement } from './is-honey-pot-element';\nexport function getElementFromPointWithoutHoneypot(client) {\n  // eslint-disable-next-line no-restricted-syntax\n  var _document$elementsFro = document.elementsFromPoint(client.x, client.y),\n    _document$elementsFro2 = _slicedToArray(_document$elementsFro, 2),\n    top = _document$elementsFro2[0],\n    second = _document$elementsFro2[1];\n  if (!top) {\n    return null;\n  }\n  if (isHoneyPotElement(top)) {\n    return second !== null && second !== void 0 ? second : null;\n  }\n  return top;\n}","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { bind, bindAll } from 'bind-event-listener';\nimport { maxZIndex } from '../util/max-z-index';\nimport { honeyPotDataAttribute } from './honey-pot-data-attribute';\nvar honeyPotSize = 2;\nvar halfHoneyPotSize = honeyPotSize / 2;\n\n/**\n * `clientX` and `clientY` can be in sub pixels (eg `2.332`)\n * However, browser hitbox testing is commonly do to the closest pixel.\n *\n *  https://issues.chromium.org/issues/40940531\n *\n * To be sure that the honey pot will be over the `client` position,\n * we `.floor()` `clientX` and`clientY` and then make it `2px` in size.\n **/\nfunction floorToClosestPixel(point) {\n  return {\n    x: Math.floor(point.x),\n    y: Math.floor(point.y)\n  };\n}\n\n/**\n * We want to make sure the honey pot sits around the users position.\n * This seemed to be the most resilient while testing.\n */\nfunction pullBackByHalfHoneyPotSize(point) {\n  return {\n    x: point.x - halfHoneyPotSize,\n    y: point.y - halfHoneyPotSize\n  };\n}\n\n/**\n * Prevent the honey pot from changing the window size.\n * This is super unlikely to occur, but just being safe.\n */\nfunction preventGoingBackwardsOffScreen(point) {\n  return {\n    x: Math.max(point.x, 0),\n    y: Math.max(point.y, 0)\n  };\n}\n\n/**\n * Prevent the honey pot from changing the window size.\n * This is super unlikely to occur, but just being safe.\n */\nfunction preventGoingForwardsOffScreen(point) {\n  return {\n    x: Math.min(point.x, window.innerWidth - honeyPotSize),\n    y: Math.min(point.y, window.innerHeight - honeyPotSize)\n  };\n}\n\n/**\n * Create a `2x2` `DOMRect` around the `client` position\n */\nfunction getHoneyPotRectFor(_ref) {\n  var client = _ref.client;\n  var point = preventGoingForwardsOffScreen(preventGoingBackwardsOffScreen(pullBackByHalfHoneyPotSize(floorToClosestPixel(client))));\n\n  // When debugging, it is helpful to\n  // make this element a bit bigger\n  return DOMRect.fromRect({\n    x: point.x,\n    y: point.y,\n    width: honeyPotSize,\n    height: honeyPotSize\n  });\n}\nfunction getRectStyles(_ref2) {\n  var clientRect = _ref2.clientRect;\n  return {\n    left: \"\".concat(clientRect.left, \"px\"),\n    top: \"\".concat(clientRect.top, \"px\"),\n    width: \"\".concat(clientRect.width, \"px\"),\n    height: \"\".concat(clientRect.height, \"px\")\n  };\n}\nfunction isWithin(_ref3) {\n  var client = _ref3.client,\n    clientRect = _ref3.clientRect;\n  return (\n    // is within horizontal bounds\n    client.x >= clientRect.x && client.x <= clientRect.x + clientRect.width &&\n    // is within vertical bounds\n    client.y >= clientRect.y && client.y <= clientRect.y + clientRect.height\n  );\n}\n/**\n * The honey pot fix is designed to get around a painful bug in all browsers.\n *\n * [Overview](https://www.youtube.com/watch?v=udE9qbFTeQg)\n *\n * **Background**\n *\n * When a drag starts, browsers incorrectly think that the users pointer is\n * still depressed where the drag started. Any element that goes under this position\n * will be entered into, causing `\"mouseenter\"` events and `\":hover\"` styles to be applied.\n *\n * _This is a violation of the spec_\n *\n * > \"From the moment that the user agent is to initiate the drag-and-drop operation,\n * > until the end \tof the drag-and-drop operation, device input events\n * > (e.g. mouse and keyboard events) must be suppressed.\"\n * >\n * > - https://html.spec.whatwg.org/multipage/dnd.html#drag-and-drop-processing-model\n *\n * _Some impacts_\n *\n * - `\":hover\"` styles being applied where they shouldn't (looks messy)\n * - components such as tooltips responding to `\"mouseenter\"` can show during a drag,\n *   and on an element the user isn't even over\n *\n * Bug: https://issues.chromium.org/issues/41129937\n *\n * **Honey pot fix**\n *\n * 1. Create an element where the browser thinks the depressed pointer is\n *    to absorb the incorrect pointer events\n * 2. Remove that element when it is no longer needed\n */\nfunction mountHoneyPot(_ref4) {\n  var initial = _ref4.initial;\n  var element = document.createElement('div');\n  element.setAttribute(honeyPotDataAttribute, 'true');\n\n  // can shift during the drag thanks to Firefox\n  var clientRect = getHoneyPotRectFor({\n    client: initial\n  });\n  Object.assign(element.style, _objectSpread(_objectSpread({\n    // Setting a background color explicitly to avoid any inherited styles.\n    // Looks like this could be `opacity: 0`, but worried that _might_\n    // cause the element to be ignored on some platforms.\n    // When debugging, set backgroundColor to something like \"red\".\n    backgroundColor: 'transparent',\n    position: 'fixed',\n    // Being explicit to avoid inheriting styles\n    padding: 0,\n    margin: 0,\n    boxSizing: 'border-box'\n  }, getRectStyles({\n    clientRect: clientRect\n  })), {}, {\n    // We want this element to absorb pointer events,\n    // it's kind of the whole point \n    pointerEvents: 'auto',\n    // Want to make sure the honey pot is top of everything else.\n    // Don't need to worry about native drag previews, as they will\n    // have been rendered (and removed) before the honey pot is rendered\n    zIndex: maxZIndex\n  }));\n  document.body.appendChild(element);\n\n  /**\n   *   In firefox we can get `\"pointermove\"` events after the drag\n   * has started, which is a spec violation.\n   * The final `\"pointermove\"` will reveal where the \"depressed\" position\n   * is for our honey pot fix.\n   */\n  var unbindPointerMove = bind(window, {\n    type: 'pointermove',\n    listener: function listener(event) {\n      var client = {\n        x: event.clientX,\n        y: event.clientY\n      };\n      clientRect = getHoneyPotRectFor({\n        client: client\n      });\n      Object.assign(element.style, getRectStyles({\n        clientRect: clientRect\n      }));\n    },\n    // using capture so we are less likely to be impacted by event stopping\n    options: {\n      capture: true\n    }\n  });\n  return function finish(_ref5) {\n    var current = _ref5.current;\n    // Don't need this any more\n    unbindPointerMove();\n\n    // If the user is hover the honey pot, we remove it\n    // so that the user can continue to interact with the page normally.\n    if (isWithin({\n      client: current,\n      clientRect: clientRect\n    })) {\n      element.remove();\n      return;\n    }\n    function cleanup() {\n      unbindPostDragEvents();\n      element.remove();\n    }\n    var unbindPostDragEvents = bindAll(window, [{\n      type: 'pointerdown',\n      listener: cleanup\n    }, {\n      type: 'pointermove',\n      listener: cleanup\n    }, {\n      type: 'focusin',\n      listener: cleanup\n    }, {\n      type: 'focusout',\n      listener: cleanup\n    },\n    // a 'pointerdown' should happen before 'dragstart', but just being super safe\n    {\n      type: 'dragstart',\n      listener: cleanup\n    },\n    // if the user has dragged something out of the window\n    // and then is dragging something back into the window\n    // the first events we will see are \"dragenter\" (and then \"dragover\").\n    // So if we see any of these we need to clear the post drag fix.\n    {\n      type: 'dragenter',\n      listener: cleanup\n    }, {\n      type: 'dragover',\n      listener: cleanup\n    }\n\n    // Not adding a \"wheel\" event listener, as \"wheel\" by itself does not\n    // resolve the bug.\n    ], {\n      // Using `capture` so less likely to be impacted by other code stopping events\n      capture: true\n    });\n  };\n}\nexport function makeHoneyPotFix() {\n  var latestPointerMove = null;\n  function bindEvents() {\n    // For sanity, only collecting this value from when events are first bound.\n    // This prevents the case where a super old \"pointermove\" could be used\n    // from a prior interaction.\n    latestPointerMove = null;\n    return bind(window, {\n      type: 'pointermove',\n      listener: function listener(event) {\n        latestPointerMove = {\n          x: event.clientX,\n          y: event.clientY\n        };\n      },\n      // listening for pointer move in capture phase\n      // so we are less likely to be impacted by events being stopped.\n      options: {\n        capture: true\n      }\n    });\n  }\n  function getOnPostDispatch() {\n    var finish = null;\n    return function onPostEvent(_ref6) {\n      var eventName = _ref6.eventName,\n        payload = _ref6.payload;\n      // We are adding the honey pot `onDragStart` so we don't\n      // impact the creation of the native drag preview.\n      if (eventName === 'onDragStart') {\n        var _latestPointerMove;\n        var input = payload.location.initial.input;\n\n        // Sometimes there will be no latest \"pointermove\" (eg iOS).\n        // In which case, we use the start position of the drag.\n        var initial = (_latestPointerMove = latestPointerMove) !== null && _latestPointerMove !== void 0 ? _latestPointerMove : {\n          x: input.clientX,\n          y: input.clientY\n        };\n\n        // Don't need to defensively call `finish()` as `onDrop` from\n        // one interaction is guaranteed to be called before `onDragStart`\n        // of the next.\n        finish = mountHoneyPot({\n          initial: initial\n        });\n      }\n      if (eventName === 'onDrop') {\n        var _finish;\n        var _input = payload.location.current.input;\n        (_finish = finish) === null || _finish === void 0 || _finish({\n          current: {\n            x: _input.clientX,\n            y: _input.clientY\n          }\n        });\n        finish = null;\n        // this interaction is finished, we want to use\n        // the latest \"pointermove\" for each interaction\n        latestPointerMove = null;\n      }\n    };\n  }\n  return {\n    bindEvents: bindEvents,\n    getOnPostDispatch: getOnPostDispatch\n  };\n}","/** Provide a function that you only ever want to be called a single time */\nexport function once(fn) {\n  var cache = null;\n  return function wrapped() {\n    if (!cache) {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      var result = fn.apply(this, args);\n      cache = {\n        result: result\n      };\n    }\n    return cache.result;\n  };\n}","import { once } from '../public-utils/once';\n\n// using `cache` as our `isFirefox()` result will not change in a browser\n\n/**\n * Returns `true` if a `Firefox` browser\n * */\nexport var isFirefox = once(function isFirefox() {\n  if (process.env.NODE_ENV === 'test') {\n    return false;\n  }\n  return navigator.userAgent.includes('Firefox');\n});","import { once } from '../public-utils/once';\n\n// using `cache` as our `isSafari()` result will not change in a browser\n\n/**\n * Returns `true` if a `Safari` browser.\n * Returns `true` if the browser is running on iOS (they are all Safari).\n * */\nexport var isSafari = once(function isSafari() {\n  if (process.env.NODE_ENV === 'test') {\n    return false;\n  }\n  var _navigator = navigator,\n    userAgent = _navigator.userAgent;\n  return userAgent.includes('AppleWebKit') && !userAgent.includes('Chrome');\n});","import { bindAll } from 'bind-event-listener';\nimport { isSafari } from '../is-safari';\n\n/* For \"dragenter\" events, the browser should set `relatedTarget` to the previous element.\n * For external drag operations, our first \"dragenter\" event should have a `event.relatedTarget` of `null`.\n *\n *  Unfortunately in Safari `event.relatedTarget` is *always* set to `null`\n *  Safari bug: https://bugs.webkit.org/show_bug.cgi?id=242627\n *  To work around this we count \"dragenter\" and \"dragleave\" events */\n\n// Using symbols for event properties so we don't clash with\n// anything on the `event` object\nvar symbols = {\n  isLeavingWindow: Symbol('leaving'),\n  isEnteringWindow: Symbol('entering')\n};\nexport function isEnteringWindowInSafari(_ref) {\n  var dragEnter = _ref.dragEnter;\n  if (!isSafari()) {\n    return false;\n  }\n  return dragEnter.hasOwnProperty(symbols.isEnteringWindow);\n}\nexport function isLeavingWindowInSafari(_ref2) {\n  var dragLeave = _ref2.dragLeave;\n  if (!isSafari()) {\n    return false;\n  }\n  return dragLeave.hasOwnProperty(symbols.isLeavingWindow);\n}\n(function fixSafari() {\n  // Don't do anything when server side rendering\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  // rather than checking the userAgent for \"jsdom\" we can do this check\n  // so that the check will be removed completely in production code\n  if (process.env.NODE_ENV === 'test') {\n    return;\n  }\n  if (!isSafari()) {\n    return;\n  }\n  function getInitialState() {\n    return {\n      enterCount: 0,\n      isOverWindow: false\n    };\n  }\n  var state = getInitialState();\n  function resetState() {\n    state = getInitialState();\n  }\n\n  // These event listeners are bound _forever_ and _never_ removed\n  // We don't bother cleaning up these event listeners (for now)\n  // as this workaround is only for Safari\n\n  // This is how the event count works:\n  //\n  // lift (+1 enterCount)\n  // - dragstart(draggable) [enterCount: 0]\n  // - dragenter(draggable) [enterCount: 1]\n  // leaving draggable (+0 enterCount)\n  // - dragenter(document.body) [enterCount: 2]\n  // - dragleave(draggable) [enterCount: 1]\n  // leaving window (-1 enterCount)\n  // - dragleave(document.body) [enterCount: 0] {leaving the window}\n\n  // Things to note:\n  // - dragenter and dragleave bubble\n  // - the first dragenter when entering a window might not be on `window`\n  //   - it could be on an element that is pressed up against the window\n  //   - (so we cannot rely on `event.target` values)\n\n  bindAll(window, [{\n    type: 'dragstart',\n    listener: function listener() {\n      state.enterCount = 0;\n      // drag start occurs in the source window\n      state.isOverWindow = true;\n      // When a drag first starts it will also trigger a \"dragenter\" on the draggable element\n    }\n  }, {\n    type: 'drop',\n    listener: resetState\n  }, {\n    type: 'dragend',\n    listener: resetState\n  }, {\n    type: 'dragenter',\n    listener: function listener(event) {\n      if (!state.isOverWindow && state.enterCount === 0) {\n        // Patching the `event` object\n        // The `event` object is shared with all event listeners for the event\n        // @ts-expect-error: adding property to the event object\n        event[symbols.isEnteringWindow] = true;\n      }\n      state.isOverWindow = true;\n      state.enterCount++;\n    }\n  }, {\n    type: 'dragleave',\n    listener: function listener(event) {\n      state.enterCount--;\n      if (state.isOverWindow && state.enterCount === 0) {\n        // Patching the `event` object as it is shared with all event listeners\n        // The `event` object is shared with all event listeners for the event\n        // @ts-expect-error: adding property to the event object\n        event[symbols.isLeavingWindow] = true;\n        state.isOverWindow = false;\n      }\n    }\n  }],\n  // using `capture: true` so that adding event listeners\n  // in bubble phase will have the correct symbols\n  {\n    capture: true\n  });\n})();","import { isFirefox } from '../is-firefox';\nimport { isSafari } from '../is-safari';\nimport { isLeavingWindowInSafari } from './count-events-for-safari';\nimport { isFromAnotherWindow } from './is-from-another-window';\nexport function isLeavingWindow(_ref) {\n  var dragLeave = _ref.dragLeave;\n  var type = dragLeave.type,\n    relatedTarget = dragLeave.relatedTarget;\n  if (type !== 'dragleave') {\n    return false;\n  }\n  if (isSafari()) {\n    return isLeavingWindowInSafari({\n      dragLeave: dragLeave\n    });\n  }\n\n  // Standard check: if going to `null` we are leaving the `window`\n  if (relatedTarget == null) {\n    return true;\n  }\n\n  /**\n   *  Exception: `iframe` in Firefox (`125.0`)\n   *\n   * Case 1: parent `window`  child `iframe`\n   * `dragLeave.relatedTarget` is element _inside_ the child `iframe`\n   * (foreign element)\n   *\n   * Case 2: child `iframe`  parent `window`\n   * `dragLeave.relatedTarget` is the `iframe` in the parent `window`\n   * (foreign element)\n   */\n\n  if (isFirefox()) {\n    return isFromAnotherWindow(relatedTarget);\n  }\n\n  /**\n   *  Exception: `iframe` in Chrome (`124.0`)\n   *\n   * Case 1: parent `window`  child `iframe`\n   * `dragLeave.relatedTarget` is the `iframe` in the parent `window`\n   *\n   * Case 2: child `iframe`  parent `window`\n   * `dragLeave.relatedTarget` is `null` *(standard check)*\n   */\n\n  // Case 2\n  // Using `instanceof` check as the element will be in the same `window`\n  return relatedTarget instanceof HTMLIFrameElement;\n}","/**\n * Does the `EventTarget` look like a `Node` based on \"duck typing\".\n *\n * Helpful when the `Node` might be outside of the current document\n * so we cannot to an `target instanceof Node` check.\n */\nfunction isNodeLike(target) {\n  return 'nodeName' in target;\n}\n\n/**\n * Is an `EventTarget` a `Node` from another `window`?\n */\nexport function isFromAnotherWindow(eventTarget) {\n  return isNodeLike(eventTarget) && eventTarget.ownerDocument !== document;\n}","export function getBindingsForBrokenDrags(_ref) {\n  var onDragEnd = _ref.onDragEnd;\n  return [\n  // ## Detecting drag ending for removed draggables\n  //\n  // If a draggable element is removed during a drag and the user drops:\n  // 1. if over a valid drop target: we get a \"drop\" event to know the drag is finished\n  // 2. if not over a valid drop target (or cancelled): we get nothing\n  // The \"dragend\" event will not fire on the source draggable if it has been\n  // removed from the DOM.\n  // So we need to figure out if a drag operation has finished by looking at other events\n  // We can do this by looking at other events\n\n  // ### First detection: \"pointermove\" events\n\n  // 1. \"pointermove\" events cannot fire during a drag and drop operation\n  // according to the spec. So if we get a \"pointermove\" it means that\n  // the drag and drop operations has finished. So if we get a \"pointermove\"\n  // we know that the drag is over\n  // 2.  Drag and drop operations are _supposed_ to suppress\n  // other pointer events. However, firefox will allow a few\n  // pointer event to get through after a drag starts.\n  // The most I've seen is 3\n  {\n    type: 'pointermove',\n    listener: function () {\n      var callCount = 0;\n      return function listener() {\n        // Using 20 as it is far bigger than the most observed (3)\n        if (callCount < 20) {\n          callCount++;\n          return;\n        }\n        onDragEnd();\n      };\n    }()\n  },\n  // ### Second detection: \"pointerdown\" events\n\n  // If we receive this event then we know that a drag operation has finished\n  // and potentially another one is about to start.\n  // Note: `pointerdown` fires on all browsers / platforms before \"dragstart\"\n  {\n    type: 'pointerdown',\n    listener: onDragEnd\n  }];\n}","export function getInput(event) {\n  return {\n    altKey: event.altKey,\n    button: event.button,\n    buttons: event.buttons,\n    ctrlKey: event.ctrlKey,\n    metaKey: event.metaKey,\n    shiftKey: event.shiftKey,\n    clientX: event.clientX,\n    clientY: event.clientY,\n    pageX: event.pageX,\n    pageY: event.pageY\n  };\n}","import rafSchd from 'raf-schd';\nvar scheduleOnDrag = rafSchd(function (fn) {\n  return fn();\n});\nvar dragStart = function () {\n  var scheduled = null;\n  function schedule(fn) {\n    var frameId = requestAnimationFrame(function () {\n      scheduled = null;\n      fn();\n    });\n    scheduled = {\n      frameId: frameId,\n      fn: fn\n    };\n  }\n  function flush() {\n    if (scheduled) {\n      cancelAnimationFrame(scheduled.frameId);\n      scheduled.fn();\n      scheduled = null;\n    }\n  }\n  return {\n    schedule: schedule,\n    flush: flush\n  };\n}();\nexport function makeDispatch(_ref) {\n  var source = _ref.source,\n    initial = _ref.initial,\n    dispatchEvent = _ref.dispatchEvent;\n  var previous = {\n    dropTargets: []\n  };\n  function safeDispatch(args) {\n    dispatchEvent(args);\n    previous = {\n      dropTargets: args.payload.location.current.dropTargets\n    };\n  }\n  var dispatch = {\n    start: function start(_ref2) {\n      var nativeSetDragImage = _ref2.nativeSetDragImage;\n      // Ensuring that both `onGenerateDragPreview` and `onDragStart` get the same location.\n      // We do this so that `previous` is`[]` in `onDragStart` (which is logical)\n      var location = {\n        current: initial,\n        previous: previous,\n        initial: initial\n      };\n      // a `onGenerateDragPreview` does _not_ add another entry for `previous`\n      // onDragPreview\n      safeDispatch({\n        eventName: 'onGenerateDragPreview',\n        payload: {\n          source: source,\n          location: location,\n          nativeSetDragImage: nativeSetDragImage\n        }\n      });\n      dragStart.schedule(function () {\n        safeDispatch({\n          eventName: 'onDragStart',\n          payload: {\n            source: source,\n            location: location\n          }\n        });\n      });\n    },\n    dragUpdate: function dragUpdate(_ref3) {\n      var current = _ref3.current;\n      dragStart.flush();\n      scheduleOnDrag.cancel();\n      safeDispatch({\n        eventName: 'onDropTargetChange',\n        payload: {\n          source: source,\n          location: {\n            initial: initial,\n            previous: previous,\n            current: current\n          }\n        }\n      });\n    },\n    drag: function drag(_ref4) {\n      var current = _ref4.current;\n      scheduleOnDrag(function () {\n        dragStart.flush();\n        var location = {\n          initial: initial,\n          previous: previous,\n          current: current\n        };\n        safeDispatch({\n          eventName: 'onDrag',\n          payload: {\n            source: source,\n            location: location\n          }\n        });\n      });\n    },\n    drop: function drop(_ref5) {\n      var current = _ref5.current,\n        updatedSourcePayload = _ref5.updatedSourcePayload;\n      dragStart.flush();\n      scheduleOnDrag.cancel();\n      safeDispatch({\n        eventName: 'onDrop',\n        payload: {\n          source: updatedSourcePayload !== null && updatedSourcePayload !== void 0 ? updatedSourcePayload : source,\n          location: {\n            current: current,\n            previous: previous,\n            initial: initial\n          }\n        }\n      });\n    }\n  };\n  return dispatch;\n}","var rafSchd = function rafSchd(fn) {\n  var lastArgs = [];\n  var frameId = null;\n\n  var wrapperFn = function wrapperFn() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    lastArgs = args;\n\n    if (frameId) {\n      return;\n    }\n\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      fn.apply(void 0, lastArgs);\n    });\n  };\n\n  wrapperFn.cancel = function () {\n    if (!frameId) {\n      return;\n    }\n\n    cancelAnimationFrame(frameId);\n    frameId = null;\n  };\n\n  return wrapperFn;\n};\n\nexport default rafSchd;\n","import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport { bindAll } from 'bind-event-listener';\nimport { getElementFromPointWithoutHoneypot } from '../honey-pot-fix/get-element-from-point-without-honey-pot';\nimport { isHoneyPotElement } from '../honey-pot-fix/is-honey-pot-element';\nimport { isLeavingWindow } from '../util/changing-window/is-leaving-window';\nimport { getBindingsForBrokenDrags } from '../util/detect-broken-drag';\nimport { getInput } from '../util/get-input';\nimport { makeDispatch } from './dispatch-consumer-event';\nvar globalState = {\n  isActive: false\n};\nfunction canStart() {\n  return !globalState.isActive;\n}\nfunction getNativeSetDragImage(event) {\n  if (event.dataTransfer) {\n    // need to use `.bind` as `setDragImage` is required\n    // to be run with `event.dataTransfer` as the \"this\" context\n    return event.dataTransfer.setDragImage.bind(event.dataTransfer);\n  }\n  return null;\n}\nfunction hasHierarchyChanged(_ref) {\n  var current = _ref.current,\n    next = _ref.next;\n  if (current.length !== next.length) {\n    return true;\n  }\n  // not checking stickiness, data or dropEffect,\n  // just whether the hierarchy has changed\n  for (var i = 0; i < current.length; i++) {\n    if (current[i].element !== next[i].element) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction start(_ref2) {\n  var event = _ref2.event,\n    dragType = _ref2.dragType,\n    getDropTargetsOver = _ref2.getDropTargetsOver,\n    dispatchEvent = _ref2.dispatchEvent;\n  if (!canStart()) {\n    return;\n  }\n  var initial = getStartLocation({\n    event: event,\n    dragType: dragType,\n    getDropTargetsOver: getDropTargetsOver\n  });\n  globalState.isActive = true;\n  var state = {\n    current: initial\n  };\n\n  // Setting initial drop effect for the drag\n  setDropEffectOnEvent({\n    event: event,\n    current: initial.dropTargets\n  });\n  var dispatch = makeDispatch({\n    source: dragType.payload,\n    dispatchEvent: dispatchEvent,\n    initial: initial\n  });\n  function updateState(next) {\n    // only looking at whether hierarchy has changed to determine whether something as 'changed'\n    var hasChanged = hasHierarchyChanged({\n      current: state.current.dropTargets,\n      next: next.dropTargets\n    });\n\n    // Always updating the state to include latest data, dropEffect and stickiness\n    // Only updating consumers if the hierarchy has changed in some way\n    // Consumers can get the latest data by using `onDrag`\n    state.current = next;\n    if (hasChanged) {\n      dispatch.dragUpdate({\n        current: state.current\n      });\n    }\n  }\n  function onUpdateEvent(event) {\n    var input = getInput(event);\n\n    // If we are over the honey pot, we need to get the element\n    // that the user would have been over if not for the honey pot\n    var target = isHoneyPotElement(event.target) ? getElementFromPointWithoutHoneypot({\n      x: input.clientX,\n      y: input.clientY\n    }) : event.target;\n    var nextDropTargets = getDropTargetsOver({\n      target: target,\n      input: input,\n      source: dragType.payload,\n      current: state.current.dropTargets\n    });\n    if (nextDropTargets.length) {\n      //  must call `event.preventDefault()` to allow a browser drop to occur\n      event.preventDefault();\n      setDropEffectOnEvent({\n        event: event,\n        current: nextDropTargets\n      });\n    }\n    updateState({\n      dropTargets: nextDropTargets,\n      input: input\n    });\n  }\n  function cancel() {\n    // The spec behaviour is that when a drag is cancelled, or when dropping on no drop targets,\n    // a \"dragleave\" event is fired on the active drop target before a \"dragend\" event.\n    // We are replicating that behaviour in `cancel` if there are any active drop targets to\n    // ensure consistent behaviour.\n    //\n    // Note: When cancelling, or dropping on no drop targets, a \"dragleave\" event\n    // will have already cleared the dropTargets to `[]` (as that particular \"dragleave\" has a `relatedTarget` of `null`)\n\n    if (state.current.dropTargets.length) {\n      updateState({\n        dropTargets: [],\n        input: state.current.input\n      });\n    }\n    dispatch.drop({\n      current: state.current,\n      updatedSourcePayload: null\n    });\n    finish();\n  }\n  function finish() {\n    globalState.isActive = false;\n    unbindEvents();\n  }\n  var unbindEvents = bindAll(window, [{\n    //  Note: we are repurposing the `dragover` event as our `drag` event\n    // this is because firefox does not publish pointer coordinates during\n    // a `drag` event, but does for every other type of drag event\n    // `dragover` fires on all elements that are being dragged over\n    // Because we are binding to `window` - our `dragover` is effectively the same as a `drag`\n    // \n    type: 'dragover',\n    listener: function listener(event) {\n      // We need to regularly calculate the drop targets in order to allow:\n      //  - dynamic `canDrop()` checks\n      //  - rapid updating `getData()` calls to attach data in response to user input (eg for edge detection)\n      // Sadly we cannot schedule inspecting changes resulting from this event\n      // we need to be able to conditionally cancel the event with `event.preventDefault()`\n      // to enable the correct native drop experience.\n\n      // 1. check to see if anything has changed\n      onUpdateEvent(event);\n\n      // 2. let consumers know a move has occurred\n      // This will include the latest 'input' values\n      dispatch.drag({\n        current: state.current\n      });\n    }\n  }, {\n    type: 'dragenter',\n    listener: onUpdateEvent\n  }, {\n    type: 'dragleave',\n    listener: function listener(event) {\n      if (!isLeavingWindow({\n        dragLeave: event\n      })) {\n        return;\n      }\n\n      /**\n       * At this point we don't know if a drag is being cancelled,\n       * or if a drag is leaving the `window`.\n       *\n       * Both have:\n       *   1. \"dragleave\" (with `relatedTarget: null`)\n       *   2. \"dragend\" (a \"dragend\" can occur when outside the `window`)\n       *\n       * **Clearing drop targets**\n       *\n       * For either case we are clearing the the drop targets\n       *\n       * - cancelling: we clear drop targets in `\"dragend\"` anyway\n       * - leaving the `window`: we clear the drop targets (to clear stickiness)\n       *\n       * **Leaving the window and finishing the drag**\n       *\n       * _internal drags_\n       *\n       * - The drag continues when the user is outside the `window`\n       *   and can resume if the user drags back over the `window`,\n       *   or end when the user drops in an external `window`.\n       * - We will get a `\"dragend\"`, or we can listen for other\n       *   events to determine the drag is finished when the user re-enters the `window`).\n       *\n       * _external drags_\n       *\n       * - We conclude the drag operation.\n       * - We have no idea if the user will drag back over the `window`,\n       *   or if the drag ends elsewhere.\n       * - We will create a new drag if the user re-enters the `window`.\n       *\n       * **Not updating `input`**\n       *\n       *  Bug[Chrome] the final `\"dragleave\"` has default input values (eg `clientX == 0`)\n       * Workaround: intentionally not updating `input` in \"dragleave\"\n       * rather than the users current input values\n       * - [Conversation](https://twitter.com/alexandereardon/status/1642697633864241152)\n       * - [Bug](https://bugs.chromium.org/p/chromium/issues/detail?id=1429937)\n       **/\n\n      updateState({\n        input: state.current.input,\n        dropTargets: []\n      });\n      if (dragType.startedFrom === 'external') {\n        cancel();\n      }\n    }\n  }, {\n    // A \"drop\" can only happen if the browser allowed the drop\n    type: 'drop',\n    listener: function listener(event) {\n      // Capture the final input.\n      // We are capturing the final `input` for the\n      // most accurate honey pot experience\n      state.current = {\n        dropTargets: state.current.dropTargets,\n        input: getInput(event)\n      };\n\n      /** If there are no drop targets, then we will get\n       * a \"drop\" event if:\n       * - `preventUnhandled()` is being used\n       * - there is an unmanaged drop target (eg another library)\n       * In these cases, it's up to the consumer\n       * to handle the drop if it's not over one of our drop targets\n       * - `preventUnhandled()` will cancel the \"drop\"\n       * - unmanaged drop targets can handle the \"drop\" how they want to\n       * We won't call `event.preventDefault()` in this call path */\n\n      if (!state.current.dropTargets.length) {\n        cancel();\n        return;\n      }\n      event.preventDefault();\n\n      // applying the latest drop effect to the event\n      setDropEffectOnEvent({\n        event: event,\n        current: state.current.dropTargets\n      });\n      dispatch.drop({\n        current: state.current,\n        // When dropping something native, we need to extract the latest\n        // `.items` from the \"drop\" event as it is now accessible\n        updatedSourcePayload: dragType.type === 'external' ? dragType.getDropPayload(event) : null\n      });\n      finish();\n    }\n  }, {\n    // \"dragend\" fires when on the drag source (eg a draggable element)\n    // when the drag is finished.\n    // \"dragend\" will fire after \"drop\" (if there was a successful drop)\n    // \"dragend\" does not fire if the draggable source has been removed during the drag\n    // or for external drag sources (eg files)\n\n    // This \"dragend\" listener will not fire if there was a successful drop\n    // as we will have already removed the event listener\n\n    type: 'dragend',\n    listener: function listener(event) {\n      // In firefox, the position of the \"dragend\" event can\n      // be a bit different to the last \"dragover\" event.\n      // Updating the input so we can get the best possible\n      // information for the honey pot.\n      state.current = {\n        dropTargets: state.current.dropTargets,\n        input: getInput(event)\n      };\n      cancel();\n    }\n  }].concat(_toConsumableArray(getBindingsForBrokenDrags({\n    onDragEnd: cancel\n  }))),\n  // Once we have started a managed drag operation it is important that we see / own all drag events\n  // We got one adoption bug pop up where some code was stopping (`event.stopPropagation()`)\n  // all \"drop\" events in the bubble phase on the `document.body`.\n  // This meant that we never saw the \"drop\" event.\n  {\n    capture: true\n  });\n  dispatch.start({\n    nativeSetDragImage: getNativeSetDragImage(event)\n  });\n}\nfunction setDropEffectOnEvent(_ref3) {\n  var _current$;\n  var event = _ref3.event,\n    current = _ref3.current;\n  // setting the `dropEffect` to be the innerMost drop targets dropEffect\n  var innerMost = (_current$ = current[0]) === null || _current$ === void 0 ? void 0 : _current$.dropEffect;\n  if (innerMost != null && event.dataTransfer) {\n    event.dataTransfer.dropEffect = innerMost;\n  }\n}\nfunction getStartLocation(_ref4) {\n  var event = _ref4.event,\n    dragType = _ref4.dragType,\n    getDropTargetsOver = _ref4.getDropTargetsOver;\n  var input = getInput(event);\n\n  // When dragging from outside of the browser,\n  // the drag is not being sourced from any local drop targets\n  if (dragType.startedFrom === 'external') {\n    return {\n      input: input,\n      dropTargets: []\n    };\n  }\n  var dropTargets = getDropTargetsOver({\n    input: input,\n    source: dragType.payload,\n    target: event.target,\n    current: []\n  });\n  return {\n    input: input,\n    dropTargets: dropTargets\n  };\n}\nexport var lifecycle = {\n  canStart: canStart,\n  start: start\n};","// Extending `Map` to allow us to link Key and Values together\n\nvar ledger = new Map();\nfunction registerUsage(_ref) {\n  var typeKey = _ref.typeKey,\n    mount = _ref.mount;\n  var entry = ledger.get(typeKey);\n  if (entry) {\n    entry.usageCount++;\n    return entry;\n  }\n  var initial = {\n    typeKey: typeKey,\n    unmount: mount(),\n    usageCount: 1\n  };\n  ledger.set(typeKey, initial);\n  return initial;\n}\nexport function register(args) {\n  var entry = registerUsage(args);\n  return function unregister() {\n    entry.usageCount--;\n    if (entry.usageCount > 0) {\n      return;\n    }\n    // Only a single usage left, remove it\n    entry.unmount();\n    ledger.delete(args.typeKey);\n  };\n}","export function addAttribute(element, _ref) {\n  var attribute = _ref.attribute,\n    value = _ref.value;\n  element.setAttribute(attribute, value);\n  return function () {\n    return element.removeAttribute(attribute);\n  };\n}","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t.return || t.return(); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nimport { combine } from '../public-utils/combine';\nimport { addAttribute } from '../util/add-attribute';\nfunction copyReverse(array) {\n  return array.slice(0).reverse();\n}\nexport function makeDropTarget(_ref) {\n  var typeKey = _ref.typeKey,\n    defaultDropEffect = _ref.defaultDropEffect;\n  var registry = new WeakMap();\n  var dropTargetDataAtt = \"data-drop-target-for-\".concat(typeKey);\n  var dropTargetSelector = \"[\".concat(dropTargetDataAtt, \"]\");\n  function addToRegistry(args) {\n    registry.set(args.element, args);\n    return function () {\n      return registry.delete(args.element);\n    };\n  }\n  function dropTargetForConsumers(args) {\n    // Guardrail: warn if the draggable element is already registered\n    if (process.env.NODE_ENV !== 'production') {\n      var existing = registry.get(args.element);\n      if (existing) {\n        // eslint-disable-next-line no-console\n        console.warn(\"You have already registered a [\".concat(typeKey, \"] dropTarget on the same element\"), {\n          existing: existing,\n          proposed: args\n        });\n      }\n      if (args.element instanceof HTMLIFrameElement) {\n        // eslint-disable-next-line no-console\n        console.warn(\"\\n            We recommend not registering <iframe> elements as drop targets\\n            as it can result in some strange browser event ordering.\\n          \" // Removing newlines and excessive whitespace\n        .replace(/\\s{2,}/g, ' ').trim());\n      }\n    }\n    return combine(addAttribute(args.element, {\n      attribute: dropTargetDataAtt,\n      value: 'true'\n    }), addToRegistry(args));\n  }\n  function getActualDropTargets(_ref2) {\n    var _args$getData, _args$getData2, _args$getDropEffect, _args$getDropEffect2;\n    var source = _ref2.source,\n      target = _ref2.target,\n      input = _ref2.input,\n      _ref2$result = _ref2.result,\n      result = _ref2$result === void 0 ? [] : _ref2$result;\n    if (target == null) {\n      return result;\n    }\n    if (!(target instanceof Element)) {\n      // For \"text-selection\" drags, the original `target`\n      // is not an `Element`, so we need to start looking from\n      // the parent element\n      if (target instanceof Node) {\n        return getActualDropTargets({\n          source: source,\n          target: target.parentElement,\n          input: input,\n          result: result\n        });\n      }\n\n      // not sure what we are working with,\n      // so we can exit.\n      return result;\n    }\n    var closest = target.closest(dropTargetSelector);\n\n    // Cannot find anything else\n    if (closest == null) {\n      return result;\n    }\n    var args = registry.get(closest);\n\n    // error: something had a dropTargetSelector but we could not\n    // find a match. For now, failing silently\n    if (args == null) {\n      return result;\n    }\n    var feedback = {\n      input: input,\n      source: source,\n      element: args.element\n    };\n\n    // if dropping is not allowed, skip this drop target\n    // and continue looking up the DOM tree\n    if (args.canDrop && !args.canDrop(feedback)) {\n      return getActualDropTargets({\n        source: source,\n        target: args.element.parentElement,\n        input: input,\n        result: result\n      });\n    }\n\n    // calculate our new record\n    var data = (_args$getData = (_args$getData2 = args.getData) === null || _args$getData2 === void 0 ? void 0 : _args$getData2.call(args, feedback)) !== null && _args$getData !== void 0 ? _args$getData : {};\n    var dropEffect = (_args$getDropEffect = (_args$getDropEffect2 = args.getDropEffect) === null || _args$getDropEffect2 === void 0 ? void 0 : _args$getDropEffect2.call(args, feedback)) !== null && _args$getDropEffect !== void 0 ? _args$getDropEffect : defaultDropEffect;\n    var record = {\n      data: data,\n      element: args.element,\n      dropEffect: dropEffect,\n      // we are collecting _actual_ drop targets, so these are\n      // being applied _not_ due to stickiness\n      isActiveDueToStickiness: false\n    };\n    return getActualDropTargets({\n      source: source,\n      target: args.element.parentElement,\n      input: input,\n      // Using bubble ordering. Same ordering as `event.getPath()`\n      result: [].concat(_toConsumableArray(result), [record])\n    });\n  }\n  function notifyCurrent(_ref3) {\n    var eventName = _ref3.eventName,\n      payload = _ref3.payload;\n    var _iterator = _createForOfIteratorHelper(payload.location.current.dropTargets),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var _entry$eventName;\n        var record = _step.value;\n        var entry = registry.get(record.element);\n        var args = _objectSpread(_objectSpread({}, payload), {}, {\n          self: record\n        });\n        entry === null || entry === void 0 || (_entry$eventName = entry[eventName]) === null || _entry$eventName === void 0 || _entry$eventName.call(entry,\n        // I cannot seem to get the types right here.\n        // TS doesn't seem to like that one event can need `nativeSetDragImage`\n        // @ts-expect-error\n        args);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n  var actions = {\n    onGenerateDragPreview: notifyCurrent,\n    onDrag: notifyCurrent,\n    onDragStart: notifyCurrent,\n    onDrop: notifyCurrent,\n    onDropTargetChange: function onDropTargetChange(_ref4) {\n      var payload = _ref4.payload;\n      var isCurrent = new Set(payload.location.current.dropTargets.map(function (record) {\n        return record.element;\n      }));\n      var visited = new Set();\n      var _iterator2 = _createForOfIteratorHelper(payload.location.previous.dropTargets),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _entry$onDropTargetCh;\n          var record = _step2.value;\n          visited.add(record.element);\n          var entry = registry.get(record.element);\n          var isOver = isCurrent.has(record.element);\n          var args = _objectSpread(_objectSpread({}, payload), {}, {\n            self: record\n          });\n          entry === null || entry === void 0 || (_entry$onDropTargetCh = entry.onDropTargetChange) === null || _entry$onDropTargetCh === void 0 || _entry$onDropTargetCh.call(entry, args);\n\n          // if we cannot find the drop target in the current array, then it has been left\n          if (!isOver) {\n            var _entry$onDragLeave;\n            entry === null || entry === void 0 || (_entry$onDragLeave = entry.onDragLeave) === null || _entry$onDragLeave === void 0 || _entry$onDragLeave.call(entry, args);\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      var _iterator3 = _createForOfIteratorHelper(payload.location.current.dropTargets),\n        _step3;\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var _entry$onDropTargetCh2, _entry$onDragEnter;\n          var _record = _step3.value;\n          // already published an update to this drop target\n          if (visited.has(_record.element)) {\n            continue;\n          }\n          // at this point we have a new drop target that is being entered into\n          var _args = _objectSpread(_objectSpread({}, payload), {}, {\n            self: _record\n          });\n          var _entry = registry.get(_record.element);\n          _entry === null || _entry === void 0 || (_entry$onDropTargetCh2 = _entry.onDropTargetChange) === null || _entry$onDropTargetCh2 === void 0 || _entry$onDropTargetCh2.call(_entry, _args);\n          _entry === null || _entry === void 0 || (_entry$onDragEnter = _entry.onDragEnter) === null || _entry$onDragEnter === void 0 || _entry$onDragEnter.call(_entry, _args);\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n  };\n  function dispatchEvent(args) {\n    actions[args.eventName](args);\n  }\n  function getIsOver(_ref5) {\n    var source = _ref5.source,\n      target = _ref5.target,\n      input = _ref5.input,\n      current = _ref5.current;\n    var actual = getActualDropTargets({\n      source: source,\n      target: target,\n      input: input\n    });\n\n    // stickiness is only relevant when we have less\n    // drop targets than we did before\n    if (actual.length >= current.length) {\n      return actual;\n    }\n\n    // less 'actual' drop targets than before,\n    // we need to see if 'stickiness' applies\n\n    // An old drop target will continue to be dropped on if:\n    // 1. it has the same parent\n    // 2. nothing exists in it's previous index\n\n    var lastCaptureOrdered = copyReverse(current);\n    var actualCaptureOrdered = copyReverse(actual);\n    var resultCaptureOrdered = [];\n    for (var index = 0; index < lastCaptureOrdered.length; index++) {\n      var _argsForLast$getIsSti;\n      var last = lastCaptureOrdered[index];\n      var fresh = actualCaptureOrdered[index];\n\n      // if a record is in the new index -> use that\n      // it will have the latest data + dropEffect\n      if (fresh != null) {\n        resultCaptureOrdered.push(fresh);\n        continue;\n      }\n\n      // At this point we have no drop target in the old spot\n      // Check to see if we can use a previous sticky drop target\n\n      // The \"parent\" is the one inside of `resultCaptureOrdered`\n      // (the parent might be a drop target that was sticky)\n      var parent = resultCaptureOrdered[index - 1];\n      var lastParent = lastCaptureOrdered[index - 1];\n\n      // Stickiness is based on parent relationships, so if the parent relationship has change\n      // then we can stop our search\n      if ((parent === null || parent === void 0 ? void 0 : parent.element) !== (lastParent === null || lastParent === void 0 ? void 0 : lastParent.element)) {\n        break;\n      }\n\n      // We need to check whether the old drop target can still be dropped on\n\n      var argsForLast = registry.get(last.element);\n\n      // We cannot drop on a drop target that is no longer mounted\n      if (!argsForLast) {\n        break;\n      }\n      var feedback = {\n        input: input,\n        source: source,\n        element: argsForLast.element\n      };\n\n      // We cannot drop on a drop target that no longer allows being dropped on\n      if (argsForLast.canDrop && !argsForLast.canDrop(feedback)) {\n        break;\n      }\n\n      // We cannot drop on a drop target that is no longer sticky\n      if (!((_argsForLast$getIsSti = argsForLast.getIsSticky) !== null && _argsForLast$getIsSti !== void 0 && _argsForLast$getIsSti.call(argsForLast, feedback))) {\n        break;\n      }\n\n      // Note: intentionally not recollecting `getData()` or `getDropEffect()`\n      // Previous values for `data` and `dropEffect` will be borrowed\n      // This is to prevent things like the 'closest edge' changing when\n      // no longer over a drop target.\n      // We could change our mind on this behaviour in the future\n\n      resultCaptureOrdered.push(_objectSpread(_objectSpread({}, last), {}, {\n        // making it clear to consumers this drop target is active due to stickiness\n        isActiveDueToStickiness: true\n      }));\n    }\n\n    // return bubble ordered result\n    return copyReverse(resultCaptureOrdered);\n  }\n  return {\n    dropTargetForConsumers: dropTargetForConsumers,\n    getIsOver: getIsOver,\n    dispatchEvent: dispatchEvent\n  };\n}","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t.return || t.return(); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nexport function makeMonitor() {\n  var registry = new Set();\n  var dragging = null;\n  function tryAddToActive(monitor) {\n    if (!dragging) {\n      return;\n    }\n    // Monitor is allowed to monitor events if:\n    // 1. It has no `canMonitor` function (default is that a monitor can listen to everything)\n    // 2. `canMonitor` returns true\n    if (!monitor.canMonitor || monitor.canMonitor(dragging.canMonitorArgs)) {\n      dragging.active.add(monitor);\n    }\n  }\n  function monitorForConsumers(args) {\n    // We are giving each `args` a new reference so that you\n    // can create multiple monitors with the same `args`.\n    var entry = _objectSpread({}, args);\n    registry.add(entry);\n\n    // if there is an active drag we need to see if this new monitor is relevant\n    tryAddToActive(entry);\n    return function cleanup() {\n      registry.delete(entry);\n\n      // We need to stop publishing events during a drag to this monitor!\n      if (dragging) {\n        dragging.active.delete(entry);\n      }\n    };\n  }\n  function dispatchEvent(_ref) {\n    var eventName = _ref.eventName,\n      payload = _ref.payload;\n    if (eventName === 'onGenerateDragPreview') {\n      dragging = {\n        canMonitorArgs: {\n          initial: payload.location.initial,\n          source: payload.source\n        },\n        active: new Set()\n      };\n      var _iterator = _createForOfIteratorHelper(registry),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var monitor = _step.value;\n          tryAddToActive(monitor);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n\n    // This should never happen.\n    if (!dragging) {\n      return;\n    }\n\n    // Creating an array from the set _before_ iterating\n    // This is so that monitors added during the current event will not be called.\n    // This behaviour matches native EventTargets where an event listener\n    // cannot add another event listener during an active event to the same\n    // event target in the same event (for us we have a single global event target)\n    var active = Array.from(dragging.active);\n    for (var _i = 0, _active = active; _i < _active.length; _i++) {\n      var _monitor = _active[_i];\n      // A monitor can be removed by another monitor during an event.\n      // We need to check that the monitor is still registered before calling it\n      if (dragging.active.has(_monitor)) {\n        var _monitor$eventName;\n        // @ts-expect-error: I cannot get this type working!\n        (_monitor$eventName = _monitor[eventName]) === null || _monitor$eventName === void 0 || _monitor$eventName.call(_monitor, payload);\n      }\n    }\n    if (eventName === 'onDrop') {\n      dragging.active.clear();\n      dragging = null;\n    }\n  }\n  return {\n    dispatchEvent: dispatchEvent,\n    monitorForConsumers: monitorForConsumers\n  };\n}","import { once } from '../public-utils/once';\n\n// using `cache` as our `isAndroid()` result will not change in a browser\nexport var isAndroid = once(function isAndroid() {\n  return navigator.userAgent.toLocaleLowerCase().includes('android');\n});\nexport var androidFallbackText = 'pdnd:android-fallback';","// Why we put the media types in their own files:\n//\n// - we are not putting them all in one file as not all adapters need all types\n// - we are not putting them in the external helpers as some things just need the\n//   types and not the external functions code\nexport var textMediaType = 'text/plain';","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { bind } from 'bind-event-listener';\nimport { getElementFromPointWithoutHoneypot } from '../honey-pot-fix/get-element-from-point-without-honey-pot';\nimport { makeHoneyPotFix } from '../honey-pot-fix/make-honey-pot-fix';\nimport { makeAdapter } from '../make-adapter/make-adapter';\nimport { combine } from '../public-utils/combine';\nimport { addAttribute } from '../util/add-attribute';\nimport { androidFallbackText, isAndroid } from '../util/android';\nimport { getInput } from '../util/get-input';\nimport { textMediaType } from '../util/media-types/text-media-type';\nimport { URLMediaType } from '../util/media-types/url-media-type';\nimport { elementAdapterNativeDataKey } from './element-adapter-native-data-key';\nvar draggableRegistry = new WeakMap();\nfunction addToRegistry(args) {\n  draggableRegistry.set(args.element, args);\n  return function cleanup() {\n    draggableRegistry.delete(args.element);\n  };\n}\nvar honeyPotFix = makeHoneyPotFix();\nvar adapter = makeAdapter({\n  typeKey: 'element',\n  defaultDropEffect: 'move',\n  mount: function mount(api) {\n    /**  Binding event listeners the `document` rather than `window` so that\n     * this adapter always gets preference over the text adapter.\n     * `document` is the first `EventTarget` under `window`\n     * https://twitter.com/alexandereardon/status/1604658588311465985\n     */\n    return combine(honeyPotFix.bindEvents(), bind(document, {\n      type: 'dragstart',\n      listener: function listener(event) {\n        var _entry$dragHandle, _entry$getInitialData, _entry$getInitialData2, _entry$dragHandle2, _entry$getInitialData3, _entry$getInitialData4;\n        if (!api.canStart(event)) {\n          return;\n        }\n\n        // If the \"dragstart\" event is cancelled, then a drag won't start\n        // There will be no further drag operation events (eg no \"dragend\" event)\n        if (event.defaultPrevented) {\n          return;\n        }\n\n        // Technically `dataTransfer` can be `null` according to the types\n        // But that behaviour does not seem to appear in the spec.\n        // If there is not `dataTransfer`, we can assume something is wrong and not\n        // start a drag\n        if (!event.dataTransfer) {\n          // Including this code on \"test\" and \"development\" environments:\n          // - Browser tests commonly run against \"development\" builds\n          // - Unit tests commonly run in \"test\"\n          if (process.env.NODE_ENV !== 'production') {\n            // eslint-disable-next-line no-console\n            console.warn(\"\\n              It appears as though you have are not testing DragEvents correctly.\\n\\n              - If you are unit testing, ensure you have polyfilled DragEvent.\\n              - If you are browser testing, ensure you are dispatching drag events correctly.\\n\\n              Please see our testing guides for more information:\\n              https://atlassian.design/components/pragmatic-drag-and-drop/core-package/testing\\n            \".replace(/ {2}/g, ''));\n          }\n          return;\n        }\n\n        // the closest parent that is a draggable element will be marked as\n        // the `event.target` for the event\n        var target = event.target;\n\n        // this source is only for elements\n        // Note: only HTMLElements can have the \"draggable\" attribute\n        if (!(target instanceof HTMLElement)) {\n          return null;\n        }\n\n        // see if the thing being dragged is owned by us\n        var entry = draggableRegistry.get(target);\n\n        // no matching element found\n        //  dragging an element with `draggable=\"true\"` that is not controlled by us\n        if (!entry) {\n          return null;\n        }\n\n        /**\n         * A text selection drag _can_ have the `draggable` element be\n         * the `event.target` if the user is dragging the text selection\n         * from the `draggable`.\n         *\n         * To know if the `draggable` is being dragged, we look at whether any\n         * `\"text/plain\"` data is being dragged. If it is, then a text selection\n         * drag is occurring.\n         *\n         * This behaviour has been validated on:\n         *\n         * - Chrome@128 on Android@14\n         * - Chrome@128 on iOS@17.6.1\n         * - Chrome@128 on Windows@11\n         * - Chrome@128 on MacOS@14.6.1\n         * - Firefox@129 on Windows@11 (not possible for user to select text in a draggable)\n         * - Firefox@129 on MacOS@14.6.1 (not possible for user to select text in a draggable)\n         *\n         * Note: Could usually just use: `event.dataTransfer.types.includes(textMediaType)`\n         * but unfortunately ProseMirror is always setting `\"\"` as the dragged text\n         *\n         * Note: Unfortunately editor is (heavily) leaning on the current functionality today\n         * and unwinding it will be a decent amount of effort. So for now, a text selection\n         * where the `event.target` is a `draggable` element will still trigger the\n         * element adapter.\n         *\n         * // Future state:\n         * if(event.dataTransfer.getData(textMediaType)) {\n         * \treturn;\n         * }\n         *\n         */\n\n        var input = getInput(event);\n        var feedback = {\n          element: entry.element,\n          dragHandle: (_entry$dragHandle = entry.dragHandle) !== null && _entry$dragHandle !== void 0 ? _entry$dragHandle : null,\n          input: input\n        };\n\n        // Check: does the draggable want to allow dragging?\n        if (entry.canDrag && !entry.canDrag(feedback)) {\n          // cancel drag operation if we cannot drag\n          event.preventDefault();\n          return null;\n        }\n\n        // Check: is there a drag handle and is the user using it?\n        if (entry.dragHandle) {\n          // technically don't need this util, but just being\n          // consistent with how we look up what is under the users\n          // cursor.\n          var over = getElementFromPointWithoutHoneypot({\n            x: input.clientX,\n            y: input.clientY\n          });\n\n          // if we are not dragging from the drag handle (or something inside the drag handle)\n          // then we will cancel the active drag\n          if (!entry.dragHandle.contains(over)) {\n            event.preventDefault();\n            return null;\n          }\n        }\n\n        /**\n         *  **Goal**\n         *  Pass information to other applications\n         *\n         * **Approach**\n         *  Put data into the native data store\n         *\n         *  **What about the native adapter?**\n         *  When the element adapter puts native data into the native data store\n         *  the native adapter is not triggered in the current window,\n         *  but a native adapter in an external window _can_ be triggered\n         *\n         *  **Why bake this into core?**\n         *  This functionality could be pulled out and exposed inside of\n         *  `onGenerateDragPreview`. But decided to make it a part of the\n         *  base API as it felt like a common enough use case and ended\n         *  up being a similar amount of code to include this function as\n         *  it was to expose the hook for it\n         */\n        var nativeData = (_entry$getInitialData = (_entry$getInitialData2 = entry.getInitialDataForExternal) === null || _entry$getInitialData2 === void 0 ? void 0 : _entry$getInitialData2.call(entry, feedback)) !== null && _entry$getInitialData !== void 0 ? _entry$getInitialData : null;\n        if (nativeData) {\n          for (var _i = 0, _Object$entries = Object.entries(nativeData); _i < _Object$entries.length; _i++) {\n            var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n              key = _Object$entries$_i[0],\n              data = _Object$entries$_i[1];\n            event.dataTransfer.setData(key, data !== null && data !== void 0 ? data : '');\n          }\n        }\n\n        /**\n         *   For Android devices, a drag operation will not start unless\n         * \"text/plain\" or \"text/uri-list\" data exists in the native data store\n         * https://twitter.com/alexandereardon/status/1732189803754713424\n         *\n         * Tested on:\n         * Device: Google Pixel 5\n         * Android version: 14 (November 5, 2023)\n         * Chrome version: 120.0\n         */\n        if (isAndroid() && !event.dataTransfer.types.includes(textMediaType) && !event.dataTransfer.types.includes(URLMediaType)) {\n          event.dataTransfer.setData(textMediaType, androidFallbackText);\n        }\n\n        /**\n         * 1. Must set any media type for `iOS15` to work\n         * 2. We are also doing adding data so that the native adapter\n         * can know that the element adapter has handled this drag\n         *\n         * We used to wrap this `setData()` in a `try/catch` for Firefox,\n         * but it looks like that was not needed.\n         *\n         * Tested using: https://codesandbox.io/s/checking-firefox-throw-behaviour-on-dragstart-qt8h4f\n         *\n         * -  Firefox@70.0 (Oct 2019) on macOS Sonoma\n         * -  Firefox@70.0 (Oct 2019) on macOS Big Sur\n         * -  Firefox@70.0 (Oct 2019) on Windows 10\n         *\n         * // just checking a few more combinations to be super safe\n         *\n         * -  Chrome@78 (Oct 2019) on macOS Big Sur\n         * -  Chrome@78 (Oct 2019) on Windows 10\n         * -  Safari@14.1 on macOS Big Sur\n         */\n        event.dataTransfer.setData(elementAdapterNativeDataKey, '');\n        var payload = {\n          element: entry.element,\n          dragHandle: (_entry$dragHandle2 = entry.dragHandle) !== null && _entry$dragHandle2 !== void 0 ? _entry$dragHandle2 : null,\n          data: (_entry$getInitialData3 = (_entry$getInitialData4 = entry.getInitialData) === null || _entry$getInitialData4 === void 0 ? void 0 : _entry$getInitialData4.call(entry, feedback)) !== null && _entry$getInitialData3 !== void 0 ? _entry$getInitialData3 : {}\n        };\n        var dragType = {\n          type: 'element',\n          payload: payload,\n          startedFrom: 'internal'\n        };\n        api.start({\n          event: event,\n          dragType: dragType\n        });\n      }\n    }));\n  },\n  dispatchEventToSource: function dispatchEventToSource(_ref) {\n    var _draggableRegistry$ge, _draggableRegistry$ge2;\n    var eventName = _ref.eventName,\n      payload = _ref.payload;\n    // During a drag operation, a draggable can be:\n    // - remounted with different functions\n    // - removed completely\n    // So we need to get the latest entry from the registry in order\n    // to call the latest event functions\n\n    (_draggableRegistry$ge = draggableRegistry.get(payload.source.element)) === null || _draggableRegistry$ge === void 0 || (_draggableRegistry$ge2 = _draggableRegistry$ge[eventName]) === null || _draggableRegistry$ge2 === void 0 || _draggableRegistry$ge2.call(_draggableRegistry$ge,\n    // I cannot seem to get the types right here.\n    // TS doesn't seem to like that one event can need `nativeSetDragImage`\n    // @ts-expect-error\n    payload);\n  },\n  onPostDispatch: honeyPotFix.getOnPostDispatch()\n});\nexport var dropTargetForElements = adapter.dropTarget;\nexport var monitorForElements = adapter.monitor;\nexport function draggable(args) {\n  // Guardrail: warn if the drag handle is not contained in draggable element\n  if (process.env.NODE_ENV !== 'production') {\n    if (args.dragHandle && !args.element.contains(args.dragHandle)) {\n      // eslint-disable-next-line no-console\n      console.warn('Drag handle element must be contained in draggable element', {\n        element: args.element,\n        dragHandle: args.dragHandle\n      });\n    }\n  }\n  // Guardrail: warn if the draggable element is already registered\n  if (process.env.NODE_ENV !== 'production') {\n    var existing = draggableRegistry.get(args.element);\n    if (existing) {\n      // eslint-disable-next-line no-console\n      console.warn('You have already registered a `draggable` on the same element', {\n        existing: existing,\n        proposed: args\n      });\n    }\n  }\n  return combine(\n  // making the draggable register the adapter rather than drop targets\n  // this is because you *must* have a draggable element to start a drag\n  // but you _might_ not have any drop targets immediately\n  // (You might create drop targets async)\n  adapter.registerUsage(), addToRegistry(args), addAttribute(args.element, {\n    attribute: 'draggable',\n    value: 'true'\n  }));\n}\n\n/** Common event payload for all events */\n\n/** A map containing payloads for all events */\n\n/** Common event payload for all drop target events */\n\n/** A map containing payloads for all events on drop targets */\n\n/** Arguments given to all feedback functions (eg `canDrag()`) on for a `draggable()` */\n\n/** Arguments given to all feedback functions (eg `canDrop()`) on a `dropTargetForElements()` */\n\n/** Arguments given to all monitor feedback functions (eg `canMonitor()`) for a `monitorForElements` */","// Maximum possible z-index\n// https://stackoverflow.com/questions/491052/minimum-and-maximum-value-of-z-index\nexport var maxZIndex = 2147483647;","import { lifecycle } from '../ledger/lifecycle-manager';\nimport { register } from '../ledger/usage-ledger';\nimport { makeDropTarget } from './make-drop-target';\nimport { makeMonitor } from './make-monitor';\nexport function makeAdapter(_ref) {\n  var typeKey = _ref.typeKey,\n    mount = _ref.mount,\n    dispatchEventToSource = _ref.dispatchEventToSource,\n    onPostDispatch = _ref.onPostDispatch,\n    defaultDropEffect = _ref.defaultDropEffect;\n  var monitorAPI = makeMonitor();\n  var dropTargetAPI = makeDropTarget({\n    typeKey: typeKey,\n    defaultDropEffect: defaultDropEffect\n  });\n  function dispatchEvent(args) {\n    // 1. forward the event to source\n    dispatchEventToSource === null || dispatchEventToSource === void 0 || dispatchEventToSource(args);\n\n    // 2. forward the event to relevant dropTargets\n    dropTargetAPI.dispatchEvent(args);\n\n    // 3. forward event to monitors\n    monitorAPI.dispatchEvent(args);\n\n    // 4. post consumer dispatch (used for honey pot fix)\n    onPostDispatch === null || onPostDispatch === void 0 || onPostDispatch(args);\n  }\n  function start(_ref2) {\n    var event = _ref2.event,\n      dragType = _ref2.dragType;\n    lifecycle.start({\n      event: event,\n      dragType: dragType,\n      getDropTargetsOver: dropTargetAPI.getIsOver,\n      dispatchEvent: dispatchEvent\n    });\n  }\n  function registerUsage() {\n    function mountAdapter() {\n      var api = {\n        canStart: lifecycle.canStart,\n        start: start\n      };\n      return mount(api);\n    }\n    return register({\n      typeKey: typeKey,\n      mount: mountAdapter\n    });\n  }\n  return {\n    registerUsage: registerUsage,\n    dropTarget: dropTargetAPI.dropTargetForConsumers,\n    monitor: monitorAPI.monitorForConsumers\n  };\n}","// Why we put the media types in their own files:\n//\n// - we are not putting them all in one file as not all adapters need all types\n// - we are not putting them in the external helpers as some things just need the\n//   types and not the external functions code\nexport var URLMediaType = 'text/uri-list';","/**\n * This key has been pulled into a separate module\n * so that the external adapter does not need to import\n * the element adapter\n */\nexport var elementAdapterNativeDataKey = 'application/vnd.pdnd';","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nimport React, { useCallback, useEffect, useRef } from 'react';\nimport { bind } from 'bind-event-listener';\nimport { combine } from '@atlaskit/pragmatic-drag-and-drop/combine';\nimport { monitorForElements } from '@atlaskit/pragmatic-drag-and-drop/element/adapter';\nimport { error, warning } from '../dev-warning';\nimport { cancelPointerDrag } from './cancel-drag';\nimport { RbdInvariant } from './rbd-invariant';\n/**\n * This component holds the actual error boundary logic.\n */\nfunction ErrorBoundaryInner(_ref) {\n  var children = _ref.children,\n    dragController = _ref.dragController;\n  var isDraggingRef = useRef(false);\n  var handleWindowError = useCallback(function (event) {\n    var dragState = dragController.getDragState();\n    if (!dragState.isDragging) {\n      return;\n    }\n    if (dragState.mode === 'FLUID') {\n      cancelPointerDrag();\n    }\n    if (dragState.mode === 'SNAP') {\n      dragController.stopDrag({\n        reason: 'CANCEL'\n      });\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      warning(\"\\n          An error was caught by our window 'error' event listener while a drag was occurring.\\n          The active drag has been aborted.\\n        \");\n    }\n    var err = event.error;\n    if (err instanceof RbdInvariant) {\n      // Marking the event as dealt with.\n      // This will prevent any 'uncaught' error warnings in the console\n      event.preventDefault();\n      if (process.env.NODE_ENV !== 'production') {\n        error(err.message);\n      }\n    }\n  }, [dragController]);\n  useEffect(function () {\n    return combine(monitorForElements({\n      onDragStart: function onDragStart() {\n        isDraggingRef.current = true;\n      },\n      onDrop: function onDrop() {\n        isDraggingRef.current = false;\n      }\n    }),\n    // @ts-expect-error - type narrowing isn't working on the error param\n    bind(window, {\n      type: 'error',\n      listener: handleWindowError\n    }));\n  }, [handleWindowError]);\n  return children;\n}\n\n/**\n * Cancels drags when errors occur.\n */\n// We have to use a class component to create an error boundary\n// eslint-disable-next-line @repo/internal/react/no-class-components\nexport var ErrorBoundary = /*#__PURE__*/function (_React$Component) {\n  function ErrorBoundary() {\n    _classCallCheck(this, ErrorBoundary);\n    return _callSuper(this, ErrorBoundary, arguments);\n  }\n  _inherits(ErrorBoundary, _React$Component);\n  return _createClass(ErrorBoundary, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(err) {\n      if (err instanceof RbdInvariant) {\n        if (process.env.NODE_ENV !== 'production') {\n          error(err.message);\n        }\n        return;\n      }\n\n      // throwing error for other error boundaries\n      throw err;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(ErrorBoundaryInner, {\n        contextId: this.props.contextId,\n        dragController: this.props.dragController\n      }, this.props.children);\n    }\n  }], [{\n    key: \"getDerivedStateFromError\",\n    value: function getDerivedStateFromError() {\n      // Intentionally blank, because this method needs to be defined\n    }\n  }]);\n}(React.Component);","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n// eslint-disable-next-line import/no-extraneous-dependencies\n\n/**\n * Calculates the actual destination of an item based on its start location\n * and target location.\n *\n * The actual destination may not be the same as the target location.\n * An item moving to a higher index in the same list introduces an\n * off-by-one error that this function accounts for.\n */\nexport function getActualDestination(_ref) {\n  var start = _ref.start,\n    target = _ref.target;\n  if (target === null) {\n    return null;\n  }\n\n  /**\n   * When reordering an item to an index greater than its current index\n   * in the same list, then the target index needs adjustment.\n   *\n   * This is to account for the item itself moving, which would cause a shift.\n   */\n  var isSameList = start.droppableId === target.droppableId;\n  var isMovingForward = target.index > start.index;\n  var shouldAdjust = isSameList && isMovingForward;\n\n  /**\n   * A clone is returned, even though it is the same value.\n   * This is because the returned object might be mutated.\n   */\n  if (!shouldAdjust) {\n    return _objectSpread({}, target);\n  }\n  return _objectSpread(_objectSpread({}, target), {}, {\n    index: target.index - 1\n  });\n}","import { useEffect } from 'react';\n\n// eslint-disable-next-line import/no-extraneous-dependencies\n\nexport function getHiddenTextElementId(contextId) {\n  return \"rbd-lift-instruction-\".concat(contextId);\n}\nexport default function useHiddenTextElement(_ref) {\n  var contextId = _ref.contextId,\n    text = _ref.text;\n  useEffect(function () {\n    var id = getHiddenTextElementId(contextId);\n    var el = document.createElement('div');\n\n    // identifier\n    el.id = id;\n\n    // add the description text\n    el.textContent = text;\n\n    // Using `display: none` prevent screen readers from reading this element in the document flow\n    // This element is used as a `aria-labelledby` reference for *other elements* and will be read out for those\n    Object.assign(el.style, {\n      display: 'none'\n    });\n\n    // Add to body\n    document.body.appendChild(el);\n    return function unmount() {\n      // Remove from body\n      el.remove();\n    };\n  }, [contextId, text]);\n}","/**\n * Ported from `react-beautiful-dnd`\n */\nexport function findClosestScrollContainer(element) {\n  var _getComputedStyle = getComputedStyle(element),\n    overflowX = _getComputedStyle.overflowX,\n    overflowY = _getComputedStyle.overflowY;\n  if (overflowX === 'scroll' || overflowX === 'auto' || overflowY === 'scroll' || overflowY === 'auto') {\n    return element;\n  }\n  var parentElement = element.parentElement;\n  if (parentElement === null) {\n    return null;\n  }\n  return findClosestScrollContainer(parentElement);\n}","// eslint-disable-next-line import/no-extraneous-dependencies\n\nimport { attributes, customAttributes, getAttribute } from './attributes';\nimport { findElementAll } from './find-element';\nfunction getDroppablesOfType(_ref) {\n  var contextId = _ref.contextId,\n    type = _ref.type;\n  return findElementAll({\n    attribute: attributes.droppable.contextId,\n    value: contextId\n  }, {\n    attribute: customAttributes.droppable.type,\n    value: type\n  });\n}\n\n/**\n * This is similar to the function of the same name in `react-beautiful-dnd`.\n *\n * Many of the checks from rbd are removed though, such as visibility checks.\n */\nexport function getBestCrossAxisDroppable(_ref2) {\n  var droppableId = _ref2.droppableId,\n    type = _ref2.type,\n    isMovingForward = _ref2.isMovingForward,\n    contextId = _ref2.contextId,\n    droppableRegistry = _ref2.droppableRegistry;\n  var droppables = getDroppablesOfType({\n    contextId: contextId,\n    type: type\n  });\n  var currentIndex = droppables.findIndex(function (element) {\n    return getAttribute(element, attributes.droppable.id) === droppableId;\n  });\n  var candidates = droppables.filter(function (_, index) {\n    /**\n     * We are following the DOM order of the droppables,\n     * so keep only those that are before/after the current.\n     */\n    if (isMovingForward) {\n      return index > currentIndex;\n    }\n    return index < currentIndex;\n  }).filter(function (element) {\n    /**\n     * Filter out the disabled droppables.\n     */\n    var droppableId = getAttribute(element, attributes.droppable.id);\n    var entry = droppableRegistry.getEntry({\n      droppableId: droppableId\n    });\n    var isValidCandidate = entry && !entry.isDropDisabled;\n    return isValidCandidate;\n  });\n\n  /**\n   * If we're moving forward then take the first candidate,\n   * if moving backwards take the last candidate\n   * (because it is closest to where the current is).\n   *\n   * Using `.at()` provides a safer type, making us handle the `undefined` case.\n   */\n  var bestCandidate = isMovingForward ? candidates.at(0) : candidates.at(-1);\n  return bestCandidate !== null && bestCandidate !== void 0 ? bestCandidate : null;\n}","// eslint-disable-next-line import/no-extraneous-dependencies\n\nimport { attributes, customAttributes } from './attributes';\nimport { findElement } from './find-element';\nexport function getElementByDraggableLocation(contextId, location) {\n  if (!location) {\n    return null;\n  }\n  return findElement({\n    attribute: attributes.draggable.contextId,\n    value: contextId\n  }, {\n    attribute: customAttributes.draggable.droppableId,\n    value: location.droppableId\n  }, {\n    attribute: customAttributes.draggable.index,\n    value: String(location.index)\n  });\n}","import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { useCallback } from 'react';\nimport { bindAll } from 'bind-event-listener';\n// eslint-disable-next-line import/no-extraneous-dependencies\n\nimport { attributes, customAttributes, getAttribute } from '../../utils/attributes';\nimport { findClosestScrollContainer } from '../../utils/find-closest-scroll-container';\nimport { getElement } from '../../utils/find-element';\nimport { getBestCrossAxisDroppable } from '../../utils/get-best-cross-axis-droppable';\nimport { getElementByDraggableLocation } from '../../utils/get-element-by-draggable-location';\nimport { isSameLocation } from '../draggable-location';\nimport { getActualDestination } from '../get-destination';\nimport { rbdInvariant } from '../rbd-invariant';\n/**\n * Finds the element's scroll container and scrolls it to the top.\n *\n * This is used for cross-axis drags to provide a consistent starting point\n * in the list.\n *\n * The behavior differs to `react-beautiful-dnd` which would find the\n * index closest to the current visual position. That was not preserved for\n * performance cost reasons.\n */\nfunction scrollToTop(element) {\n  var scrollContainer = findClosestScrollContainer(element);\n  if (!scrollContainer) {\n    return;\n  }\n  scrollContainer.scrollTo(0, 0);\n}\nvar moveHandlers = {\n  mainAxis: {\n    prev: function prev(event, _ref) {\n      var dragController = _ref.dragController;\n      /**\n       * Preventing default to stop scrolling caused by arrow key press.\n       */\n      event.preventDefault();\n      var dragState = dragController.getDragState();\n      rbdInvariant(dragState.isDragging);\n      var sourceLocation = dragState.sourceLocation,\n        targetLocation = dragState.targetLocation;\n      if (!targetLocation) {\n        return;\n      }\n      if (targetLocation.index === 0) {\n        return;\n      }\n      var nextLocation = _objectSpread(_objectSpread({}, targetLocation), {}, {\n        index: targetLocation.index - 1\n      });\n      var nextDestination = getActualDestination({\n        start: sourceLocation,\n        target: nextLocation\n      });\n\n      /**\n       * There are two target indexes that correspond to a drop in the source location:\n       *\n       * 1. source.index      (before the source, but after previous item)\n       * 2. source.index + 1  (after the source, but before next item)\n       *\n       * We decrement by 2 when going over the source location,\n       * so the user only perceives one of these indexes.\n       */\n      if (isSameLocation(sourceLocation, nextDestination)) {\n        nextLocation.index = targetLocation.index - 2;\n      }\n      dragController.updateDrag({\n        targetLocation: nextLocation\n      });\n    },\n    next: function next(event, _ref2) {\n      var dragController = _ref2.dragController,\n        contextId = _ref2.contextId;\n      /**\n       * Preventing default to stop scrolling caused by arrow key press.\n       */\n      event.preventDefault();\n      var dragState = dragController.getDragState();\n      rbdInvariant(dragState.isDragging);\n      var sourceLocation = dragState.sourceLocation,\n        targetLocation = dragState.targetLocation;\n      if (!targetLocation) {\n        return;\n      }\n\n      /**\n       * Checks if we can move to the next position.\n       *\n       * Reasoning: if there is already a draggable with the current index,\n       * then it is a possible target.\n       */\n      var element = getElementByDraggableLocation(contextId, targetLocation);\n      /**\n       * This check is for virtual lists, and is a special case.\n       *\n       * When dragging, the element will unmount and we won't be able to find\n       * the element for that index.\n       *\n       * This means for virtual lists, the normal check (element check) will fail.\n       */\n      var isSame = isSameLocation(sourceLocation, targetLocation);\n      if (!isSame && !element) {\n        return;\n      }\n      var nextLocation = _objectSpread(_objectSpread({}, targetLocation), {}, {\n        index: targetLocation.index + 1\n      });\n      var nextDestination = getActualDestination({\n        start: sourceLocation,\n        target: nextLocation\n      });\n\n      /**\n       * There are two target indexes that correspond to a drop in the source location:\n       *\n       * 1. source.index      (before the source, but after previous item)\n       * 2. source.index + 1  (after the source, but before next item)\n       *\n       * We increment by 2 when going over the source location,\n       * so the user only perceives one of these indexes.\n       */\n      if (isSameLocation(sourceLocation, nextDestination)) {\n        nextLocation.index = targetLocation.index + 2;\n      }\n      dragController.updateDrag({\n        targetLocation: nextLocation\n      });\n    }\n  },\n  crossAxis: {\n    prev: function prev(event, _ref3) {\n      var dragController = _ref3.dragController,\n        droppableRegistry = _ref3.droppableRegistry,\n        contextId = _ref3.contextId;\n      /**\n       * Preventing default to stop scrolling caused by arrow key press.\n       */\n      event.preventDefault();\n      var dragState = dragController.getDragState();\n      rbdInvariant(dragState.isDragging);\n      var targetLocation = dragState.targetLocation,\n        type = dragState.type;\n      if (!targetLocation) {\n        return;\n      }\n      var before = getBestCrossAxisDroppable({\n        droppableId: targetLocation.droppableId,\n        type: type,\n        isMovingForward: false,\n        contextId: contextId,\n        droppableRegistry: droppableRegistry\n      });\n      if (!before) {\n        return;\n      }\n      scrollToTop(before);\n      var nextLocation = {\n        droppableId: getAttribute(before, attributes.droppable.id),\n        index: 0\n      };\n      dragController.updateDrag({\n        targetLocation: nextLocation\n      });\n    },\n    next: function next(event, _ref4) {\n      var dragController = _ref4.dragController,\n        droppableRegistry = _ref4.droppableRegistry,\n        contextId = _ref4.contextId;\n      /**\n       * Preventing default to stop scrolling caused by arrow key press.\n       */\n      event.preventDefault();\n      var dragState = dragController.getDragState();\n      rbdInvariant(dragState.isDragging);\n      var targetLocation = dragState.targetLocation,\n        type = dragState.type;\n      if (!targetLocation) {\n        return;\n      }\n      var after = getBestCrossAxisDroppable({\n        droppableId: targetLocation.droppableId,\n        type: type,\n        isMovingForward: true,\n        contextId: contextId,\n        droppableRegistry: droppableRegistry\n      });\n      if (!after) {\n        return;\n      }\n      scrollToTop(after);\n      var nextLocation = {\n        droppableId: getAttribute(after, attributes.droppable.id),\n        index: 0\n      };\n      dragController.updateDrag({\n        targetLocation: nextLocation\n      });\n    }\n  }\n};\nfunction preventDefault(event) {\n  event.preventDefault();\n}\n\n/**\n * These keys mostly have their default behavior prevented to stop scrolling.\n *\n * The tab key is prevented to lock focus in place.\n */\nvar commonKeyHandlers = {\n  PageUp: preventDefault,\n  PageDown: preventDefault,\n  Home: preventDefault,\n  End: preventDefault,\n  Enter: preventDefault,\n  Tab: preventDefault\n};\n\n/**\n * Maps actions to keys.\n */\nvar keyHandlers = {\n  vertical: _objectSpread(_objectSpread({}, commonKeyHandlers), {}, {\n    ArrowUp: moveHandlers.mainAxis.prev,\n    ArrowDown: moveHandlers.mainAxis.next,\n    ArrowLeft: moveHandlers.crossAxis.prev,\n    ArrowRight: moveHandlers.crossAxis.next\n  }),\n  horizontal: _objectSpread(_objectSpread({}, commonKeyHandlers), {}, {\n    ArrowUp: moveHandlers.crossAxis.prev,\n    ArrowDown: moveHandlers.crossAxis.next,\n    ArrowLeft: moveHandlers.mainAxis.prev,\n    ArrowRight: moveHandlers.mainAxis.next\n  })\n};\nexport function useKeyboardControls(_ref5) {\n  var dragController = _ref5.dragController,\n    droppableRegistry = _ref5.droppableRegistry,\n    contextId = _ref5.contextId,\n    setKeyboardCleanupFn = _ref5.setKeyboardCleanupFn;\n  var startKeyboardDrag = useCallback(function (_ref6) {\n    var startEvent = _ref6.event,\n      draggableId = _ref6.draggableId,\n      type = _ref6.type,\n      getSourceLocation = _ref6.getSourceLocation,\n      sourceElement = _ref6.sourceElement;\n    dragController.startDrag({\n      draggableId: draggableId,\n      type: type,\n      getSourceLocation: getSourceLocation,\n      sourceElement: sourceElement,\n      mode: 'SNAP'\n    });\n    var sourceLocation = getSourceLocation();\n    var droppable = getElement({\n      attribute: attributes.droppable.id,\n      value: sourceLocation.droppableId\n    });\n    var direction = getAttribute(droppable, customAttributes.droppable.direction);\n    rbdInvariant(direction === 'vertical' || direction === 'horizontal');\n    function cancelDrag() {\n      dragController.stopDrag({\n        reason: 'CANCEL'\n      });\n    }\n\n    /**\n     * All of these events should cancel the drag.\n     *\n     * These events were taken from `react-beautiful-dnd`.\n     */\n    var cancelBindings = ['mousedown', 'mouseup', 'click', 'touchstart', 'resize', 'wheel', 'visibilitychange'].map(function (type) {\n      return {\n        type: type,\n        listener: cancelDrag\n      };\n    });\n    var cleanupFn = bindAll(window, [{\n      type: 'keydown',\n      listener: function listener(event) {\n        var _keyHandlers$directio, _keyHandlers$directio2;\n        /**\n         * Ignores the keydown event which triggered the drag start,\n         * so it doesn't trigger an immediate drop.\n         */\n        if (event === startEvent) {\n          return;\n        }\n        var _dragController$getDr = dragController.getDragState(),\n          isDragging = _dragController$getDr.isDragging;\n        if (!isDragging) {\n          return;\n        }\n        if (event.key === ' ') {\n          event.preventDefault();\n          dragController.stopDrag({\n            reason: 'DROP'\n          });\n          return;\n        }\n        if (event.key === 'Escape') {\n          event.preventDefault();\n          dragController.stopDrag({\n            reason: 'CANCEL'\n          });\n          return;\n        }\n        (_keyHandlers$directio = (_keyHandlers$directio2 = keyHandlers[direction])[event.key]) === null || _keyHandlers$directio === void 0 || _keyHandlers$directio.call(_keyHandlers$directio2, event, {\n          dragController: dragController,\n          droppableRegistry: droppableRegistry,\n          contextId: contextId\n        });\n      }\n    }].concat(_toConsumableArray(cancelBindings)));\n    setKeyboardCleanupFn(cleanupFn);\n  }, [contextId, dragController, droppableRegistry, setKeyboardCleanupFn]);\n  return {\n    startKeyboardDrag: startKeyboardDrag\n  };\n}","// Source: https://github.com/atlassian/react-beautiful-dnd\n\nvar isEqual = function isEqual(base) {\n  return function (value) {\n    return base === value;\n  };\n};\nvar isScroll = isEqual('scroll');\nvar isAuto = isEqual('auto');\nvar isEither = function isEither(overflow, fn) {\n  return fn(overflow.overflowX) || fn(overflow.overflowY);\n};\nvar isElementScrollable = function isElementScrollable(el) {\n  var style = window.getComputedStyle(el);\n  var overflow = {\n    overflowX: style.overflowX,\n    overflowY: style.overflowY\n  };\n  return isEither(overflow, isScroll) || isEither(overflow, isAuto);\n};\nexport var getClosestScrollableElement = function getClosestScrollableElement(el) {\n  // cannot do anything else!\n  if (!el) {\n    return null;\n  }\n\n  // not allowing us to go higher then body\n  if (el === document.body || el === document.documentElement) {\n    return null;\n  }\n  if (!isElementScrollable(el)) {\n    // keep recursing\n    return getClosestScrollableElement(el.parentElement);\n  }\n\n  // success!\n  return el;\n};","import invariant from 'tiny-invariant';\n\nvar getRect = function getRect(_ref) {\n  var top = _ref.top,\n      right = _ref.right,\n      bottom = _ref.bottom,\n      left = _ref.left;\n  var width = right - left;\n  var height = bottom - top;\n  var rect = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left,\n    width: width,\n    height: height,\n    x: left,\n    y: top,\n    center: {\n      x: (right + left) / 2,\n      y: (bottom + top) / 2\n    }\n  };\n  return rect;\n};\nvar expand = function expand(target, expandBy) {\n  return {\n    top: target.top - expandBy.top,\n    left: target.left - expandBy.left,\n    bottom: target.bottom + expandBy.bottom,\n    right: target.right + expandBy.right\n  };\n};\nvar shrink = function shrink(target, shrinkBy) {\n  return {\n    top: target.top + shrinkBy.top,\n    left: target.left + shrinkBy.left,\n    bottom: target.bottom - shrinkBy.bottom,\n    right: target.right - shrinkBy.right\n  };\n};\n\nvar shift = function shift(target, shiftBy) {\n  return {\n    top: target.top + shiftBy.y,\n    left: target.left + shiftBy.x,\n    bottom: target.bottom + shiftBy.y,\n    right: target.right + shiftBy.x\n  };\n};\n\nvar noSpacing = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\nvar createBox = function createBox(_ref2) {\n  var borderBox = _ref2.borderBox,\n      _ref2$margin = _ref2.margin,\n      margin = _ref2$margin === void 0 ? noSpacing : _ref2$margin,\n      _ref2$border = _ref2.border,\n      border = _ref2$border === void 0 ? noSpacing : _ref2$border,\n      _ref2$padding = _ref2.padding,\n      padding = _ref2$padding === void 0 ? noSpacing : _ref2$padding;\n  var marginBox = getRect(expand(borderBox, margin));\n  var paddingBox = getRect(shrink(borderBox, border));\n  var contentBox = getRect(shrink(paddingBox, padding));\n  return {\n    marginBox: marginBox,\n    borderBox: getRect(borderBox),\n    paddingBox: paddingBox,\n    contentBox: contentBox,\n    margin: margin,\n    border: border,\n    padding: padding\n  };\n};\n\nvar parse = function parse(raw) {\n  var value = raw.slice(0, -2);\n  var suffix = raw.slice(-2);\n\n  if (suffix !== 'px') {\n    return 0;\n  }\n\n  var result = Number(value);\n  !!isNaN(result) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Could not parse value [raw: \" + raw + \", without suffix: \" + value + \"]\") : invariant(false) : void 0;\n  return result;\n};\n\nvar getWindowScroll = function getWindowScroll() {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n};\n\nvar offset = function offset(original, change) {\n  var borderBox = original.borderBox,\n      border = original.border,\n      margin = original.margin,\n      padding = original.padding;\n  var shifted = shift(borderBox, change);\n  return createBox({\n    borderBox: shifted,\n    border: border,\n    margin: margin,\n    padding: padding\n  });\n};\nvar withScroll = function withScroll(original, scroll) {\n  if (scroll === void 0) {\n    scroll = getWindowScroll();\n  }\n\n  return offset(original, scroll);\n};\nvar calculateBox = function calculateBox(borderBox, styles) {\n  var margin = {\n    top: parse(styles.marginTop),\n    right: parse(styles.marginRight),\n    bottom: parse(styles.marginBottom),\n    left: parse(styles.marginLeft)\n  };\n  var padding = {\n    top: parse(styles.paddingTop),\n    right: parse(styles.paddingRight),\n    bottom: parse(styles.paddingBottom),\n    left: parse(styles.paddingLeft)\n  };\n  var border = {\n    top: parse(styles.borderTopWidth),\n    right: parse(styles.borderRightWidth),\n    bottom: parse(styles.borderBottomWidth),\n    left: parse(styles.borderLeftWidth)\n  };\n  return createBox({\n    borderBox: borderBox,\n    margin: margin,\n    padding: padding,\n    border: border\n  });\n};\nvar getBox = function getBox(el) {\n  var borderBox = el.getBoundingClientRect();\n  var styles = window.getComputedStyle(el);\n  return calculateBox(borderBox, styles);\n};\n\nexport { calculateBox, createBox, expand, getBox, getRect, offset, shrink, withScroll };\n","// Source: https://github.com/atlassian/react-beautiful-dnd\n\nexport var origin = {\n  x: 0,\n  y: 0\n};\n\n// used to apply any function to both values of a point\n// eg: const floor = apply(Math.floor)(point);\nexport var apply = function apply(fn) {\n  return function (point) {\n    return {\n      x: fn(point.x),\n      y: fn(point.y)\n    };\n  };\n};\nexport var isEqual = function isEqual(point1, point2) {\n  return point1.x === point2.x && point1.y === point2.y;\n};\nexport var add = function add(point1, point2) {\n  return {\n    x: point1.x + point2.x,\n    y: point1.y + point2.y\n  };\n};\nexport var subtract = function subtract(point1, point2) {\n  return {\n    x: point1.x - point2.x,\n    y: point1.y - point2.y\n  };\n};","// Source: https://github.com/atlassian/react-beautiful-dnd\n\nimport { add, apply, isEqual, origin } from './position';\nvar smallestSigned = apply(function (value) {\n  if (value === 0) {\n    return 0;\n  }\n  return value > 0 ? 1 : -1;\n});\n// We need to figure out how much of the movement\n// cannot be done with a scroll\nexport var getOverlap = function () {\n  var getRemainder = function getRemainder(target, max) {\n    if (target < 0) {\n      return target;\n    }\n    if (target > max) {\n      return target - max;\n    }\n    return 0;\n  };\n  return function (_ref) {\n    var current = _ref.current,\n      max = _ref.max,\n      change = _ref.change;\n    var targetScroll = add(current, change);\n    var overlap = {\n      x: getRemainder(targetScroll.x, max.x),\n      y: getRemainder(targetScroll.y, max.y)\n    };\n    if (isEqual(overlap, origin)) {\n      return null;\n    }\n    return overlap;\n  };\n}();\nexport var canPartiallyScroll = function canPartiallyScroll(_ref2) {\n  var rawMax = _ref2.max,\n    current = _ref2.current,\n    change = _ref2.change;\n  // It is possible for the max scroll to be greater than the current scroll\n  // when there are scrollbars on the cross axis. We adjust for this by\n  // increasing the max scroll point if needed\n  // This will allow movements backwards even if the current scroll is greater than the max scroll\n  var max = {\n    x: Math.max(current.x, rawMax.x),\n    y: Math.max(current.y, rawMax.y)\n  };\n\n  // Only need to be able to move the smallest amount in the desired direction\n  var smallestChange = smallestSigned(change);\n  var overlap = getOverlap({\n    max: max,\n    current: current,\n    change: smallestChange\n  });\n\n  // no overlap at all - we can move there!\n  if (!overlap) {\n    return true;\n  }\n\n  // if there was an x value, but there is no x overlap - then we can scroll on the x!\n  if (smallestChange.x !== 0 && overlap.x === 0) {\n    return true;\n  }\n\n  // if there was an y value, but there is no y overlap - then we can scroll on the y!\n  if (smallestChange.y !== 0 && overlap.y === 0) {\n    return true;\n  }\n  return false;\n};\nexport var canScrollWindow = function canScrollWindow(viewport, change) {\n  return canPartiallyScroll({\n    current: viewport.scroll.current,\n    max: viewport.scroll.max,\n    change: change\n  });\n};\nexport var getWindowOverlap = function getWindowOverlap(viewport, change) {\n  if (!canScrollWindow(viewport, change)) {\n    return null;\n  }\n  var max = viewport.scroll.max;\n  var current = viewport.scroll.current;\n  return getOverlap({\n    current: current,\n    max: max,\n    change: change\n  });\n};\nexport var canScrollScrollable = function canScrollScrollable(scrollable, change) {\n  return canPartiallyScroll({\n    current: scrollable.scroll.current,\n    max: scrollable.scroll.max,\n    change: change\n  });\n};\nexport var getScrollableOverlap = function getScrollableOverlap(scrollable, change) {\n  if (!canScrollScrollable(scrollable, change)) {\n    return null;\n  }\n  return getOverlap({\n    current: scrollable.scroll.current,\n    max: scrollable.scroll.max,\n    change: change\n  });\n};","// A scroll event will only be triggered when there is a value of at least 1px change\nexport var minScroll = 1;\nexport var vertical = {\n  direction: 'vertical',\n  start: 'top',\n  end: 'bottom',\n  size: 'height',\n  scrollAxis: 'scrollTop'\n};\nexport var horizontal = {\n  direction: 'horizontal',\n  start: 'left',\n  end: 'right',\n  size: 'width',\n  scrollAxis: 'scrollLeft'\n};\nexport var defaultAllowedAxis = [horizontal.direction, vertical.direction];","// Source: https://github.com/atlassian/react-beautiful-dnd\n\n// Values used to control how the fluid auto scroll feels\nvar config = {\n  // percentage distance from edge of container:\n  startFromPercentage: 0.25,\n  maxScrollAtPercentage: 0.05,\n  // pixels per frame\n  maxPixelScroll: 28,\n  // A function used to ease a percentage value\n  // A simple linear function would be: (percentage) => percentage;\n  // percentage is between 0 and 1\n  // result must be between 0 and 1\n  ease: function ease(percentage) {\n    return Math.pow(percentage, 2);\n  },\n  durationDampening: {\n    // ms: how long to dampen the speed of an auto scroll from the start of a drag\n    stopDampeningAt: 1200,\n    // ms: when to start accelerating the reduction of duration dampening\n    accelerateAt: 360\n  }\n};\nexport default config;","// Source: https://github.com/atlassian/react-beautiful-dnd\n\nimport config from '../../config';\n\n// all in pixels\n\n// converts the percentages in the config into actual pixel values\nexport var getDistanceThresholds = function getDistanceThresholds(container, axis) {\n  var startScrollingFrom = container[axis.size] * config.startFromPercentage;\n  var maxScrollValueAt = container[axis.size] * config.maxScrollAtPercentage;\n  var thresholds = {\n    startScrollingFrom: startScrollingFrom,\n    maxScrollValueAt: maxScrollValueAt\n  };\n  return thresholds;\n};\nexport default getDistanceThresholds;","// Source: https://github.com/atlassian/react-beautiful-dnd\n\nexport var getPercentage = function getPercentage(_ref) {\n  var startOfRange = _ref.startOfRange,\n    endOfRange = _ref.endOfRange,\n    current = _ref.current;\n  var range = endOfRange - startOfRange;\n  if (range === 0) {\n    /**\n     * Detected distance range of 0 in the auto scroller\n     * This is unexpected and would cause a divide by 0 issue.\n     * Not allowing an auto scroll\n     */\n    return 0;\n  }\n  var currentInRange = current - startOfRange;\n  var percentage = currentInRange / range;\n  return percentage;\n};","// Source: https://github.com/atlassian/react-beautiful-dnd\n\nimport config from '../../config';\nimport { minScroll } from '../../constants';\nimport { getPercentage } from '../../get-percentage';\nvar accelerateAt = config.durationDampening.accelerateAt;\nvar stopAt = config.durationDampening.stopDampeningAt;\nexport var dampenValueByTime = function dampenValueByTime(proposedScroll, dragStartTime) {\n  var startOfRange = dragStartTime;\n  var endOfRange = stopAt;\n  var now = Date.now();\n  var runTime = now - startOfRange;\n\n  // we have finished the time dampening period\n  if (runTime >= stopAt) {\n    return proposedScroll;\n  }\n\n  // Up to this point we know there is a proposed scroll\n  // but we have not reached our accelerate point\n  // Return the minimum amount of scroll\n  if (runTime < accelerateAt) {\n    return minScroll;\n  }\n  var betweenAccelerateAtAndStopAtPercentage = getPercentage({\n    startOfRange: accelerateAt,\n    endOfRange: endOfRange,\n    current: runTime\n  });\n  var scroll = proposedScroll * config.ease(betweenAccelerateAtAndStopAtPercentage);\n  return Math.ceil(scroll);\n};","// Source: https://github.com/atlassian/react-beautiful-dnd\n\nimport { minScroll } from '../../constants';\nimport { dampenValueByTime } from './dampen-value-by-time';\nimport { getValueFromDistance } from './get-value-from-distance';\nexport var getValue = function getValue(_ref) {\n  var distanceToEdge = _ref.distanceToEdge,\n    thresholds = _ref.thresholds,\n    dragStartTime = _ref.dragStartTime,\n    shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getValueFromDistance(distanceToEdge, thresholds);\n\n  // not enough distance to trigger a minimum scroll\n  // we can bail here\n  if (scroll === 0) {\n    return 0;\n  }\n\n  // Dampen an auto scroll speed based on duration of drag\n\n  if (!shouldUseTimeDampening) {\n    return scroll;\n  }\n\n  // Once we know an auto scroll should occur based on distance,\n  // we must let at least 1px through to trigger a scroll event an\n  // another auto scroll call\n\n  return Math.max(dampenValueByTime(scroll, dragStartTime), minScroll);\n};\nexport default getValue;","// Source: https://github.com/atlassian/react-beautiful-dnd\n\nimport config from '../../config';\nimport { minScroll } from '../../constants';\nimport { getPercentage } from '../../get-percentage';\nexport var getValueFromDistance = function getValueFromDistance(distanceToEdge, thresholds) {\n  /*\n   // This function only looks at the distance to one edge\n   // Example: looking at bottom edge\n   |----------------------------------|\n   |                                  |\n   |                                  |\n   |                                  |\n   |                                  |\n   |                                  | => no scroll in this range\n   |                                  |\n   |                                  |\n   |  startScrollingFrom (eg 100px)   |\n   |                                  |\n   |                                  | => increased scroll value the closer to maxScrollValueAt\n   |  maxScrollValueAt (eg 10px)      |\n   |                                  | => max scroll value in this range\n   |----------------------------------|\n   */\n\n  // too far away to auto scroll\n  if (distanceToEdge > thresholds.startScrollingFrom) {\n    return 0;\n  }\n\n  // use max speed when on or over boundary\n  if (distanceToEdge <= thresholds.maxScrollValueAt) {\n    return config.maxPixelScroll;\n  }\n\n  // when just going on the boundary return the minimum integer\n  if (distanceToEdge === thresholds.startScrollingFrom) {\n    return minScroll;\n  }\n\n  // to get the % past startScrollingFrom we will calculate\n  // the % the value is from maxScrollValueAt and then invert it\n  var percentageFromMaxScrollValueAt = getPercentage({\n    startOfRange: thresholds.maxScrollValueAt,\n    endOfRange: thresholds.startScrollingFrom,\n    current: distanceToEdge\n  });\n  var percentageFromStartScrollingFrom = 1 - percentageFromMaxScrollValueAt;\n  var scroll = config.maxPixelScroll * config.ease(percentageFromStartScrollingFrom);\n\n  // scroll will always be a positive integer\n  return Math.ceil(scroll);\n};","// Source: https://github.com/atlassian/react-beautiful-dnd\n\nimport getDistanceThresholds from './get-distance-thresholds';\nimport getValue from './get-value';\nexport default (function (_ref) {\n  var container = _ref.container,\n    distanceToEdges = _ref.distanceToEdges,\n    dragStartTime = _ref.dragStartTime,\n    axis = _ref.axis,\n    shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var thresholds = getDistanceThresholds(container, axis);\n  var isCloserToEnd = distanceToEdges[axis.end] < distanceToEdges[axis.start];\n  if (isCloserToEnd) {\n    return getValue({\n      distanceToEdge: distanceToEdges[axis.end],\n      thresholds: thresholds,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  }\n  return -1 * getValue({\n    distanceToEdge: distanceToEdges[axis.start],\n    thresholds: thresholds,\n    dragStartTime: dragStartTime,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n});","// Source: https://github.com/atlassian/react-beautiful-dnd\n\nimport { horizontal, vertical } from '../constants';\nimport { apply, isEqual, origin } from '../position';\nimport getScrollOnAxis from './get-scroll-on-axis';\n\n// will replace -0 and replace with +0\nvar clean = apply(function (value) {\n  return value === 0 ? 0 : value;\n});\nexport default (function (_ref) {\n  var dragStartTime = _ref.dragStartTime,\n    container = _ref.container,\n    center = _ref.center,\n    shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  // get distance to each edge\n  var distanceToEdges = {\n    top: center.y - container.top,\n    right: container.right - center.x,\n    bottom: container.bottom - center.y,\n    left: center.x - container.left\n  };\n\n  // 1. Figure out which x,y values are the best target\n  // 2. Can the container scroll in that direction at all?\n  // If no for both directions, then return null\n  // 3. Is the center close enough to a edge to start a drag?\n  // 4. Based on the distance, calculate the speed at which a scroll should occur\n  // The lower distance value the faster the scroll should be.\n  // Maximum speed value should be hit before the distance is 0\n  // Negative values to not continue to increase the speed\n  var y = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: vertical,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var x = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: horizontal,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var required = clean({\n    x: x,\n    y: y\n  });\n\n  // nothing required\n  if (isEqual(required, origin)) {\n    return null;\n  }\n  return required;\n});","import getMaxScroll from '../get-max-scroll';\nexport default (function () {\n  var doc = document.documentElement;\n  var maxScroll = getMaxScroll({\n    // unclipped padding box, with scrollbar\n    scrollHeight: doc.scrollHeight,\n    scrollWidth: doc.scrollWidth,\n    // clipped padding box, without scrollbar\n    width: doc.clientWidth,\n    height: doc.clientHeight\n  });\n  return maxScroll;\n});","import { subtract } from './position';\nexport default (function (_ref) {\n  var scrollHeight = _ref.scrollHeight,\n    scrollWidth = _ref.scrollWidth,\n    height = _ref.height,\n    width = _ref.width;\n  var maxScroll = subtract(\n  // full size\n  {\n    x: scrollWidth,\n    y: scrollHeight\n  },\n  // viewport size\n  {\n    x: width,\n    y: height\n  });\n  var adjustedMaxScroll = {\n    x: Math.max(0, maxScroll.x),\n    y: Math.max(0, maxScroll.y)\n  };\n  return adjustedMaxScroll;\n});","import { getRect } from 'css-box-model';\nimport getMaxWindowScroll from './get-max-window-scroll';\nimport getWindowScroll from './get-window-scroll';\nexport default (function () {\n  var scroll = getWindowScroll();\n  var maxScroll = getMaxWindowScroll();\n  var top = scroll.y;\n  var left = scroll.x;\n\n  // window.innerHeight: includes scrollbars (not what we want)\n  // document.clientHeight gives us the correct value when using the html5 doctype\n  var doc = document.documentElement;\n  // Using these values as they do not consider scrollbars\n  // padding box, without scrollbar\n  var width = doc.clientWidth;\n  var height = doc.clientHeight;\n\n  // Computed\n  var right = left + width;\n  var bottom = top + height;\n  var container = getRect({\n    top: top,\n    left: left,\n    right: right,\n    bottom: bottom\n  });\n  var viewport = {\n    container: container,\n    scroll: {\n      current: scroll,\n      max: maxScroll\n    }\n  };\n  return viewport;\n});","// The browsers update document.documentElement.scrollTop and window.pageYOffset\n// differently as the window scrolls.\n\n// Webkit\n// documentElement.scrollTop: no update. Stays at 0\n// window.pageYOffset: updates to whole number\n\n// Chrome\n// documentElement.scrollTop: update with fractional value\n// window.pageYOffset: update with fractional value\n\n// FireFox\n// documentElement.scrollTop: updates to whole number\n// window.pageYOffset: updates to whole number\n\n// IE11 (same as firefox)\n// documentElement.scrollTop: updates to whole number\n// window.pageYOffset: updates to whole number\n\n// Edge (same as webkit)\n// documentElement.scrollTop: no update. Stays at 0\n// window.pageYOffset: updates to whole number\n\nexport default (function () {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n});","import { getElementFromPointWithoutHoneypot } from '@atlaskit/pragmatic-drag-and-drop/private/get-element-from-point-without-honey-pot';\nimport { getClosestScrollableElement } from './get-closest-scrollable-element';\nimport { getScrollable } from './get-scrollable';\nimport getScrollableScrollChange from './get-scrollable-scroll-change';\nimport getWindowScrollChange from './get-window-scroll-change';\nimport getViewport from './window/get-viewport';\nexport var scroll = function scroll(_ref) {\n  var input = _ref.input,\n    dragStartTime = _ref.dragStartTime,\n    shouldUseTimeDampening = _ref.shouldUseTimeDampening,\n    scrollElement = _ref.scrollElement,\n    scrollWindow = _ref.scrollWindow,\n    behavior = _ref.behavior;\n  var tryScrollWindow = function tryScrollWindow() {\n    var viewport = getViewport();\n    var windowScrollChange = getWindowScrollChange({\n      dragStartTime: dragStartTime,\n      viewport: viewport,\n      center: {\n        x: input.clientX + viewport.scroll.current.x,\n        y: input.clientY + viewport.scroll.current.y\n      },\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n    if (windowScrollChange) {\n      scrollWindow(windowScrollChange);\n      return true;\n    }\n    return false;\n  };\n  var tryScrollContainer = function tryScrollContainer() {\n    var over = getElementFromPointWithoutHoneypot({\n      x: input.clientX,\n      y: input.clientY\n    });\n    var closestScrollable = getClosestScrollableElement(over);\n    if (!closestScrollable) {\n      return false;\n    }\n    var scrollable = getScrollable({\n      closestScrollable: closestScrollable\n    });\n    var scrollableScrollChange = getScrollableScrollChange({\n      dragStartTime: dragStartTime,\n      scrollable: scrollable,\n      center: {\n        x: input.clientX,\n        y: input.clientY\n      },\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n    if (scrollableScrollChange) {\n      scrollElement(closestScrollable, scrollableScrollChange);\n      return true;\n    }\n    return false;\n  };\n  if (behavior === 'container-only') {\n    tryScrollContainer();\n  }\n  if (behavior === 'window-only') {\n    tryScrollWindow();\n  }\n  if (behavior === 'container-then-window') {\n    tryScrollContainer() || tryScrollWindow();\n  }\n  if (behavior === 'window-then-container') {\n    tryScrollWindow() || tryScrollContainer();\n  }\n};","// Source: https://github.com/atlassian/react-beautiful-dnd\n\nimport { canScrollWindow } from './can-scroll';\nimport getScroll from './get-scroll';\nexport default (function (_ref) {\n  var viewport = _ref.viewport,\n    center = _ref.center,\n    dragStartTime = _ref.dragStartTime,\n    shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: viewport.container,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollWindow(viewport, scroll) ? scroll : null;\n});","import { getRect } from 'css-box-model';\n// Simplified version of RBD's droppable: minimum required fields just to get it working with cursor-based scolling.\nexport var getScrollable = function getScrollable(_ref) {\n  var closestScrollable = _ref.closestScrollable;\n  var rect = closestScrollable.getBoundingClientRect();\n  var scrollPosition = {\n    x: closestScrollable.scrollLeft,\n    y: closestScrollable.scrollTop\n  };\n  return {\n    container: getRect(rect),\n    scroll: {\n      current: scrollPosition,\n      max: {\n        x: closestScrollable.scrollWidth - closestScrollable.clientWidth,\n        y: closestScrollable.scrollHeight - closestScrollable.clientHeight\n      }\n    }\n  };\n};","// Source: https://github.com/atlassian/react-beautiful-dnd\n\nimport { canScrollScrollable } from './can-scroll';\nimport getScroll from './get-scroll';\nexport default (function (_ref) {\n  var scrollable = _ref.scrollable,\n    center = _ref.center,\n    dragStartTime = _ref.dragStartTime,\n    shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: scrollable.container,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollScrollable(scrollable, scroll) ? scroll : null;\n});","import { scroll } from './internal/scroll';\nvar scrollElement = function scrollElement(element, change) {\n  element.scrollBy(change.x, change.y);\n};\nvar scrollWindow = function scrollWindow(change) {\n  window.scrollBy(change.x, change.y);\n};\nexport var createAutoScroller = function createAutoScroller() {\n  var dragging = null;\n  function tryScroll(fakeScrollCallback) {\n    if (dragging == null) {\n      return;\n    }\n    scroll({\n      input: dragging.latestInput,\n      dragStartTime: dragging.dragStartTime,\n      shouldUseTimeDampening: dragging.shouldUseTimeDampening,\n      behavior: dragging.behavior,\n      scrollElement: fakeScrollCallback !== null && fakeScrollCallback !== void 0 ? fakeScrollCallback : scrollElement,\n      scrollWindow: fakeScrollCallback !== null && fakeScrollCallback !== void 0 ? fakeScrollCallback : scrollWindow\n    });\n  }\n\n  // Every animation frame use the latest user input to scroll\n  // We do this loop manually rather than in response to `onDrag`\n  // events as `onDrag` can drop to 50-100ms between events when\n  // the user is not actively moving their pointer\n  function loop() {\n    if (!dragging) {\n      return;\n    }\n    dragging.loopFrameId = requestAnimationFrame(function () {\n      tryScroll();\n      loop();\n    });\n  }\n  var start = function start(_ref) {\n    var input = _ref.input,\n      _ref$behavior = _ref.behavior,\n      behavior = _ref$behavior === void 0 ? 'window-then-container' : _ref$behavior;\n    var dragStartTime = Date.now();\n    dragging = {\n      dragStartTime: dragStartTime,\n      latestInput: input,\n      loopFrameId: null,\n      shouldUseTimeDampening: false,\n      behavior: behavior\n    };\n\n    // we only use time dampening when auto scrolling starts on lift.\n    var fakeScrollCallback = function fakeScrollCallback() {\n      if (dragging) {\n        dragging.shouldUseTimeDampening = true;\n      }\n    };\n    tryScroll(fakeScrollCallback);\n    loop();\n  };\n  function updateInput(_ref2) {\n    var input = _ref2.input;\n    if (!dragging) {\n      return;\n    }\n    dragging.latestInput = input;\n  }\n  var stop = function stop() {\n    // can be called defensively\n    if (!dragging) {\n      return;\n    }\n    if (dragging.loopFrameId) {\n      cancelAnimationFrame(dragging.loopFrameId);\n    }\n    dragging = null;\n  };\n  return {\n    start: start,\n    updateInput: updateInput,\n    stop: stop\n  };\n};\nexport var autoScroller = createAutoScroller();","import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport { bindAll } from 'bind-event-listener';\nimport { getBindingsForBrokenDrags } from '../util/detect-broken-drag';\nfunction acceptDrop(event) {\n  // if the event is already prevented the event we don't need to do anything\n  if (event.defaultPrevented) {\n    return;\n  }\n  // Using \"move\" as the drop effect as that uses the standard\n  // cursor. Doing this so the user doesn't think they are dropping\n  // on the page\n  // Note: using \"none\" will not allow a \"drop\" to occur, so we are using \"move\"\n  if (event.dataTransfer) {\n    event.dataTransfer.dropEffect = 'move';\n  }\n  // cancel the default browser behaviour\n  // doing this will tell the browser that we have handled the drop\n  event.preventDefault();\n}\nvar unbindEvents = null;\n\n/**\n * Block drag operations outside of `@atlaskit/pragmatic-drag-and-drop`\n */\nfunction start() {\n  cleanup();\n  unbindEvents = bindAll(window, [{\n    type: 'dragover',\n    listener: acceptDrop\n  }, {\n    type: 'dragenter',\n    listener: acceptDrop\n  }, {\n    type: 'drop',\n    listener: function listener(event) {\n      // our lifecycle manager already prevents events, but just being super safe\n      event.preventDefault();\n\n      // not setting dropEffect, as `drop.dropEffect` has already been published to the user\n      // (lifecycle-manager binds events in the capture phase)\n\n      // we don't need to wait for \"dragend\", and \"dragend\" might not even happen,\n      // such as when the draggable has been removed during a drag.\n      cleanup();\n    }\n  }, {\n    type: 'dragend',\n    listener: cleanup\n  }].concat(_toConsumableArray(getBindingsForBrokenDrags({\n    onDragEnd: cleanup\n  }))),\n  // being clear that these are added in the bubble phase\n  {\n    capture: false\n  });\n}\nfunction cleanup() {\n  var _unbindEvents;\n  (_unbindEvents = unbindEvents) === null || _unbindEvents === void 0 || _unbindEvents();\n  unbindEvents = null;\n}\n\n/**\n * TODO: for next major, we could look at do the following:\n *\n * ```diff\n * - preventUnhandled.start();\n * - preventUnhandled.stop();\n * + const stop = preventUnhandled();\n * ```\n */\n\nfunction stop() {\n  var _window$event;\n  /**\n   * if `stop()` is called in a `\"drop\"` event, then `event.preventDefault()` won't be called.\n   * Our `\"drop\"` listener calls `event.preventDefault()` for handled drop events\n   * (\"drop\" events caused by dropping over a drop target)\n   * `preventUnhandled()` causes every element to become a drop target (according to the browser)\n   *\n   * To opt out of the default behaviour for a `\"drop\"` event, we need to make sure\n   * that we cancel it.\n   *\n   * The `\"drop\"` event listener in core is in the `capture` phase, so people calling\n   * `preventUnhandled.stop()` in `onDrop()` will remove the `\"drop\"` event listener in this\n   * file before it has the chance to cancel the event.\n   *\n   * Being sneaky and using the `window.event` global to sniff out the current event\n   */\n  if (((_window$event = window.event) === null || _window$event === void 0 ? void 0 : _window$event.type) === 'drop') {\n    var _window$event2;\n    (_window$event2 = window.event) === null || _window$event2 === void 0 || _window$event2.preventDefault();\n  }\n  cleanup();\n}\nexport var preventUnhandled = {\n  start: start,\n  stop: stop\n};","/**\n * Avoids a warning being printed during SSR.\n *\n * See article for further information:\n * <https://medium.com/@alexandereardon/uselayouteffect-and-ssr-192986cdcf7a>\n */\n\nimport { useEffect, useLayoutEffect } from 'react';\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\n// Ensure the name used in components is useLayoutEffect\nexport { useIsomorphicLayoutEffect as useLayoutEffect };","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n/**\n * This is a vastly simplified version of the style marshal in `react-beautiful-dnd`.\n *\n * Most of the styles have been removed, as they are not required for native dragging.\n * They were only required in `react-beautiful-dnd` because it emulated dragging.\n */\n\n// eslint-disable-next-line import/no-extraneous-dependencies\n\nimport { useLayoutEffect } from '../../hooks/use-isomorphic-layout-effect';\nimport { attributes } from '../../utils/attributes';\n\n/**\n * Used to uniquely identify the style element.\n */\nvar styleContextIdAttribute = 'data-rbd-style-context-id';\n\n/**\n * Returns the CSS string for the rule with the given selector and style\n * declarations.\n */\nfunction getRuleString(_ref) {\n  var selector = _ref.selector,\n    styles = _ref.styles;\n  var concatString = Object.entries(styles).map(function (_ref2) {\n    var _ref3 = _slicedToArray(_ref2, 2),\n      property = _ref3[0],\n      value = _ref3[1];\n    return \"\".concat(property, \": \").concat(value, \";\");\n  }).join(' ');\n  return \"\".concat(selector, \" { \").concat(concatString, \" }\");\n}\n\n/**\n * Returns the rule string for drag handle styles.\n */\nexport function getDragHandleRuleString(contextId) {\n  var selector = \"[\".concat(attributes.dragHandle.contextId, \"=\\\"\").concat(contextId, \"\\\"]\");\n  var styles = {\n    /**\n     * Indicates the element is draggable.\n     *\n     * Although this is always applied, it will not be visible during drags\n     * because the browser will override the cursor.\n     */\n    cursor: 'grab',\n    /**\n     * Improves the UX when dragging links on iOS.\n     *\n     * Without this a preview of the link will open. Although it is still\n     * draggable, it is inconsistent with `react-beautiful-dnd`.\n     */\n    '-webkit-touch-callout': 'none'\n  };\n  return getRuleString({\n    selector: selector,\n    styles: styles\n  });\n}\nfunction createStyleEl(_ref4) {\n  var contextId = _ref4.contextId,\n    nonce = _ref4.nonce;\n  var el = document.createElement('style');\n  if (nonce) {\n    el.setAttribute('nonce', nonce);\n  }\n  el.setAttribute(styleContextIdAttribute, contextId);\n  document.head.appendChild(el);\n  return el;\n}\nfunction createStyleManager(_ref5) {\n  var contextId = _ref5.contextId,\n    nonce = _ref5.nonce;\n  var el = createStyleEl({\n    contextId: contextId,\n    nonce: nonce\n  });\n\n  /**\n   * Inject the style content.\n   */\n  el.textContent = getDragHandleRuleString(contextId);\n  return function cleanup() {\n    el.remove();\n  };\n}\nexport default function useStyleMarshal(_ref6) {\n  var contextId = _ref6.contextId,\n    nonce = _ref6.nonce;\n  useLayoutEffect(function () {\n    return createStyleManager({\n      contextId: contextId,\n      nonce: nonce\n    });\n  }, [contextId, nonce]);\n}","import { unstable_batchedUpdates, version } from 'react-dom';\nvar schedule = function () {\n  /**\n   * We only want to do this manual batching for version 16 of React.\n   *\n   * Version 18 will automatically batch updates.\n   */\n  if (\n  // `unstable_batchedUpdates` is defined in all currently supported versions\n  // but could be removed in the future.\n  // This check is defensive and not currently necessary.\n  typeof unstable_batchedUpdates === 'function' && (\n  // The version export was only introduced in `react-dom@16.13.0`\n  // but we need to support `react-dom@^16.8.0`\n  // so we need to handle when the version is `undefined`\n  typeof version === 'undefined' || version.startsWith('16'))) {\n    return unstable_batchedUpdates;\n  }\n  // Relying on react@18 to do automatic batching\n  return function (callback) {\n    return callback();\n  };\n}();\nexport function batchUpdatesForReact16(callback) {\n  schedule(callback);\n}","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t.return || t.return(); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\n/**\n * The lifecycle methods owned by this provided are used to align internal\n * timings with those of the rbd lifecycle.\n *\n * The events are intentionally distinct to those exposed by rbd to avoid\n * any confusion around whether events are fired internally or externally\n * first.\n */\n\nimport React, { createContext, useCallback, useContext, useState } from 'react';\n\n// eslint-disable-next-line import/no-extraneous-dependencies\n\nimport { combine } from '@atlaskit/pragmatic-drag-and-drop/combine';\nimport { batchUpdatesForReact16 } from '../utils/batch-updates-for-react-16';\nimport { rbdInvariant } from './rbd-invariant';\n\n/**\n * The data associated with each type of lifecycle event.\n */\n\nfunction createRegistry() {\n  return {\n    onPendingDragStart: [],\n    onPrePendingDragUpdate: [],\n    onPendingDragUpdate: [],\n    onBeforeDragEnd: []\n  };\n}\nfunction createLifecycleManager() {\n  var registry = createRegistry();\n  var addResponder = function addResponder(event, responder) {\n    registry[event].push(responder);\n    return function () {\n      // @ts-expect-error - type narrowing issues\n      registry[event] = registry[event].filter(function (value) {\n        return value !== responder;\n      });\n    };\n  };\n  var dispatch = function dispatch(event, data) {\n    batchUpdatesForReact16(function () {\n      var _iterator = _createForOfIteratorHelper(registry[event]),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _responder = _step.value;\n          _responder(data);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    });\n  };\n  return {\n    addResponder: addResponder,\n    dispatch: dispatch\n  };\n}\n\n/**\n * Creates a new lifecycle manager, returning methods for interfacing with it.\n */\nexport function useLifecycle() {\n  var _useState = useState(createLifecycleManager),\n    _useState2 = _slicedToArray(_useState, 1),\n    lifecycleManager = _useState2[0];\n  return lifecycleManager;\n}\nvar LifecycleContext = /*#__PURE__*/createContext(null);\nexport function LifecycleContextProvider(_ref) {\n  var children = _ref.children,\n    lifecycle = _ref.lifecycle;\n  /**\n   * Allows for `<Draggable>` and `<Droppable>` instances to know about the\n   * lifecycle timings.\n   *\n   * Designed to have a similar API to the pdnd monitors.\n   */\n  var monitorForLifecycle = useCallback(function (responders) {\n    var cleanupFns = [];\n    for (var _i = 0, _Object$entries = Object.entries(responders); _i < _Object$entries.length; _i++) {\n      var entry = _Object$entries[_i];\n      var _ref2 = entry,\n        _ref3 = _slicedToArray(_ref2, 2),\n        _event = _ref3[0],\n        _responder2 = _ref3[1];\n      cleanupFns.push(lifecycle.addResponder(_event, _responder2));\n    }\n    return combine.apply(void 0, cleanupFns);\n  }, [lifecycle]);\n  return /*#__PURE__*/React.createElement(LifecycleContext.Provider, {\n    value: monitorForLifecycle\n  }, children);\n}\nexport function useMonitorForLifecycle() {\n  var monitorForLifecycle = useContext(LifecycleContext);\n  rbdInvariant(monitorForLifecycle !== null, 'useLifecycle() should only be called inside of a <DragDropContext />');\n  return monitorForLifecycle;\n}","/**\n * This is defined in the migration package instead of using `@atlaskit/pragmatic-drag-and-drop-live-region`\n * because RBD-style dragging has different needs to the alternative flows of PDND.\n *\n * RBD can make a lot of announcements in a short period, so delaying messages is not feasible.\n * RBD also maintains focus while dragging, so messages being skipped is less of a concern.\n *\n * `@atlaskit/pragmatic-drag-and-drop-live-region` has been tailored for PDND-specific alternative flows,\n * where focus usually changes around the time `announce()` is called. So in `@atlaskit/pragmatic-drag-and-drop-live-region`\n * messages have delays to avoid them being skipped.\n */\n\nvar node = null;\nvar size = '1px';\nvar visuallyHiddenStyles = {\n  // Standard visually hidden styles.\n  // Copied from our VisuallyHidden (react) package.\n  width: size,\n  height: size,\n  padding: '0',\n  position: 'absolute',\n  border: '0',\n  clip: \"rect(\".concat(size, \", \").concat(size, \", \").concat(size, \", \").concat(size, \")\"),\n  overflow: 'hidden',\n  whiteSpace: 'nowrap',\n  // Pulling upwards slightly to prevent the page\n  // from growing when appended to a body that contains\n  // an element with height:100%\n  marginTop: \"-\".concat(size),\n  // Just being safe and letting this element not interfere with hitboxes\n  pointerEvents: 'none'\n};\n\n/**\n * Creates a live region node, appends it to the body, and returns it.\n */\nfunction createNode() {\n  var node = document.createElement('div');\n  node.setAttribute('role', 'alert');\n  Object.assign(node.style, visuallyHiddenStyles);\n  document.body.append(node);\n  return node;\n}\n\n/**\n * Returns the live region node, creating one if necessary.\n */\nfunction getNode() {\n  if (node === null) {\n    node = createNode();\n  }\n  return node;\n}\n\n/**\n * Announces the provided message to assistive technology.\n */\nexport function announce(message) {\n  var node = getNode();\n  node.textContent = message;\n}\n\n/**\n * Removes the created live region. If there is no live region this is a no-op.\n */\nexport function cleanup() {\n  var _node;\n  (_node = node) === null || _node === void 0 || _node.remove();\n  node = null;\n}","// eslint-disable-next-line import/no-extraneous-dependencies\n\nimport { warning } from '../dev-warning';\nfunction getPosition(location) {\n  return location.index + 1;\n}\nexport var defaultMessage = {\n  onDragStart: function onDragStart(_ref) {\n    var source = _ref.source;\n    var startPosition = getPosition(source);\n    return \"You have lifted an item in position \".concat(startPosition, \".\");\n  },\n  onDragUpdate: function onDragUpdate(_ref2) {\n    var source = _ref2.source,\n      destination = _ref2.destination;\n    if (!destination) {\n      return 'You are currently not dragging over a droppable area.';\n    }\n    var startPosition = getPosition(source);\n    var endPosition = getPosition(destination);\n    var isSameList = source.droppableId === destination.droppableId;\n    if (isSameList) {\n      return \"You have moved the item from position \".concat(startPosition, \" to position \").concat(endPosition, \".\");\n    }\n    return \"You have moved the item from position \".concat(startPosition, \" in list \").concat(source.droppableId, \" to list \").concat(destination.droppableId, \" in position \").concat(endPosition, \".\");\n  },\n  onDragEnd: function onDragEnd(_ref3) {\n    var source = _ref3.source,\n      destination = _ref3.destination,\n      reason = _ref3.reason;\n    var startPosition = getPosition(source);\n    if (reason === 'CANCEL') {\n      return \"Movement cancelled. The item has returned to its starting position of \".concat(startPosition, \".\");\n    }\n    if (!destination) {\n      return \"The item has been dropped while not over a droppable location. The item has returned to its starting position of \".concat(startPosition, \".\");\n    }\n    var endPosition = getPosition(destination);\n    var isSameList = source.droppableId === destination.droppableId;\n    if (isSameList) {\n      return \"You have dropped the item. It has moved from position \".concat(startPosition, \" to \").concat(endPosition, \".\");\n    }\n    return \"You have dropped the item. It has moved from position \".concat(startPosition, \" in list \").concat(source.droppableId, \" to position \").concat(endPosition, \" in list \").concat(destination.droppableId, \".\");\n  }\n};\nexport function getDefaultMessage(event, data) {\n  // @ts-expect-error - narrowing issue\n  return defaultMessage[event](data);\n}\nexport function getProvided(event, data) {\n  /**\n   * The custom message to be used.\n   */\n  var userMessage = null;\n\n  /**\n   * Whether the message has been read yet.\n   *\n   * After it has been read, the user can no longer override it.\n   */\n  var hasExpired = false;\n  var provided = {\n    /**\n     * Used to capture custom messages for screen readers.\n     *\n     * Does not announce directly, but exposes the message that should be\n     * announced. This may or may not be the default message.\n     */\n    announce: function announce(message) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (userMessage) {\n          warning('Announcement already made. Not making a second announcement');\n        }\n        if (hasExpired) {\n          warning(\"\\n            Announcements cannot be made asynchronously.\\n            Default message has already been announced.\\n          \");\n        }\n      }\n      userMessage = message;\n    }\n  };\n\n  /**\n   * Returns the message that should be announced.\n   */\n  function getMessage() {\n    var _userMessage;\n    hasExpired = true;\n    return (_userMessage = userMessage) !== null && _userMessage !== void 0 ? _userMessage : getDefaultMessage(event, data);\n  }\n  return {\n    provided: provided,\n    getMessage: getMessage\n  };\n}\nexport var defaultDragHandleUsageInstructions = \"\\n  Press space bar to start a drag.\\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\\n  Some screen readers may require you to be in focus mode or to use your pass through key\\n\";","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState } from 'react';\nimport { batchUpdatesForReact16 } from '../utils/batch-updates-for-react-16';\nvar idleQueue = {\n  status: 'idle'\n};\nfunction createScheduler() {\n  var queue = idleQueue;\n  var schedule = function schedule(callback) {\n    /**\n     * If the queue is currently idle (no update scheduled) then\n     * we should call `setTimeout` to schedule an update.\n     */\n    if (queue.status === 'idle') {\n      queue = {\n        status: 'pending',\n        timeoutId: setTimeout(flush, 0),\n        items: []\n      };\n    }\n    queue.items.push(callback);\n  };\n  var flush = function flush() {\n    if (queue.status === 'idle') {\n      return;\n    }\n\n    /**\n     * Clearing the timeout optimistically in case `flush` was called directly.\n     */\n    clearTimeout(queue.timeoutId);\n    /**\n     * A shallow copy is used so that updates which queue further updates\n     * are not batched together. This is to more closely match rbd.\n     */\n    var items = Array.from(queue.items);\n    /**\n     * The queue is made idle so it is ready to schedule further updates.\n     */\n    queue = idleQueue;\n\n    /**\n     * Scheduled callbacks are batched.\n     *\n     * The batching is more evident when the page is running more slowly.\n     */\n    batchUpdatesForReact16(function () {\n      items.forEach(function (callback) {\n        return callback();\n      });\n    });\n  };\n  return {\n    schedule: schedule,\n    flush: flush\n  };\n}\n\n/**\n * Used to schedule callbacks inside of a `setTimeout(fn, 0)`.\n *\n * This is used to match the behavior and timings of `react-beautiful-dnd`.\n */\nexport function useScheduler() {\n  var _useState = useState(createScheduler),\n    _useState2 = _slicedToArray(_useState, 1),\n    scheduler = _useState2[0];\n  return scheduler;\n}","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\n\n// eslint-disable-next-line import/no-extraneous-dependencies\n\nimport { getDraggableDimensions } from '../hooks/use-captured-dimensions';\nimport { useCleanupFn } from '../hooks/use-cleanup-fn';\nimport { attributes, getAttribute } from '../utils/attributes';\nimport { findDragHandle } from '../utils/find-drag-handle';\nimport { getClosestPositionedElement } from '../utils/get-closest-positioned-element';\nimport { cancelPointerDrag } from './cancel-drag';\nimport { isSameLocation } from './draggable-location';\nimport { useDroppableRegistry } from './droppable-registry';\nimport { ErrorBoundary } from './error-boundary';\nimport { getActualDestination } from './get-destination';\nimport useHiddenTextElement from './hooks/use-hidden-text-element';\nimport { useKeyboardControls } from './hooks/use-keyboard-controls';\nimport { usePointerControls } from './hooks/use-pointer-controls';\nimport useStyleMarshal from './hooks/use-style-marshal';\nimport { DragDropContextProvider } from './internal-context';\nimport { LifecycleContextProvider, useLifecycle } from './lifecycle-context';\nimport { announce } from './live-region';\nimport { rbdInvariant } from './rbd-invariant';\nimport { defaultDragHandleUsageInstructions, getProvided } from './screen-reader';\nimport { useScheduler } from './use-scheduler';\n\n/**\n * The instance count is used for selectors when querying the document.\n *\n * Ideally, in the future, this can be removed completely.\n */\nvar instanceCount = 0;\nexport function resetServerContext() {\n  instanceCount = 0;\n}\nfunction getContextId() {\n  return \"\".concat(instanceCount++);\n}\nfunction getOffset(args) {\n  var offsetElement = getClosestPositionedElement(args);\n  return {\n    top: offsetElement.offsetTop,\n    left: offsetElement.offsetLeft\n  };\n}\nexport function DragDropContext(_ref) {\n  var children = _ref.children,\n    _ref$dragHandleUsageI = _ref.dragHandleUsageInstructions,\n    dragHandleUsageInstructions = _ref$dragHandleUsageI === void 0 ? defaultDragHandleUsageInstructions : _ref$dragHandleUsageI,\n    nonce = _ref.nonce,\n    onBeforeCapture = _ref.onBeforeCapture,\n    onBeforeDragStart = _ref.onBeforeDragStart,\n    onDragStart = _ref.onDragStart,\n    onDragUpdate = _ref.onDragUpdate,\n    onDragEnd = _ref.onDragEnd;\n  var _useState = useState(getContextId),\n    _useState2 = _slicedToArray(_useState, 1),\n    contextId = _useState2[0];\n  useHiddenTextElement({\n    contextId: contextId,\n    text: dragHandleUsageInstructions\n  });\n  var lifecycle = useLifecycle();\n  var _useScheduler = useScheduler(),\n    schedule = _useScheduler.schedule,\n    flush = _useScheduler.flush;\n  var dragStateRef = useRef({\n    isDragging: false\n  });\n  var getDragState = useCallback(function () {\n    return dragStateRef.current;\n  }, []);\n  var droppableRegistry = useDroppableRegistry();\n  var getClosestEnabledDraggableLocation = useCallback(function (_ref2) {\n    var droppableId = _ref2.droppableId;\n    var droppable = droppableRegistry.getEntry({\n      droppableId: droppableId\n    });\n    while (droppable !== null && droppable.isDropDisabled) {\n      var _droppable = droppable,\n        parentDroppableId = _droppable.parentDroppableId;\n      droppable = parentDroppableId ? droppableRegistry.getEntry({\n        droppableId: parentDroppableId\n      }) : null;\n    }\n    if (droppable === null) {\n      return null;\n    }\n    return {\n      droppableId: droppable.droppableId,\n      index: 0\n    };\n  }, [droppableRegistry]);\n  useEffect(function () {\n    /**\n     * If there is a drag when the context unmounts, cancel it.\n     */\n    return function () {\n      var _getDragState = getDragState(),\n        isDragging = _getDragState.isDragging;\n      if (isDragging) {\n        cancelPointerDrag();\n      }\n    };\n  }, [getDragState]);\n  var updateDrag = useCallback(function (_ref3) {\n    var targetLocation = _ref3.targetLocation,\n      _ref3$isImmediate = _ref3.isImmediate,\n      isImmediate = _ref3$isImmediate === void 0 ? false : _ref3$isImmediate;\n    if (!dragStateRef.current.isDragging) {\n      /**\n       * If there is no ongoing drag, then don't do anything.\n       *\n       * This should never occur, but treating it as a noop is more\n       * reasonable than an invariant.\n       */\n      return;\n    }\n    var _dragStateRef$current = dragStateRef.current,\n      prevDestination = _dragStateRef$current.prevDestination,\n      draggableId = _dragStateRef$current.draggableId,\n      type = _dragStateRef$current.type,\n      sourceLocation = _dragStateRef$current.sourceLocation;\n\n    /**\n     * Computes where it would actually move to\n     */\n    var nextDestination = getActualDestination({\n      start: sourceLocation,\n      target: targetLocation\n    });\n    if (isSameLocation(prevDestination, nextDestination)) {\n      return;\n    }\n    Object.assign(dragStateRef.current, {\n      prevDestination: nextDestination,\n      sourceLocation: sourceLocation,\n      targetLocation: targetLocation\n    });\n    var update = {\n      mode: dragStateRef.current.mode,\n      draggableId: draggableId,\n      type: type,\n      source: sourceLocation,\n      destination: nextDestination,\n      combine: null // not supported by migration layer\n    };\n    var droppable = targetLocation ? droppableRegistry.getEntry({\n      droppableId: targetLocation.droppableId\n    }) : null;\n\n    /**\n     * This event exists solely to ensure that the drop indicator updates\n     * before the drag preview.\n     */\n    lifecycle.dispatch('onPrePendingDragUpdate', {\n      update: update,\n      targetLocation: targetLocation\n    });\n    lifecycle.dispatch('onPendingDragUpdate', {\n      update: update,\n      targetLocation: targetLocation,\n      droppable: droppable\n    });\n    function dispatchConsumerLifecycleEvent() {\n      var _getProvided = getProvided('onDragUpdate', update),\n        provided = _getProvided.provided,\n        getMessage = _getProvided.getMessage;\n      onDragUpdate === null || onDragUpdate === void 0 || onDragUpdate(update, provided);\n      announce(getMessage());\n    }\n    if (isImmediate) {\n      dispatchConsumerLifecycleEvent();\n    } else {\n      schedule(dispatchConsumerLifecycleEvent);\n    }\n  }, [droppableRegistry, lifecycle, onDragUpdate, schedule]);\n  var startDrag = useCallback(function (_ref4) {\n    var draggableId = _ref4.draggableId,\n      type = _ref4.type,\n      getSourceLocation = _ref4.getSourceLocation,\n      sourceElement = _ref4.sourceElement,\n      mode = _ref4.mode;\n    if (dragStateRef.current.isDragging) {\n      /**\n       * If there is already an ongoing drag, then don't do anything.\n       *\n       * This should never occur, but treating it as a noop is more\n       * reasonable than an invariant.\n       */\n      return;\n    }\n    var before = {\n      draggableId: draggableId,\n      mode: mode\n    };\n\n    // This is called in `onDragStart` rather than `onGenerateDragPreview`\n    // to avoid a browser bug. Some DOM manipulations can cancel\n    // the drag if they happen early in the drag.\n    // <https://bugs.chromium.org/p/chromium/issues/detail?id=674882>\n    onBeforeCapture === null || onBeforeCapture === void 0 || onBeforeCapture(before);\n    var start = {\n      mode: mode,\n      draggableId: draggableId,\n      type: type,\n      source: getSourceLocation()\n    };\n\n    /**\n     * If the active element is a drag handle, then\n     * we want to restore focus to it after the drag.\n     *\n     * This matches the behavior of `react-beautiful-dnd`.\n     */\n    var _document = document,\n      activeElement = _document.activeElement;\n    var dragHandleDraggableId = activeElement instanceof HTMLElement && activeElement.hasAttribute(attributes.dragHandle.draggableId) ? getAttribute(activeElement, attributes.dragHandle.draggableId) : null;\n    var droppableId = start.source.droppableId;\n    var droppable = droppableRegistry.getEntry({\n      droppableId: droppableId\n    });\n    rbdInvariant(droppable, \"should have entry for droppable '\".concat(droppableId, \"'\"));\n    dragStateRef.current = {\n      isDragging: true,\n      mode: mode,\n      draggableDimensions: getDraggableDimensions(sourceElement),\n      restoreFocusTo: dragHandleDraggableId,\n      draggableId: draggableId,\n      type: type,\n      prevDestination: start.source,\n      sourceLocation: start.source,\n      targetLocation: start.source,\n      draggableInitialOffsetInSourceDroppable: getOffset({\n        element: sourceElement,\n        mode: droppable.mode\n      })\n    };\n    onBeforeDragStart === null || onBeforeDragStart === void 0 || onBeforeDragStart(start);\n\n    /**\n     * This is used to signal to <Draggable> and <Droppable> elements\n     * to update their state.\n     *\n     * This must be synchronous so that they have updated their state\n     * by the time that `DragStart` is published.\n     */\n    lifecycle.dispatch('onPendingDragStart', {\n      start: start,\n      droppable: droppable\n    });\n\n    // rbd's `onDragStart` is called in the next event loop (via `setTimeout`)\n    //\n    // We can safely assume that the React state updates have occurred by\n    // now, and that the updated `snapshot` has been provided.\n    // <https://twitter.com/alexandereardon/status/1585784101885263872>\n    schedule(function () {\n      var start = {\n        mode: mode,\n        draggableId: draggableId,\n        type: type,\n        source: getSourceLocation()\n      };\n      var _getProvided2 = getProvided('onDragStart', start),\n        provided = _getProvided2.provided,\n        getMessage = _getProvided2.getMessage;\n      onDragStart === null || onDragStart === void 0 || onDragStart(start, provided);\n      announce(getMessage());\n\n      /**\n       * If the droppable is initially disabled, then we publish an\n       * immediate `DragUpdate` with a new non-disabled destination.\n       *\n       * This is typically `destination === null` but can be a parent\n       * droppable if there are nested droppables.\n       *\n       * `react-beautiful-dnd` does this for mouse drags,\n       * but not for keyboard drags. This is likely a bug, and the migration\n       * layer will publish an update for all types of drags.\n       *\n       * This is scheduled so that state changes that occurred in the\n       * rbd `onDragStart` will have taken effect. That is,\n       * a synchronous `setIsDropDisabled(true)` call in the consumer's\n       * `onDragStart` should result in an immediate update here.\n       */\n      schedule(function () {\n        var droppableId = start.source.droppableId;\n        var droppable = droppableRegistry.getEntry({\n          droppableId: droppableId\n        });\n        if (droppable !== null && droppable !== void 0 && droppable.isDropDisabled) {\n          var targetLocation = getClosestEnabledDraggableLocation({\n            droppableId: droppableId\n          });\n          updateDrag({\n            targetLocation: targetLocation,\n            isImmediate: true\n          });\n        }\n      });\n    });\n  }, [droppableRegistry, getClosestEnabledDraggableLocation, lifecycle, onBeforeCapture, onBeforeDragStart, onDragStart, schedule, updateDrag]);\n  var keyboardCleanupManager = useCleanupFn();\n  var stopDrag = useCallback(function (_ref5) {\n    var reason = _ref5.reason;\n    if (!dragStateRef.current.isDragging) {\n      /**\n       * If there is no ongoing drag, then don't do anything.\n       *\n       * This should never occur, but treating it as a noop is more\n       * reasonable than an invariant.\n       */\n      return;\n    }\n    keyboardCleanupManager.runCleanupFn();\n\n    /**\n     * If this is a cancel, then an update to a null\n     * destination will be made. (Unless it is already null)\n     *\n     * This is different to `react-beautiful-dnd` and exists\n     * to standardize behavior between mouse and keyboard drags.\n     *\n     * This is required because of a behavior in native drag and\n     * drop, where a `dragend` will fire exit events on every\n     * drop target you are over. This results in an unavoidable\n     * null destination update for mouse drags.\n     */\n    if (reason === 'CANCEL') {\n      updateDrag({\n        targetLocation: null\n      });\n    }\n    var _dragStateRef$current2 = dragStateRef.current,\n      mode = _dragStateRef$current2.mode,\n      restoreFocusTo = _dragStateRef$current2.restoreFocusTo,\n      sourceLocation = _dragStateRef$current2.sourceLocation,\n      targetLocation = _dragStateRef$current2.targetLocation,\n      type = _dragStateRef$current2.type,\n      draggableId = _dragStateRef$current2.draggableId;\n    dragStateRef.current = {\n      isDragging: false\n    };\n    flush();\n    var destination = getActualDestination({\n      start: sourceLocation,\n      target: targetLocation\n    });\n    var result = {\n      // We are saying all null destination drops count as a CANCEL\n      reason: destination === null ? 'CANCEL' : 'DROP',\n      type: type,\n      source: sourceLocation,\n      destination: destination,\n      mode: mode,\n      draggableId: draggableId,\n      combine: null // not supported by migration layer\n    };\n\n    /**\n     * Tells <Draggable> instances to cleanup.\n     */\n    lifecycle.dispatch('onBeforeDragEnd', {\n      draggableId: draggableId\n    });\n    var _getProvided3 = getProvided('onDragEnd', result),\n      provided = _getProvided3.provided,\n      getMessage = _getProvided3.getMessage;\n    onDragEnd(result, provided);\n    announce(getMessage());\n    if (restoreFocusTo) {\n      /**\n       * The `requestAnimationFrame` matches `react-beautiful-dnd`.\n       *\n       * It is required to wait for React state updates to have taken effect.\n       * Otherwise we might try to focus an element that no longer exists.\n       */\n      requestAnimationFrame(function () {\n        var dragHandle = findDragHandle({\n          contextId: contextId,\n          draggableId: draggableId\n        });\n        if (!dragHandle) {\n          return;\n        }\n        dragHandle.focus();\n      });\n    }\n  }, [contextId, flush, keyboardCleanupManager, lifecycle, onDragEnd, updateDrag]);\n  var dragController = useMemo(function () {\n    return {\n      getDragState: getDragState,\n      startDrag: startDrag,\n      updateDrag: updateDrag,\n      stopDrag: stopDrag\n    };\n  }, [getDragState, startDrag, stopDrag, updateDrag]);\n  usePointerControls({\n    dragController: dragController,\n    contextId: contextId\n  });\n  var _useKeyboardControls = useKeyboardControls({\n      dragController: dragController,\n      droppableRegistry: droppableRegistry,\n      contextId: contextId,\n      setKeyboardCleanupFn: keyboardCleanupManager.setCleanupFn\n    }),\n    startKeyboardDrag = _useKeyboardControls.startKeyboardDrag;\n\n  /**\n   * If a droppable becomes disabled during a drag, then a new destination\n   * should be found and published in a `DragUpdate`.\n   */\n  var onDroppableUpdate = useCallback(function (entry) {\n    var _dragState$targetLoca;\n    var dragState = dragStateRef.current;\n    if (!dragState.isDragging) {\n      return;\n    }\n    if (!entry.isDropDisabled) {\n      return;\n    }\n    if (entry.droppableId !== ((_dragState$targetLoca = dragState.targetLocation) === null || _dragState$targetLoca === void 0 ? void 0 : _dragState$targetLoca.droppableId)) {\n      return;\n    }\n    var targetLocation = getClosestEnabledDraggableLocation({\n      droppableId: entry.droppableId\n    });\n    updateDrag({\n      targetLocation: targetLocation\n    });\n  }, [getClosestEnabledDraggableLocation, updateDrag]);\n  droppableRegistry.setUpdateListener(onDroppableUpdate);\n  useStyleMarshal({\n    contextId: contextId,\n    nonce: nonce\n  });\n  return /*#__PURE__*/React.createElement(ErrorBoundary, {\n    contextId: contextId,\n    dragController: dragController\n  }, /*#__PURE__*/React.createElement(LifecycleContextProvider, {\n    lifecycle: lifecycle\n  }, /*#__PURE__*/React.createElement(DragDropContextProvider, {\n    contextId: contextId,\n    getDragState: getDragState,\n    startKeyboardDrag: startKeyboardDrag,\n    droppableRegistry: droppableRegistry\n  }, children)));\n}","import { useCallback, useEffect } from 'react';\nimport { autoScroller } from '@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll';\nimport { monitorForElements } from '@atlaskit/pragmatic-drag-and-drop/element/adapter';\nimport { preventUnhandled } from '@atlaskit/pragmatic-drag-and-drop/prevent-unhandled';\nimport { isDraggableData } from '../../draggable/data';\nimport { isDroppableData } from '../../droppable/data';\nimport { getDraggableLocation } from '../draggable-location';\nimport { rbdInvariant } from '../rbd-invariant';\n/**\n * Sets up listeners for pointer dragging.\n */\nexport function usePointerControls(_ref) {\n  var dragController = _ref.dragController,\n    contextId = _ref.contextId;\n  var updatePointerDrag = useCallback(function (location) {\n    dragController.updateDrag({\n      targetLocation: getDraggableLocation(location.current)\n    });\n  }, [dragController]);\n  useEffect(function () {\n    return monitorForElements({\n      canMonitor: function canMonitor(_ref2) {\n        var initial = _ref2.initial,\n          source = _ref2.source;\n        if (!isDraggableData(source.data)) {\n          // not dragging something from the migration layer\n          // we should not monitor it\n          return false;\n        }\n        var isValidDraggable = source.data.contextId === contextId;\n        if (!isValidDraggable) {\n          return false;\n        }\n        var droppable = initial.dropTargets.find(function (target) {\n          return isDroppableData(target.data);\n        });\n        if (!droppable) {\n          /**\n           * There may be no droppable in the `dropTargets` if it is disabled.\n           *\n           * This is still valid.\n           */\n          return true;\n        }\n        var isValidDroppable = droppable.data.contextId === contextId;\n        return isValidDroppable;\n      },\n      onDragStart: function onDragStart(_ref3) {\n        var location = _ref3.location,\n          source = _ref3.source;\n        autoScroller.start({\n          input: location.current.input\n        });\n\n        /**\n         * We use `preventUnhandled` because we are rendering a custom drag\n         * preview.\n         */\n        preventUnhandled.start();\n        var data = source.data;\n        rbdInvariant(isDraggableData(data));\n        var draggableId = data.draggableId,\n          droppableId = data.droppableId,\n          getIndex = data.getIndex,\n          type = data.type;\n        dragController.startDrag({\n          draggableId: draggableId,\n          type: type,\n          getSourceLocation: function getSourceLocation() {\n            return {\n              droppableId: droppableId,\n              index: getIndex()\n            };\n          },\n          sourceElement: source.element,\n          mode: 'FLUID'\n        });\n      },\n      onDrag: function onDrag(_ref4) {\n        var location = _ref4.location;\n        autoScroller.updateInput({\n          input: location.current.input\n        });\n        updatePointerDrag(location);\n      },\n      onDropTargetChange: function onDropTargetChange(_ref5) {\n        var location = _ref5.location;\n        updatePointerDrag(location);\n      },\n      onDrop: function onDrop() {\n        autoScroller.stop();\n        preventUnhandled.stop();\n        dragController.stopDrag({\n          reason: 'DROP'\n        });\n      }\n    });\n  }, [dragController, contextId, updatePointerDrag]);\n}","import { useCallback, useEffect, useRef } from 'react';\n\n/**\n * Allows access to a changing value in a stable way.\n */\nexport function useStable(value) {\n  var ref = useRef(value);\n  useEffect(function () {\n    ref.current = value;\n  }, [value]);\n  var getValue = useCallback(function () {\n    return ref.current;\n  }, []);\n  return getValue;\n}","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n// eslint-disable-next-line import/no-extraneous-dependencies\n\nimport { zIndex } from './constants';\nexport var notDraggingStyle = {\n  transform: undefined,\n  transition: undefined\n};\nvar baseDraggingStyle = {\n  position: 'fixed',\n  top: 0,\n  left: 0,\n  boxSizing: 'border-box',\n  transition: 'none',\n  zIndex: zIndex.dragging,\n  /**\n   * This transparency is intended to allow for better visibility of\n   * drop indicators.\n   */\n  opacity: 0.75,\n  pointerEvents: 'none'\n};\n\n/**\n * Provides the drag preview styles based on the current drag state.\n */\nfunction getDraggingStyle(_ref) {\n  var draggableDimensions = _ref.draggableDimensions,\n    previewOffset = _ref.previewOffset;\n  var rect = draggableDimensions.rect;\n  var translateX = rect.left + previewOffset.x;\n  var translateY = rect.top + previewOffset.y;\n  var isAtOrigin = translateX === 0 && translateY === 0;\n  return _objectSpread(_objectSpread({}, baseDraggingStyle), {}, {\n    transform: isAtOrigin ? undefined : \"translate(\".concat(translateX, \"px, \").concat(translateY, \"px)\"),\n    width: rect.width,\n    height: rect.height\n  });\n}\n\n/**\n * Returns the styles which should be provided to the draggable via the\n * `draggableProps` API.\n */\nexport function getDraggableProvidedStyle(_ref2) {\n  var draggableDimensions = _ref2.draggableDimensions,\n    draggableState = _ref2.draggableState;\n  if (draggableState.type !== 'dragging' || !draggableState.previewOffset || !draggableDimensions) {\n    return notDraggingStyle;\n  }\n  return getDraggingStyle({\n    draggableDimensions: draggableDimensions,\n    previewOffset: draggableState.previewOffset\n  });\n}","/**\n * This value was copied from `react-beautiful-dnd`\n */\nexport var zIndex = {\n  dragging: 5000\n};\n\n/**\n * How far the drag preview is offset on the cross axis.\n *\n * Using a fixed value instead of a percentage, due to issues with the\n * offset growing too large.\n */\nexport var keyboardPreviewCrossAxisOffset = 24;","/**\n * Maps directions to different JS/CSS properties.\n *\n * Allows logic which changes with the direction to be written only once.\n */\nexport var directionMapping = {\n  vertical: {\n    mainAxis: {\n      name: 'y',\n      offset: 'offsetTop',\n      length: 'offsetHeight',\n      scrollOffset: 'scrollTop',\n      forwardEdge: 'bottom',\n      overflow: 'overflowY',\n      style: {\n        length: 'height',\n        transform: 'translateY'\n      }\n    },\n    crossAxis: {\n      name: 'x',\n      offset: 'offsetLeft',\n      length: 'offsetWidth',\n      style: {\n        length: 'width',\n        offset: 'left'\n      }\n    }\n  },\n  horizontal: {\n    mainAxis: {\n      name: 'x',\n      offset: 'offsetLeft',\n      length: 'offsetWidth',\n      scrollOffset: 'scrollLeft',\n      forwardEdge: 'right',\n      overflow: 'overflowX',\n      style: {\n        length: 'width',\n        transform: 'translateX'\n      }\n    },\n    crossAxis: {\n      name: 'y',\n      offset: 'offsetTop',\n      length: 'offsetHeight',\n      style: {\n        length: 'height',\n        offset: 'top'\n      }\n    }\n  }\n};\n\n/**\n * The thickness of the drop indicator line, in pixels.\n */\nexport var lineThickness = 2;\n\n/**\n * The distance to pull the line back by, to account for its thickness.\n */\nexport var lineOffset = lineThickness / 2;","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/**\n * All state for the Draggable in one place.\n *\n * This avoids rerenders (caused by unbatched state updates),\n * but also keeps state logic together.\n */\n\n// eslint-disable-next-line import/no-extraneous-dependencies\n\nimport { isSameLocation } from '../drag-drop-context/draggable-location';\nimport { rbdInvariant } from '../drag-drop-context/rbd-invariant';\nimport { directionMapping } from '../droppable/drop-indicator/constants';\nimport { keyboardPreviewCrossAxisOffset } from './constants';\n\n/**\n * The state of a draggable that is currently being dragged.\n * It does not have a clone.\n */\n\n/**\n * The state of a draggable that is currently hiding,\n * because it its clone is being rendered instead.\n */\n\nexport var idleState = {\n  type: 'idle',\n  draggingOver: null\n};\nfunction getHidingState(mode) {\n  return {\n    type: 'hiding',\n    draggingOver: null,\n    mode: mode\n  };\n}\nvar getKeyboardPreviewOffset = {\n  initial: function initial(_ref) {\n    var direction = _ref.direction;\n    /**\n     * The initial offset doesn't use a base offset,\n     * as no scrolling should have ocurred yet.\n     */\n    var _directionMapping$dir = directionMapping[direction],\n      mainAxis = _directionMapping$dir.mainAxis,\n      crossAxis = _directionMapping$dir.crossAxis;\n    return _defineProperty(_defineProperty({}, mainAxis.name, 0), crossAxis.name, keyboardPreviewCrossAxisOffset);\n  },\n  home: function home(_ref3) {\n    var direction = _ref3.droppable.direction,\n      placeholderRect = _ref3.placeholderRect,\n      draggableDimensions = _ref3.draggableDimensions;\n    rbdInvariant(placeholderRect, 'the placeholder should exist if in home position');\n\n    /**\n     * This base offset will result in the preview being over the placeholder\n     * (same x and y coordinates).\n     *\n     * Consider this as `currentPosition - initialPosition` to find an offset.\n     *\n     * The `placeholderRect` is the **current** viewport-relative position of the\n     * gap where the draggable originated from.\n     *\n     * The `draggableDimensions.rect` is the **initial** viewport-relative position\n     * of the draggable.\n     */\n    var baseOffset = {\n      x: placeholderRect.x - draggableDimensions.rect.x,\n      y: placeholderRect.y - draggableDimensions.rect.y\n    };\n    var _directionMapping$dir2 = directionMapping[direction],\n      mainAxis = _directionMapping$dir2.mainAxis,\n      crossAxis = _directionMapping$dir2.crossAxis;\n    return _defineProperty(_defineProperty({}, mainAxis.name, baseOffset[mainAxis.name]), crossAxis.name, baseOffset[crossAxis.name] + keyboardPreviewCrossAxisOffset);\n  },\n  away: function away(_ref5) {\n    var direction = _ref5.droppable.direction,\n      dropIndicatorRect = _ref5.dropIndicatorRect,\n      draggableDimensions = _ref5.draggableDimensions;\n    rbdInvariant(dropIndicatorRect, 'the drop indicator should exist if in away position');\n\n    /**\n     * This base offset will result in the preview being over the drop indicator\n     * (same x and y coordinates).\n     *\n     * Consider this as `currentPosition - initialPosition` to find an offset.\n     *\n     * The `dropIndicatorRect` is the **current** viewport-relative position of the\n     * drop indicator.\n     *\n     * The `draggableDimensions.rect` is the **initial** viewport-relative position\n     * of the draggable.\n     */\n    var baseOffset = {\n      x: dropIndicatorRect.x - draggableDimensions.rect.x,\n      y: dropIndicatorRect.y - draggableDimensions.rect.y\n    };\n    var _directionMapping$dir3 = directionMapping[direction],\n      mainAxis = _directionMapping$dir3.mainAxis,\n      crossAxis = _directionMapping$dir3.crossAxis;\n    return _defineProperty(_defineProperty({}, mainAxis.name, baseOffset[mainAxis.name] - 0.5 * draggableDimensions.rect[mainAxis.style.length]), crossAxis.name, baseOffset[crossAxis.name] + keyboardPreviewCrossAxisOffset);\n  }\n};\n\n/**\n * Determines the offset for the drag preview for keyboard drags.\n *\n * Unlike mouse drags, during which the drag preview follows the cursor,\n * the drag preview will follow the drop indicator for keyboard drags.\n */\nfunction updateKeyboardPreview(state, _ref7) {\n  var _update$destination;\n  var update = _ref7.update,\n    droppable = _ref7.droppable,\n    draggableDimensions = _ref7.draggableDimensions,\n    placeholderRect = _ref7.placeholderRect,\n    dropIndicatorRect = _ref7.dropIndicatorRect;\n  if (!droppable || !draggableDimensions) {\n    return state;\n  }\n  var data = {\n    droppable: droppable,\n    draggableDimensions: draggableDimensions,\n    placeholderRect: placeholderRect,\n    dropIndicatorRect: dropIndicatorRect\n  };\n  var isHome = isSameLocation(update.source, (_update$destination = update.destination) !== null && _update$destination !== void 0 ? _update$destination : null);\n  var previewOffset = isHome ? getKeyboardPreviewOffset.home(data) : getKeyboardPreviewOffset.away(data);\n  if (!previewOffset) {\n    return state;\n  }\n  return _objectSpread(_objectSpread({}, state), {}, {\n    previewOffset: previewOffset\n  });\n}\nfunction startDrag(state, _ref8) {\n  var start = _ref8.start,\n    previewOffset = _ref8.previewOffset;\n  rbdInvariant(state.type === 'idle', 'The draggable is idle.');\n  var draggingOver = start.source.droppableId;\n  var nextState = {\n    type: 'dragging',\n    draggingOver: draggingOver,\n    location: null,\n    start: start.source,\n    draggableId: start.draggableId,\n    mode: start.mode,\n    previewOffset: previewOffset\n  };\n  return nextState;\n}\nexport function reducer(state, action) {\n  if (action.type === 'START_POINTER_DRAG') {\n    return startDrag(state, _objectSpread(_objectSpread({}, action.payload), {}, {\n      previewOffset: {\n        x: 0,\n        y: 0\n      }\n    }));\n  }\n  if (action.type === 'START_KEYBOARD_DRAG') {\n    var _action$payload = action.payload,\n      draggableDimensions = _action$payload.draggableDimensions,\n      droppable = _action$payload.droppable;\n    return startDrag(state, _objectSpread(_objectSpread({}, action.payload), {}, {\n      previewOffset: getKeyboardPreviewOffset.initial({\n        draggableDimensions: draggableDimensions,\n        direction: droppable.direction\n      })\n    }));\n  }\n  if (action.type === 'UPDATE_DRAG') {\n    rbdInvariant(state.type === 'dragging', 'The draggable is dragging.');\n    var update = action.payload.update;\n    var draggingOver = update.destination ? update.destination.droppableId : null;\n    if (draggingOver === state.draggingOver) {\n      // Save on an unnecessary rerender\n      return state;\n    }\n    var nextState = _objectSpread(_objectSpread({}, state), {}, {\n      draggingOver: draggingOver\n    });\n    return nextState;\n  }\n  if (action.type === 'UPDATE_POINTER_PREVIEW') {\n    rbdInvariant(state.type === 'dragging', 'The draggable is dragging.');\n    var pointerLocation = action.payload.pointerLocation;\n    var _nextState = _objectSpread(_objectSpread({}, state), {}, {\n      previewOffset: {\n        x: pointerLocation.current.input.clientX - pointerLocation.initial.input.clientX,\n        y: pointerLocation.current.input.clientY - pointerLocation.initial.input.clientY\n      }\n    });\n    return _nextState;\n  }\n  if (action.type === 'UPDATE_KEYBOARD_PREVIEW') {\n    rbdInvariant(state.type === 'dragging', 'The draggable is dragging.');\n    if (state.type !== 'dragging') {\n      return state;\n    }\n    var _nextState2 = updateKeyboardPreview(state, action.payload);\n    return _nextState2;\n  }\n  if (action.type === 'DROP') {\n    rbdInvariant(state.type === 'dragging', 'The draggable is dragging.');\n    return idleState;\n  }\n  if (action.type === 'START_HIDING') {\n    rbdInvariant(state.type === 'idle' || state.type === 'hiding');\n    return getHidingState(action.payload.mode);\n  }\n  if (action.type === 'STOP_HIDING') {\n    rbdInvariant(state.type === 'hiding');\n    return idleState;\n  }\n  return state;\n}","import { useMemo } from 'react';\n\n// eslint-disable-next-line import/no-extraneous-dependencies\n\nexport function useDraggableStateSnapshot(_ref) {\n  var draggingOver = _ref.draggingOver,\n    isClone = _ref.isClone,\n    isDragging = _ref.isDragging,\n    mode = _ref.mode;\n  return useMemo(function () {\n    return {\n      isClone: isClone,\n      isDragging: isDragging,\n      draggingOver: draggingOver,\n      mode: mode,\n      /**\n       * The properties below are fixed in the migration layer,\n       * because they are not supported.\n       *\n       * Animation and combination were intentionally removed.\n       */\n      isDropAnimating: false,\n      dropAnimation: null,\n      combineWith: null,\n      combineTargetFor: null\n    };\n  }, [draggingOver, isClone, isDragging, mode]);\n}","import { customAttributes } from './attributes';\nimport { findElement } from './find-element';\nexport function findDropIndicator() {\n  return findElement({\n    attribute: customAttributes.dropIndicator\n  });\n}","// eslint-disable-next-line import/no-extraneous-dependencies\n\nimport { attributes } from './attributes';\nimport { findElement } from './find-element';\nexport function findPlaceholder(contextId) {\n  return findElement({\n    attribute: attributes.placeholder.contextId,\n    value: contextId\n  });\n}","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport React, { useCallback, useEffect, useMemo, useReducer } from 'react';\n\n// eslint-disable-next-line import/no-extraneous-dependencies\n\nimport { createPortal } from 'react-dom';\nimport { combine } from '@atlaskit/pragmatic-drag-and-drop/combine';\nimport { monitorForElements } from '@atlaskit/pragmatic-drag-and-drop/element/adapter';\nimport { getHiddenTextElementId } from '../drag-drop-context/hooks/use-hidden-text-element';\nimport { useDragDropContext } from '../drag-drop-context/internal-context';\nimport { useMonitorForLifecycle } from '../drag-drop-context/lifecycle-context';\nimport { rbdInvariant } from '../drag-drop-context/rbd-invariant';\nimport { isDraggableData } from '../draggable/data';\nimport { getDraggableProvidedStyle } from '../draggable/get-draggable-provided-style';\nimport { idleState, reducer } from '../draggable/state';\nimport { useDraggableStateSnapshot } from '../draggable/use-draggable-state-snapshot';\nimport { useDraggableDimensions } from '../hooks/use-captured-dimensions';\nimport { attributes } from '../utils/attributes';\nimport { findDragHandle } from '../utils/find-drag-handle';\nimport { findDropIndicator } from '../utils/find-drop-indicator';\nimport { findPlaceholder } from '../utils/find-placeholder';\nfunction getBody() {\n  return document.body;\n}\n\n/**\n * Calls the `renderClone` function.\n *\n * Only rendered during drags.\n */\nfunction DraggableCloneInner(_ref) {\n  var children = _ref.children,\n    droppableId = _ref.droppableId,\n    type = _ref.type,\n    draggableId = _ref.draggableId,\n    index = _ref.index,\n    draggingOver = _ref.draggingOver,\n    style = _ref.style,\n    _ref$getContainerForC = _ref.getContainerForClone,\n    getContainerForClone = _ref$getContainerForC === void 0 ? getBody : _ref$getContainerForC,\n    mode = _ref.mode;\n  var _useDragDropContext = useDragDropContext(),\n    contextId = _useDragDropContext.contextId;\n\n  /**\n   * The handle should maintain focus during a drag,\n   * if it had focus before the drag started.\n   */\n  var focusDragHandle = useCallback(function (element) {\n    if (!element) {\n      return;\n    }\n    var dragHandle = findDragHandle({\n      contextId: contextId,\n      draggableId: draggableId\n    });\n    dragHandle === null || dragHandle === void 0 || dragHandle.focus();\n  }, [contextId, draggableId]);\n  var provided = useMemo(function () {\n    return {\n      innerRef: focusDragHandle,\n      draggableProps: _defineProperty(_defineProperty(_defineProperty({}, attributes.draggable.contextId, contextId), attributes.draggable.id, draggableId), \"style\", style),\n      dragHandleProps: _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({\n        role: 'button',\n        'aria-describedby': getHiddenTextElementId(contextId)\n      }, attributes.dragHandle.contextId, contextId), attributes.dragHandle.draggableId, draggableId), \"tabIndex\", 0), \"draggable\", false), \"onDragStart\", function onDragStart() {})\n    };\n  }, [contextId, draggableId, focusDragHandle, style]);\n  var snapshot = useDraggableStateSnapshot({\n    draggingOver: draggingOver,\n    isClone: true,\n    isDragging: true,\n    mode: mode\n  });\n  var rubric = useMemo(function () {\n    return {\n      draggableId: draggableId,\n      type: type,\n      source: {\n        droppableId: droppableId,\n        index: index\n      }\n    };\n  }, [draggableId, droppableId, index, type]);\n  return /*#__PURE__*/createPortal(children(provided, snapshot, rubric), getContainerForClone());\n}\n\n/**\n * Wrapper that is always rendered if there is a `renderClone` function.\n *\n * It sets up a monitor, and needs to observe the entire lifecycle.\n */\nexport function DraggableClone(_ref2) {\n  var children = _ref2.children,\n    droppableId = _ref2.droppableId,\n    type = _ref2.type,\n    getContainerForClone = _ref2.getContainerForClone;\n  var _useDragDropContext2 = useDragDropContext(),\n    contextId = _useDragDropContext2.contextId,\n    getDragState = _useDragDropContext2.getDragState;\n  var draggableDimensions = useDraggableDimensions();\n  var _useReducer = useReducer(reducer, idleState),\n    _useReducer2 = _slicedToArray(_useReducer, 2),\n    state = _useReducer2[0],\n    dispatch = _useReducer2[1];\n  var monitorForLifecycle = useMonitorForLifecycle();\n  useEffect(function () {\n    return combine(monitorForLifecycle({\n      onPendingDragStart: function onPendingDragStart(_ref3) {\n        var start = _ref3.start,\n          droppable = _ref3.droppable;\n        if (droppableId !== start.source.droppableId) {\n          return;\n        }\n        if (start.mode === 'FLUID') {\n          return dispatch({\n            type: 'START_POINTER_DRAG',\n            payload: {\n              start: start\n            }\n          });\n        }\n        if (start.mode === 'SNAP') {\n          var dragState = getDragState();\n          rbdInvariant(dragState.isDragging && dragState.draggableDimensions);\n          return dispatch({\n            type: 'START_KEYBOARD_DRAG',\n            payload: {\n              start: start,\n              draggableDimensions: dragState.draggableDimensions,\n              droppable: droppable\n            }\n          });\n        }\n      },\n      onPendingDragUpdate: function onPendingDragUpdate(_ref4) {\n        var update = _ref4.update,\n          droppable = _ref4.droppable;\n        if (state.type !== 'dragging') {\n          return;\n        }\n        if (state.draggableId !== update.draggableId) {\n          return;\n        }\n        dispatch({\n          type: 'UPDATE_DRAG',\n          payload: {\n            update: update\n          }\n        });\n        if (update.mode === 'SNAP') {\n          /**\n           * Updating the position in a microtask to resolve timing issues.\n           *\n           * When doing cross-axis dragging, the drop indicator in the new\n           * droppable will mount and update in a `onPendingDragUpdate` too.\n           *\n           * The microtask ensures that the indicator will have updated by\n           * the time this runs, so the preview will have the correct\n           * location of the indicator.\n           */\n          queueMicrotask(function () {\n            /**\n             * Because this update occurs in a microtask, we need to check\n             * that the drag is still happening.\n             *\n             * If it has ended we should not try to update the preview.\n             */\n            var dragState = getDragState();\n            if (!dragState.isDragging) {\n              return;\n            }\n\n            /**\n             * The placeholder might not exist if its associated\n             * draggable unmounts in a virtual list.\n             */\n            var placeholder = findPlaceholder(contextId);\n            var placeholderRect = placeholder ? placeholder.getBoundingClientRect() : null;\n\n            /**\n             * The drop indicator might not exist if the current target\n             * is null\n             */\n            var dropIndicator = findDropIndicator();\n            var dropIndicatorRect = dropIndicator ? dropIndicator.getBoundingClientRect() : null;\n            dispatch({\n              type: 'UPDATE_KEYBOARD_PREVIEW',\n              payload: {\n                update: update,\n                draggableDimensions: draggableDimensions,\n                droppable: droppable,\n                placeholderRect: placeholderRect,\n                dropIndicatorRect: dropIndicatorRect\n              }\n            });\n          });\n        }\n      },\n      onBeforeDragEnd: function onBeforeDragEnd(_ref5) {\n        var draggableId = _ref5.draggableId;\n        if (state.type !== 'dragging') {\n          return;\n        }\n        if (draggableId !== state.draggableId) {\n          return;\n        }\n        dispatch({\n          type: 'DROP'\n        });\n      }\n    }), monitorForElements({\n      canMonitor: function canMonitor(_ref6) {\n        var source = _ref6.source;\n        if (!isDraggableData(source.data)) {\n          // not dragging something from the migration layer\n          // we should not monitor it\n          return false;\n        }\n        return source.data.contextId === contextId && source.data.droppableId === droppableId;\n      },\n      onDrag: function onDrag(_ref7) {\n        var location = _ref7.location;\n        dispatch({\n          type: 'UPDATE_POINTER_PREVIEW',\n          payload: {\n            pointerLocation: location\n          }\n        });\n      }\n    }));\n  }, [droppableId, contextId, monitorForLifecycle, state, draggableDimensions, getDragState]);\n  if (state.type !== 'dragging') {\n    return null;\n  }\n  var style = getDraggableProvidedStyle({\n    draggableDimensions: draggableDimensions,\n    draggableState: state\n  });\n  return /*#__PURE__*/React.createElement(DraggableCloneInner, {\n    droppableId: droppableId,\n    type: type,\n    draggableId: state.draggableId,\n    index: state.start.index,\n    draggingOver: state.draggingOver,\n    mode: state.mode\n    // eslint-disable-next-line @atlaskit/ui-styling-standard/enforce-style-prop -- Ignored via go/DSP-18766\n    ,\n    style: style,\n    getContainerForClone: getContainerForClone\n  }, children);\n}","// eslint-disable-next-line import/no-extraneous-dependencies\n\nvar directionMapping = {\n  horizontal: {\n    rect: {\n      start: 'left',\n      end: 'right'\n    }\n  },\n  vertical: {\n    rect: {\n      start: 'top',\n      end: 'bottom'\n    }\n  }\n};\n\n/**\n * Computes the distance between two `DOMRect` instances.\n *\n * This is the shortest distance from the end of one to the start of the next.\n */\nexport function getDistance(_ref) {\n  var a = _ref.a,\n    b = _ref.b,\n    direction = _ref.direction;\n  var rect = directionMapping[direction].rect;\n  return Math.max(a[rect.start], b[rect.start]) - Math.min(a[rect.end], b[rect.end]);\n}","// eslint-disable-next-line import/no-extraneous-dependencies\n\nimport { rbdInvariant } from '../../drag-drop-context/rbd-invariant';\nimport { customAttributes, getAttribute } from '../../utils/attributes';\nimport { getElementByDraggableLocation } from '../../utils/get-element-by-draggable-location';\nimport { getDistance } from './get-distance';\nfunction getDroppableId(element) {\n  return getAttribute(element, customAttributes.draggable.droppableId);\n}\nfunction getIndex(element) {\n  var value = getAttribute(element, customAttributes.draggable.index);\n  var index = parseInt(value);\n  rbdInvariant(Number.isInteger(index), \"invalid index: '\".concat(index, \"' is not an integer\"));\n  return index;\n}\n\n/**\n * ASSUMPTIONS:\n * - Adjacent `<Draggable>` items are visually adjacent.\n * - If there is an adjacent element, it is rendered.\n */\nexport function calculateGap(_ref) {\n  var element = _ref.element,\n    where = _ref.where,\n    direction = _ref.direction,\n    contextId = _ref.contextId;\n  var droppableId = getDroppableId(element);\n  var index = getIndex(element);\n  var indexBefore = index - 1;\n  var indexAfter = index + 1;\n  var isBefore = where === 'before';\n  var adjacentElement = getElementByDraggableLocation(contextId, {\n    droppableId: droppableId,\n    index: isBefore ? indexBefore : indexAfter\n  });\n  if (adjacentElement === null) {\n    /**\n     * If there is no adjacent element, we can guess based on margins.\n     */\n    var _getComputedStyle = getComputedStyle(element),\n      marginTop = _getComputedStyle.marginTop,\n      marginRight = _getComputedStyle.marginRight,\n      marginBottom = _getComputedStyle.marginBottom,\n      marginLeft = _getComputedStyle.marginLeft;\n    if (direction === 'horizontal') {\n      return parseFloat(marginLeft) + parseFloat(marginRight);\n    }\n    return parseFloat(marginTop) + parseFloat(marginBottom);\n  }\n  var distance = getDistance({\n    direction: direction,\n    a: element.getBoundingClientRect(),\n    b: adjacentElement.getBoundingClientRect()\n  });\n  return distance;\n}\nexport function getGapOffset(_ref2) {\n  var element = _ref2.element,\n    where = _ref2.where,\n    direction = _ref2.direction,\n    contextId = _ref2.contextId;\n  var gap = calculateGap({\n    element: element,\n    where: where,\n    direction: direction,\n    contextId: contextId\n  });\n  if (where === 'before') {\n    return -gap / 2;\n  }\n  return gap / 2;\n}","// eslint-disable-next-line import/no-extraneous-dependencies\n\nimport { attributes } from '../../utils/attributes';\nimport { findClosestScrollContainer } from '../../utils/find-closest-scroll-container';\nimport { getElement } from '../../utils/find-element';\nimport { findPlaceholder } from '../../utils/find-placeholder';\nimport { getClosestPositionedElement } from '../../utils/get-closest-positioned-element';\nimport { getElementByDraggableLocation } from '../../utils/get-element-by-draggable-location';\nimport { getGapOffset } from '../gap';\nimport { directionMapping, lineOffset } from './constants';\n/**\n * Returns the dimensions for a drop indicator either before or after a\n * draggable.\n *\n * `isForwardEdge` determines whether it is before or after.\n */\nfunction measureDraggable(_ref) {\n  var element = _ref.element,\n    isForwardEdge = _ref.isForwardEdge,\n    mode = _ref.mode,\n    direction = _ref.direction,\n    contextId = _ref.contextId;\n  var _directionMapping$dir = directionMapping[direction],\n    mainAxis = _directionMapping$dir.mainAxis,\n    crossAxis = _directionMapping$dir.crossAxis;\n  var offsetElement = getClosestPositionedElement({\n    element: element,\n    mode: mode\n  });\n  var gapOffset = getGapOffset({\n    element: element,\n    where: isForwardEdge ? 'after' : 'before',\n    direction: direction,\n    contextId: contextId\n  });\n  var baseOffset = offsetElement[mainAxis.offset] - lineOffset;\n  var mainAxisOffset = isForwardEdge ? baseOffset + element[mainAxis.length] : baseOffset;\n  return {\n    mainAxis: {\n      offset: mainAxisOffset + gapOffset\n    },\n    crossAxis: {\n      offset: offsetElement[crossAxis.offset],\n      length: offsetElement[crossAxis.length]\n    }\n  };\n}\n\n/**\n * This will return an indicator size and offset corresponding to a line\n * through the middle of the placeholder.\n *\n * The reason this is a special case, instead of just falling back to the\n * standard positioning logic, is to avoid measuring the drag preview.\n */\nfunction measurePlaceholder(_ref2) {\n  var element = _ref2.element,\n    direction = _ref2.direction;\n  var _directionMapping$dir2 = directionMapping[direction],\n    mainAxis = _directionMapping$dir2.mainAxis,\n    crossAxis = _directionMapping$dir2.crossAxis;\n\n  /**\n   * This function measures against the `element` directly instead of an\n   * `offsetElement` because:\n   * - For standard lists, that is already the behavior.\n   * - For virtual lists, we know that the `element` is being absolutely\n   *   positioned (and not an ancestor).\n   */\n  var baseOffset = element[mainAxis.offset] - lineOffset;\n  var mainAxisOffset = baseOffset + element[mainAxis.length] / 2;\n  return {\n    mainAxis: {\n      offset: mainAxisOffset\n    },\n    crossAxis: {\n      offset: element[crossAxis.offset],\n      length: element[crossAxis.length]\n    }\n  };\n}\nfunction getDroppableOffset(_ref3) {\n  var element = _ref3.element,\n    direction = _ref3.direction;\n  var mainAxis = directionMapping[direction].mainAxis;\n  var scrollContainer = findClosestScrollContainer(element);\n  if (!scrollContainer) {\n    return 0;\n  }\n\n  /**\n   * If the scroll container has static positioning,\n   * then we need to add the scroll container's offset as well.\n   */\n  var _getComputedStyle = getComputedStyle(scrollContainer),\n    position = _getComputedStyle.position;\n  if (position !== 'static') {\n    return 0;\n  }\n  return scrollContainer[mainAxis.offset];\n}\n\n/**\n * Returns the dimensions for a drop indicator in an empty list.\n */\nfunction measureDroppable(_ref4) {\n  var droppableId = _ref4.droppableId,\n    direction = _ref4.direction;\n  var element = getElement({\n    attribute: attributes.droppable.id,\n    value: droppableId\n  });\n  var mainAxisOffset = getDroppableOffset({\n    element: element,\n    direction: direction\n  });\n  return {\n    mainAxis: {\n      offset: mainAxisOffset\n    },\n    crossAxis: {\n      offset: 0,\n      length: '100%'\n    }\n  };\n}\nexport function getIndicatorSizeAndOffset(_ref5) {\n  var targetLocation = _ref5.targetLocation,\n    isInHomeLocation = _ref5.isInHomeLocation,\n    direction = _ref5.direction,\n    mode = _ref5.mode,\n    contextId = _ref5.contextId;\n  if (isInHomeLocation) {\n    /**\n     * If we are in the home location (source === destination) then the\n     * indicator is centered in the placeholder.\n     *\n     * It isn't visible, but is used to scroll to.\n     *\n     * This is a special case, because the standard logic will not work\n     * correctly when measuring the drag preview,\n     * which occurs when in the home location.\n     *\n     * This is because the drag preview:\n     *\n     * 1. Has `position: fixed; top: 0; left: 0;` so its `offsetTop` and `offsetLeft`\n     *    will always be `0`, which result in the indicator being at the start of the list.\n     * 2. Is in the wrong location anyway.\n     *\n     * `measurePlaceholder()` is specifically designed for this case.\n     */\n\n    var _element = findPlaceholder(contextId);\n    if (!_element) {\n      return null;\n    }\n    return measurePlaceholder({\n      element: _element,\n      direction: direction\n    });\n  }\n  if (targetLocation.index === 0) {\n    /**\n     * If the target is the 0th index, there are two situations:\n     *\n     * 1. Targeting an empty list\n     * 2. Targeting before the first item in the list\n     */\n\n    var _element2 = getElementByDraggableLocation(contextId, targetLocation);\n    if (!_element2) {\n      /**\n       * If there's no element in the location, it is because the list is empty.\n       * In this case, we measure the droppable itself to draw the indicator.\n       */\n      return measureDroppable({\n        droppableId: targetLocation.droppableId,\n        direction: direction\n      });\n    }\n\n    /**\n     * Otherwise, there is a reference element we can use to measure.\n     */\n    return measureDraggable({\n      element: _element2,\n      // `false` because the line is before the item\n      isForwardEdge: false,\n      mode: mode,\n      direction: direction,\n      contextId: contextId\n    });\n  }\n\n  /**\n   * Otherwise, for any other index, we can measure the draggable above where\n   * we would be dropping.\n   */\n\n  var element = getElementByDraggableLocation(contextId, {\n    droppableId: targetLocation.droppableId,\n    // subtracting one because it is the draggable above\n    index: targetLocation.index - 1\n  });\n  if (!element) {\n    return null;\n  }\n  return measureDraggable({\n    element: element,\n    // `true` because the line is after the item\n    isForwardEdge: true,\n    mode: mode,\n    direction: direction,\n    contextId: contextId\n  });\n}","import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n/**\n * @jsxRuntime classic\n * @jsx jsx\n */\n\nimport { useCallback, useLayoutEffect, useRef, useState } from 'react';\n\n// eslint-disable-next-line @atlaskit/ui-styling-standard/use-compiled -- Ignored via go/DSP-18766\nimport { css, jsx } from '@emotion/react';\n// eslint-disable-next-line import/no-extraneous-dependencies\n\nimport { isSameLocation } from '../../drag-drop-context/draggable-location';\nimport { getActualDestination } from '../../drag-drop-context/get-destination';\nimport { useDragDropContext } from '../../drag-drop-context/internal-context';\nimport { useMonitorForLifecycle } from '../../drag-drop-context/lifecycle-context';\nimport { rbdInvariant } from '../../drag-drop-context/rbd-invariant';\nimport { customAttributes } from '../../utils/attributes';\nimport { directionMapping, lineOffset, lineThickness } from './constants';\nimport { getIndicatorSizeAndOffset } from './get-dimensions';\nvar scrollMarginTop = lineThickness + 2 * lineOffset;\nvar baseStyles = css({\n  background: \"var(--ds-border-brand, #0C66E4)\",\n  /**\n   * Ensures that when the indicator is scrolled into view there is visual\n   * space around it.\n   *\n   * Otherwise it will hug the edge of the container and be hard to see.\n   */\n  // eslint-disable-next-line @atlaskit/ui-styling-standard/no-unsafe-values -- Ignored via go/DSP-18766\n  scrollMarginTop: scrollMarginTop,\n  /**\n   * The bottom margin needs to be slightly bigger for the gap to look\n   * the same visually.\n   *\n   * It's unclear why, this was found through testing.\n   */\n  // eslint-disable-next-line @atlaskit/ui-styling-standard/no-unsafe-values, @atlaskit/ui-styling-standard/no-imported-style-values -- Ignored via go/DSP-18766\n  scrollMarginBottom: scrollMarginTop + lineOffset\n});\n\n/**\n * For virtual lists, the indicator might not be a sibling of the contents.\n * This can lead to issues like wrapping.\n *\n * This style 'resets' it so that there is a consistent initial position.\n */\nvar virtualStyles = css({\n  position: 'absolute',\n  top: 0,\n  left: 0\n});\n\n/**\n * When targeting the source location, we hide the drop indicator.\n * But it should still be scrolled to, so we only want to hide it visually,\n * instead of not rendering it.\n */\nvar visuallyHiddenStyles = css({\n  opacity: 0\n});\nvar directionStyles = {\n  horizontal: css({\n    // eslint-disable-next-line @atlaskit/ui-styling-standard/no-imported-style-values, @atlaskit/ui-styling-standard/no-unsafe-values -- Ignored via go/DSP-18766\n    width: lineThickness,\n    height: '100%',\n    // eslint-disable-next-line @atlaskit/ui-styling-standard/no-unsafe-values, @atlaskit/ui-styling-standard/no-imported-style-values -- Ignored via go/DSP-18766\n    marginLeft: -lineThickness\n  }),\n  vertical: css({\n    width: '100%',\n    // eslint-disable-next-line @atlaskit/ui-styling-standard/no-imported-style-values, @atlaskit/ui-styling-standard/no-unsafe-values -- Ignored via go/DSP-18766\n    height: lineThickness,\n    // eslint-disable-next-line @atlaskit/ui-styling-standard/no-unsafe-values, @atlaskit/ui-styling-standard/no-imported-style-values -- Ignored via go/DSP-18766\n    marginTop: -lineThickness\n  })\n};\nfunction getDynamicStyles(_ref) {\n  var direction = _ref.direction,\n    dimensions = _ref.dimensions,\n    indicatorOffset = _ref.indicatorOffset;\n  if (dimensions === null) {\n    /**\n     * We hide the indicator initially until dimensions can be taken.\n     */\n    return {\n      opacity: 0\n    };\n  }\n  var _directionMapping$dir = directionMapping[direction],\n    mainAxis = _directionMapping$dir.mainAxis,\n    crossAxis = _directionMapping$dir.crossAxis;\n  return _defineProperty(_defineProperty({\n    transform: \"\".concat(mainAxis.style.transform, \"(\").concat(dimensions.mainAxis.offset - indicatorOffset, \"px)\")\n  }, crossAxis.style.length, dimensions.crossAxis.length), crossAxis.style.offset, dimensions.crossAxis.offset);\n}\nvar dropIndicatorData = _defineProperty({}, customAttributes.dropIndicator, '');\nexport var DropIndicator = function DropIndicator(_ref3) {\n  var direction = _ref3.direction,\n    mode = _ref3.mode;\n  var _useDragDropContext = useDragDropContext(),\n    contextId = _useDragDropContext.contextId,\n    getDragState = _useDragDropContext.getDragState;\n  var ref = useRef(null);\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    dimensions = _useState2[0],\n    setDimensions = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isHidden = _useState4[0],\n    setIsHidden = _useState4[1];\n  var monitorForLifecycle = useMonitorForLifecycle();\n  var updateIndicator = useCallback(function (_ref4) {\n    var targetLocation = _ref4.targetLocation,\n      source = _ref4.source,\n      destination = _ref4.destination;\n    if (!targetLocation) {\n      return setDimensions(null);\n    }\n    var isInHomeLocation = isSameLocation(source, destination);\n\n    /**\n     * Determines if the drop indicator should be hidden.\n     *\n     * This is desired when the current drop target would not change the position\n     * of the draggable.\n     */\n    setIsHidden(isInHomeLocation);\n    return setDimensions(getIndicatorSizeAndOffset({\n      targetLocation: targetLocation,\n      isInHomeLocation: isInHomeLocation,\n      direction: direction,\n      mode: mode,\n      contextId: contextId\n    }));\n  }, [contextId, direction, mode]);\n\n  /**\n   * This is in a `useLayoutEffect` for immediacy.\n   *\n   * When mounting (cross-axis movement) the indicator should update into\n   * its correct position right away, so that the drag preview can be placed\n   * correctly.\n   */\n  useLayoutEffect(function () {\n    var dragState = getDragState();\n    if (!dragState.isDragging) {\n      return;\n    }\n\n    /**\n     * If the indicator is only just mounting then it needs an immediate\n     * update to have it appear in the correct position.\n     */\n    var targetLocation = dragState.targetLocation,\n      sourceLocation = dragState.sourceLocation;\n    var destination = getActualDestination({\n      start: sourceLocation,\n      target: targetLocation\n    });\n    updateIndicator({\n      targetLocation: targetLocation,\n      destination: destination,\n      source: sourceLocation\n    });\n    return monitorForLifecycle({\n      onPrePendingDragUpdate: function onPrePendingDragUpdate(_ref5) {\n        var update = _ref5.update,\n          targetLocation = _ref5.targetLocation;\n        var _update$destination = update.destination,\n          destination = _update$destination === void 0 ? null : _update$destination,\n          source = update.source;\n        updateIndicator({\n          targetLocation: targetLocation,\n          source: source,\n          destination: destination\n        });\n      }\n    });\n  }, [contextId, direction, getDragState, mode, monitorForLifecycle, updateIndicator]);\n\n  /**\n   * Scroll the indicator into view.\n   *\n   * This is in a `useLayoutEffect` for immediacy.\n   * Otherwise the keyboard drag preview can appear in the wrong (old) location.\n   */\n  useLayoutEffect(function () {\n    if (dimensions === null) {\n      return;\n    }\n\n    /**\n     * If we are doing a mouse drag,\n     * then we don't want to scroll to the indicator.\n     *\n     * Otherwise, it will conflict with the auto-scroll addon.\n     */\n    var dragState = getDragState();\n    if (!dragState.isDragging || dragState.mode !== 'SNAP') {\n      return;\n    }\n    var element = ref.current;\n    rbdInvariant(element instanceof HTMLElement);\n    element.scrollIntoView({\n      block: 'nearest'\n    });\n  }, [dimensions, getDragState]);\n  var mainAxis = directionMapping[direction].mainAxis;\n  var indicatorOffset = ref.current ? ref.current[mainAxis.offset] : 0;\n  var dynamicStyles = getDynamicStyles({\n    direction: direction,\n    dimensions: dimensions,\n    indicatorOffset: indicatorOffset\n  });\n  var isVirtual = mode === 'virtual';\n  return jsx(\"div\", _extends({\n    ref: ref,\n    css: [baseStyles, directionStyles[direction], isVirtual && virtualStyles, isHidden && visuallyHiddenStyles]\n    // eslint-disable-next-line @atlaskit/ui-styling-standard/enforce-style-prop -- Ignored via go/DSP-18766\n    ,\n    style: dynamicStyles\n  }, dropIndicatorData));\n};","import { createContext, useContext } from 'react';\n\n// eslint-disable-next-line import/no-extraneous-dependencies\n\nimport { rbdInvariant } from '../drag-drop-context/rbd-invariant';\nvar DroppableContext = /*#__PURE__*/createContext(null);\nexport var DroppableContextProvider = DroppableContext.Provider;\n\n/**\n * Intended for use by `<Draggable>` instances.\n */\nexport function useDroppableContext() {\n  var value = useContext(DroppableContext);\n  rbdInvariant(value, 'Missing <Droppable /> parent');\n  return value;\n}\n\n/**\n * Returns the `droppableId` of the parent droppable, if there is one.\n *\n * Intended for use only by `<Droppable>` instances.\n */\nexport function useParentDroppableId() {\n  var parentDroppable = useContext(DroppableContext);\n  if (!parentDroppable) {\n    return null;\n  }\n  return parentDroppable.droppableId;\n}","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n// eslint-disable-next-line import/no-extraneous-dependencies\n\nexport var idleState = {\n  draggingFromThisWith: null,\n  draggingOverWith: null,\n  isDraggingOver: false\n};\nexport function reducer(state, action) {\n  if (action.type === 'DRAG_START') {\n    var _action$payload = action.payload,\n      droppableId = _action$payload.droppableId,\n      start = _action$payload.start;\n    var draggableId = start.draggableId,\n      source = start.source;\n    var isDraggingOver = source.droppableId === droppableId;\n    var draggingOverWith = isDraggingOver ? draggableId : null;\n    var isDraggingFrom = source.droppableId === droppableId;\n    var draggingFromThisWith = isDraggingFrom ? draggableId : null;\n    return _objectSpread(_objectSpread({}, state), {}, {\n      isDraggingOver: isDraggingOver,\n      draggingFromThisWith: draggingFromThisWith,\n      draggingOverWith: draggingOverWith\n    });\n  }\n  if (action.type === 'DRAG_UPDATE') {\n    var _action$payload2 = action.payload,\n      _droppableId = _action$payload2.droppableId,\n      update = _action$payload2.update;\n    var _update$destination = update.destination,\n      destination = _update$destination === void 0 ? null : _update$destination,\n      _draggableId = update.draggableId,\n      _source = update.source;\n    var _isDraggingOver = (destination === null || destination === void 0 ? void 0 : destination.droppableId) === _droppableId;\n    var _draggingOverWith = _isDraggingOver ? _draggableId : null;\n    var _isDraggingFrom = _source.droppableId === _droppableId;\n    var _draggingFromThisWith = _isDraggingFrom ? _draggableId : null;\n    return _objectSpread(_objectSpread({}, state), {}, {\n      isDraggingOver: _isDraggingOver,\n      draggingFromThisWith: _draggingFromThisWith,\n      draggingOverWith: _draggingOverWith\n    });\n  }\n  if (action.type === 'DRAG_CLEAR') {\n    return idleState;\n  }\n  return state;\n}","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { forwardRef, memo, useMemo } from 'react';\nimport { useDragDropContext } from '../drag-drop-context/internal-context';\nimport { useDraggableDimensions } from '../hooks/use-captured-dimensions';\nimport { attributes } from '../utils/attributes';\nexport var Placeholder = /*#__PURE__*/memo( /*#__PURE__*/forwardRef(function Placeholder(_ref, ref) {\n  var styleProp = _ref.style;\n  var dimensions = useDraggableDimensions();\n  var _useDragDropContext = useDragDropContext(),\n    contextId = _useDragDropContext.contextId;\n  var dataAttributes = _defineProperty({}, attributes.placeholder.contextId, contextId);\n  var style = useMemo(function () {\n    if (!dimensions) {\n      return;\n    }\n    var margin = dimensions.margin,\n      rect = dimensions.rect;\n    return _objectSpread({\n      boxSizing: 'border-box',\n      width: rect.width,\n      height: rect.height,\n      margin: margin\n    }, styleProp);\n  }, [dimensions, styleProp]);\n\n  // eslint-disable-next-line @atlaskit/ui-styling-standard/enforce-style-prop -- Ignored via go/DSP-18766\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref,\n    style: style\n  }, dataAttributes));\n}));","import { useEffect } from 'react';\n\n// eslint-disable-next-line import/no-extraneous-dependencies\n\nimport { attachClosestEdge } from '@atlaskit/pragmatic-drag-and-drop-hitbox/closest-edge';\nimport { dropTargetForElements } from '@atlaskit/pragmatic-drag-and-drop/element/adapter';\nimport { rbdInvariant } from '../drag-drop-context/rbd-invariant';\nimport { isDraggableData } from '../draggable/data';\nexport function useDropTargetForDraggable(_ref) {\n  var elementRef = _ref.elementRef,\n    data = _ref.data,\n    direction = _ref.direction,\n    contextId = _ref.contextId,\n    isDropDisabled = _ref.isDropDisabled,\n    type = _ref.type;\n  useEffect(function () {\n    var element = elementRef.current;\n    rbdInvariant(element instanceof HTMLElement);\n    return dropTargetForElements({\n      element: element,\n      getIsSticky: function getIsSticky() {\n        return true;\n      },\n      canDrop: function canDrop(_ref2) {\n        var source = _ref2.source;\n        if (!isDraggableData(source.data)) {\n          // not dragging something from the migration layer\n          // we should not allow dropping\n          return false;\n        }\n        if (isDropDisabled) {\n          return false;\n        }\n        return source.data.type === type && source.data.contextId === contextId;\n      },\n      getData: function getData(_ref3) {\n        var input = _ref3.input;\n        return attachClosestEdge(data, {\n          element: element,\n          input: input,\n          allowedEdges: direction === 'vertical' ? ['top', 'bottom'] : ['left', 'right']\n        });\n      }\n    });\n  }, [data, direction, contextId, isDropDisabled, type, elementRef]);\n}","import React, { useCallback, useMemo, useRef } from 'react';\n\n// eslint-disable-next-line import/no-extraneous-dependencies\n\nimport { useDragDropContext } from '../drag-drop-context/internal-context';\nimport { rbdInvariant } from '../drag-drop-context/rbd-invariant';\nimport { useDraggableData } from '../draggable/data';\nimport { Placeholder } from '../draggable/placeholder';\nimport { useDropTargetForDraggable } from '../hooks/use-drop-target-for-draggable';\n\n/**\n * The virtual placeholder exists specifically for virtual lists,\n * to ensure that the injected placeholder is correctly positioned.\n *\n * Standard placeholders are rendered as siblings, and do not need explicit\n * positioning.\n *\n * Because virtual placeholders are injected through a portal, they need to be\n * absolutely positioned so that they cover the gap left by the dragging item.\n *\n * This placeholder is important because it acts as the drop target for the\n * dragging item.\n */\nexport function VirtualPlaceholder(_ref) {\n  var draggableId = _ref.draggableId,\n    droppableId = _ref.droppableId,\n    type = _ref.type,\n    direction = _ref.direction,\n    isDropDisabled = _ref.isDropDisabled;\n  var ref = useRef(null);\n  var _useDragDropContext = useDragDropContext(),\n    contextId = _useDragDropContext.contextId,\n    getDragState = _useDragDropContext.getDragState;\n  var dragState = getDragState();\n  rbdInvariant(dragState.isDragging, 'The virtual placeholder should only be rendered during a drag');\n  var getIndex = useCallback(function () {\n    return dragState.sourceLocation.index;\n  }, [dragState.sourceLocation.index]);\n  var data = useDraggableData({\n    draggableId: draggableId,\n    droppableId: droppableId,\n    getIndex: getIndex,\n    contextId: contextId,\n    type: type\n  });\n\n  /**\n   * This sets up the drop target for the dragging item.\n   */\n  useDropTargetForDraggable({\n    elementRef: ref,\n    data: data,\n    direction: direction,\n    contextId: contextId,\n    isDropDisabled: isDropDisabled,\n    type: type\n  });\n  var style = useMemo(function () {\n    return {\n      position: 'absolute',\n      top: dragState.draggableInitialOffsetInSourceDroppable.top,\n      left: dragState.draggableInitialOffsetInSourceDroppable.left,\n      margin: 0\n    };\n  }, [dragState.draggableInitialOffsetInSourceDroppable.left, dragState.draggableInitialOffsetInSourceDroppable.top]);\n\n  // eslint-disable-next-line @atlaskit/ui-styling-standard/enforce-style-prop -- Ignored via go/DSP-18766\n  return /*#__PURE__*/React.createElement(Placeholder, {\n    ref: ref,\n    style: style\n  });\n}","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport React, { useCallback, useEffect, useMemo, useReducer, useRef } from 'react';\n\n// eslint-disable-next-line import/no-extraneous-dependencies\n\nimport { createPortal } from 'react-dom';\nimport invariant from 'tiny-invariant';\nimport { attachClosestEdge } from '@atlaskit/pragmatic-drag-and-drop-hitbox/closest-edge';\nimport { combine } from '@atlaskit/pragmatic-drag-and-drop/combine';\nimport { dropTargetForElements } from '@atlaskit/pragmatic-drag-and-drop/element/adapter';\nimport { useDragDropContext } from '../drag-drop-context/internal-context';\nimport { useMonitorForLifecycle } from '../drag-drop-context/lifecycle-context';\nimport { isDraggableData } from '../draggable/data';\nimport { useLayoutEffect } from '../hooks/use-isomorphic-layout-effect';\nimport { attributes, customAttributes, setAttributes } from '../utils/attributes';\nimport { useStable } from '../utils/use-stable';\nimport { useDroppableData } from './data';\nimport { DraggableClone } from './draggable-clone';\nimport { DropIndicator } from './drop-indicator';\nimport { DroppableContextProvider, useParentDroppableId } from './droppable-context';\nimport { idleState, reducer } from './state';\nimport { VirtualPlaceholder } from './virtual-placeholder';\nexport function Droppable(_ref) {\n  var children = _ref.children,\n    droppableId = _ref.droppableId,\n    _ref$type = _ref.type,\n    type = _ref$type === void 0 ? 'DEFAULT' : _ref$type,\n    _ref$direction = _ref.direction,\n    direction = _ref$direction === void 0 ? 'vertical' : _ref$direction,\n    _ref$mode = _ref.mode,\n    mode = _ref$mode === void 0 ? 'standard' : _ref$mode,\n    renderClone = _ref.renderClone,\n    getContainerForClone = _ref.getContainerForClone,\n    _ref$isDropDisabled = _ref.isDropDisabled,\n    isDropDisabled = _ref$isDropDisabled === void 0 ? false : _ref$isDropDisabled;\n  var getIsDropDisabled = useStable(isDropDisabled);\n  var _useDragDropContext = useDragDropContext(),\n    contextId = _useDragDropContext.contextId,\n    droppableRegistry = _useDragDropContext.droppableRegistry;\n  var data = useDroppableData({\n    contextId: contextId,\n    droppableId: droppableId,\n    getIsDropDisabled: getIsDropDisabled\n  });\n  var elementRef = useRef(null);\n  var setElement = useCallback(function (element) {\n    if (element) {\n      setAttributes(element, _defineProperty(_defineProperty(_defineProperty(_defineProperty({}, customAttributes.droppable.type, type), customAttributes.droppable.direction, direction), attributes.droppable.id, droppableId), attributes.droppable.contextId, contextId));\n    }\n    elementRef.current = element;\n  }, [contextId, direction, droppableId, type]);\n  var _useReducer = useReducer(reducer, idleState),\n    _useReducer2 = _slicedToArray(_useReducer, 2),\n    state = _useReducer2[0],\n    dispatch = _useReducer2[1];\n  var draggingFromThisWith = state.draggingFromThisWith,\n    draggingOverWith = state.draggingOverWith,\n    isDraggingOver = state.isDraggingOver;\n  var parentDroppableId = useParentDroppableId();\n  useEffect(function () {\n    var element = elementRef.current;\n    invariant(element instanceof HTMLElement, 'innerRef must provide an `HTMLElement`');\n    return combine(droppableRegistry.register({\n      droppableId: droppableId,\n      type: type,\n      isDropDisabled: isDropDisabled,\n      parentDroppableId: parentDroppableId,\n      element: element,\n      direction: direction,\n      mode: mode\n    }), dropTargetForElements({\n      element: element,\n      getData: function getData(_ref2) {\n        var input = _ref2.input;\n        return attachClosestEdge(data, {\n          element: element,\n          input: input,\n          allowedEdges: direction === 'vertical' ? ['top', 'bottom'] : ['left', 'right']\n        });\n      },\n      canDrop: function canDrop(_ref3) {\n        var source = _ref3.source;\n        if (!isDraggableData(source.data)) {\n          // not dragging something from the migration layer\n          // we should not allow dropping\n          return false;\n        }\n        if (isDropDisabled) {\n          return false;\n        }\n        return source.data.contextId === contextId && source.data.type === type;\n      },\n      onDragLeave: function onDragLeave() {\n        dispatch({\n          type: 'DRAG_CLEAR'\n        });\n      }\n    }));\n  }, [data, droppableId, contextId, isDropDisabled, type, droppableRegistry, parentDroppableId, direction, mode]);\n  var monitorForLifecycle = useMonitorForLifecycle();\n  useEffect(function () {\n    function isEventRelevant(data) {\n      var _data$destination;\n      /**\n       * If the draggable is of a different type to this droppable,\n       * then we can ignore it.\n       */\n      var isSameType = data.type === type;\n      var isOverAfterUpdate = ((_data$destination = data.destination) === null || _data$destination === void 0 ? void 0 : _data$destination.droppableId) === droppableId;\n      var isDragEnter = !isDraggingOver && isOverAfterUpdate;\n      var isDragLeave = isDraggingOver && !isOverAfterUpdate;\n      /**\n       * A droppable will only have a meaningful state update if the user is entering or exiting it.\n       */\n      var isDragEnterOrLeave = isDragEnter || isDragLeave;\n      return isSameType && isDragEnterOrLeave;\n    }\n    return monitorForLifecycle({\n      onPendingDragStart: function onPendingDragStart(_ref4) {\n        var start = _ref4.start;\n        if (!isEventRelevant({\n          destination: start.source,\n          type: start.type\n        })) {\n          return;\n        }\n        dispatch({\n          type: 'DRAG_START',\n          payload: {\n            droppableId: droppableId,\n            start: start\n          }\n        });\n      },\n      onPendingDragUpdate: function onPendingDragUpdate(_ref5) {\n        var update = _ref5.update;\n        if (!isEventRelevant(update)) {\n          return;\n        }\n        dispatch({\n          type: 'DRAG_UPDATE',\n          payload: {\n            droppableId: droppableId,\n            update: update\n          }\n        });\n      },\n      onBeforeDragEnd: function onBeforeDragEnd() {\n        /**\n         * This is safe to call optimistically as it uses a stable idle state.\n         *\n         * If the droppable is already idle, it will not rerender.\n         */\n        dispatch({\n          type: 'DRAG_CLEAR'\n        });\n      }\n    });\n  }, [droppableId, isDraggingOver, monitorForLifecycle, type]);\n  var dropIndicator = useMemo(function () {\n    if (!isDraggingOver) {\n      return null;\n    }\n    return /*#__PURE__*/React.createElement(DropIndicator, {\n      direction: direction,\n      mode: mode\n    });\n  }, [direction, isDraggingOver, mode]);\n  var provided = useMemo(function () {\n    return {\n      innerRef: setElement,\n      droppableProps: _defineProperty(_defineProperty({}, attributes.droppable.contextId, contextId), attributes.droppable.id, droppableId),\n      /**\n       * We only provide a drop indicator as the placeholder for\n       * non-virtual lists. Otherwise it is portalled in.\n       */\n      placeholder: mode === 'standard' ? dropIndicator : null\n    };\n  }, [contextId, dropIndicator, droppableId, mode, setElement]);\n  var snapshot = useMemo(function () {\n    return {\n      draggingFromThisWith: draggingFromThisWith,\n      draggingOverWith: draggingOverWith,\n      isDraggingOver: isDraggingOver,\n      isUsingPlaceholder: isDraggingOver\n    };\n  }, [draggingFromThisWith, draggingOverWith, isDraggingOver]);\n  var element = elementRef.current;\n  var shouldPortalDropIndicator = isDraggingOver && mode === 'virtual' && element;\n\n  /**\n   * Assumes that the ref points to the scroll container.\n   */\n  useLayoutEffect(function () {\n    if (!shouldPortalDropIndicator) {\n      return;\n    }\n    var _window$getComputedSt = window.getComputedStyle(element),\n      position = _window$getComputedSt.position;\n    if (position !== 'static') {\n      return;\n    }\n    var prevStyle = element.style.position;\n    element.style.position = 'relative';\n    return function () {\n      element.style.position = prevStyle;\n    };\n  }, [element, shouldPortalDropIndicator]);\n\n  /**\n   * Used to disable the dragging style for the real draggable.\n   */\n  var shouldRenderCloneWhileDragging = Boolean(renderClone);\n  var contextValue = useMemo(function () {\n    return {\n      direction: direction,\n      droppableId: droppableId,\n      shouldRenderCloneWhileDragging: shouldRenderCloneWhileDragging,\n      isDropDisabled: isDropDisabled,\n      type: type,\n      mode: mode\n    };\n  }, [direction, droppableId, shouldRenderCloneWhileDragging, isDropDisabled, type, mode]);\n\n  /**\n   * For virtual lists we portal a placeholder in when dragging from the list.\n   *\n   * This is because `<Draggable />`'s can be unmounted at any time, so we\n   * cannot rely on rendering the placeholder as a sibling.\n   */\n  var shouldPortalPlaceholder = draggingFromThisWith && mode === 'virtual' && element;\n  return /*#__PURE__*/React.createElement(DroppableContextProvider, {\n    value: contextValue\n  }, children(provided, snapshot), shouldPortalDropIndicator && /*#__PURE__*/createPortal(dropIndicator, element), shouldPortalPlaceholder && /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(VirtualPlaceholder, {\n    droppableId: droppableId,\n    draggableId: draggingFromThisWith,\n    type: type,\n    direction: direction,\n    isDropDisabled: isDropDisabled\n  }), element), renderClone && /*#__PURE__*/React.createElement(DraggableClone, {\n    droppableId: droppableId,\n    type: type,\n    getContainerForClone: getContainerForClone\n  }, renderClone));\n}","// In order to disable the native drag preview you can\n// use `event.dataTransfer.setDragImage()` to set a small\n// invisible image as the drag preview.\n// There are alternative techniques,\n// (eg setting opacity to in onGenerateDragPreview and then 1 in onDragStart)\n// but the technique in this file worked best across browsers and platforms\n\n// Here we are preloading the image so that it is ready for the first drag.\n// Even though the image is base64 encoded, the browser queues an async task\n// to decode the image. The image needs to be decoded before it can be used\nvar tinyTransparentImage = function () {\n  // SSR safe\n  if (typeof window === 'undefined') {\n    return null;\n  }\n\n  // Image generated by: https://png-pixel.com/\n  // It is a 1x1 transparent gif\n  // It is the smallest possible transparent image we could find that works on all platforms\n  // Note: using an encoded SVG would be nicer code, but it doesn't work on iOS\n  var img = new Image();\n  img.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==';\n  return img;\n}();\nexport function disableNativeDragPreview(_ref) {\n  var nativeSetDragImage = _ref.nativeSetDragImage;\n  if (nativeSetDragImage && tinyTransparentImage) {\n    nativeSetDragImage(tinyTransparentImage, 0, 0);\n  }\n}","/**\n * This file is ported almost exactly from `react-beautiful-dnd`.\n *\n * In `react-beautiful-dnd` it is relevant to all drags,\n * but in the migration layer it is only relevant to keyboard drags.\n *\n * This is because now the browser is responsible for determining when a\n * pointer drag can occur.\n */\n\nexport var interactiveTagNames = {\n  input: true,\n  button: true,\n  textarea: true,\n  select: true,\n  option: true,\n  optgroup: true,\n  video: true,\n  audio: true\n};\nexport function isAnInteractiveElement(parent, current) {\n  if (current == null) {\n    return false;\n  }\n\n  // Most interactive elements cannot have children. However, some can such as 'button'.\n  // See 'Permitted content' on https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button\n  // Rather than having two different functions we can consolidate our checks into this single\n  // function to keep things simple.\n  // There is no harm checking if the parent has an interactive tag name even if it cannot have\n  // any children. We need to perform this loop anyway to check for the contenteditable attribute\n  var hasAnInteractiveTag = Boolean(interactiveTagNames[current.tagName.toLowerCase()]);\n  if (hasAnInteractiveTag) {\n    return true;\n  }\n\n  // contenteditable=\"true\" or contenteditable=\"\" are valid ways\n  // of creating a contenteditable container\n  // https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/contenteditable\n  var attribute = current.getAttribute('contenteditable');\n  if (attribute === 'true' || attribute === '') {\n    return true;\n  }\n\n  // nothing more can be done and no results found\n  if (current === parent) {\n    return false;\n  }\n\n  // recursion to check parent\n  return isAnInteractiveElement(parent, current.parentElement);\n}\nexport default function isEventInInteractiveElement(draggable, event) {\n  var target = event.target;\n  if (!(target instanceof HTMLElement)) {\n    return false;\n  }\n  return isAnInteractiveElement(draggable, target);\n}","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport React, { useCallback, useEffect, useMemo, useReducer, useRef } from 'react';\nimport { bindAll } from 'bind-event-listener';\n// eslint-disable-next-line import/no-extraneous-dependencies\n\nimport invariant from 'tiny-invariant';\nimport { combine } from '@atlaskit/pragmatic-drag-and-drop/combine';\nimport { draggable, monitorForElements } from '@atlaskit/pragmatic-drag-and-drop/element/adapter';\nimport { disableNativeDragPreview } from '@atlaskit/pragmatic-drag-and-drop/element/disable-native-drag-preview';\nimport { getElementFromPointWithoutHoneypot } from '@atlaskit/pragmatic-drag-and-drop/private/get-element-from-point-without-honey-pot';\nimport { getHiddenTextElementId } from '../drag-drop-context/hooks/use-hidden-text-element';\nimport { useDragDropContext } from '../drag-drop-context/internal-context';\nimport { useMonitorForLifecycle } from '../drag-drop-context/lifecycle-context';\nimport { rbdInvariant } from '../drag-drop-context/rbd-invariant';\nimport { useDroppableContext } from '../droppable/droppable-context';\nimport { useDraggableDimensions } from '../hooks/use-captured-dimensions';\nimport { useCleanupFn } from '../hooks/use-cleanup-fn';\nimport { useDropTargetForDraggable } from '../hooks/use-drop-target-for-draggable';\nimport { useKeyboardContext } from '../hooks/use-keyboard-context';\nimport { attributes, customAttributes, setAttributes } from '../utils/attributes';\nimport { findDragHandle } from '../utils/find-drag-handle';\nimport { findDropIndicator } from '../utils/find-drop-indicator';\nimport { findPlaceholder } from '../utils/find-placeholder';\nimport { useStable } from '../utils/use-stable';\nimport { isDraggableData, useDraggableData } from './data';\nimport { getDraggableProvidedStyle } from './get-draggable-provided-style';\nimport isEventInInteractiveElement, { isAnInteractiveElement } from './is-event-in-interactive-element';\nimport { Placeholder } from './placeholder';\nimport { idleState, reducer } from './state';\nimport { useDraggableStateSnapshot } from './use-draggable-state-snapshot';\nvar noop = function noop() {};\nexport function Draggable(_ref) {\n  var children = _ref.children,\n    draggableId = _ref.draggableId,\n    index = _ref.index,\n    _ref$isDragDisabled = _ref.isDragDisabled,\n    isDragDisabled = _ref$isDragDisabled === void 0 ? false : _ref$isDragDisabled,\n    _ref$disableInteracti = _ref.disableInteractiveElementBlocking,\n    disableInteractiveElementBlocking = _ref$disableInteracti === void 0 ? false : _ref$disableInteracti;\n  var _useDroppableContext = useDroppableContext(),\n    direction = _useDroppableContext.direction,\n    droppableId = _useDroppableContext.droppableId,\n    type = _useDroppableContext.type,\n    mode = _useDroppableContext.mode;\n  var _useDragDropContext = useDragDropContext(),\n    contextId = _useDragDropContext.contextId,\n    getDragState = _useDragDropContext.getDragState;\n  var elementRef = useRef(null);\n  var dragHandleRef = useRef(null);\n  var _useCleanupFn = useCleanupFn(),\n    setCleanupFn = _useCleanupFn.setCleanupFn,\n    runCleanupFn = _useCleanupFn.runCleanupFn;\n  var setElement = useCallback(function (element) {\n    if (elementRef.current) {\n      /**\n       * Call the `setAttribute` clean up if the element changes\n       */\n      runCleanupFn();\n    }\n    if (element) {\n      /**\n       * The migration layer attaches some additional data attributes.\n       *\n       * These are required for querying elements in the DOM.\n       *\n       * These are not applied through render props, to avoid changing the type\n       * interface of the migration layer.\n       */\n      var cleanupFn = setAttributes(element, _defineProperty(_defineProperty({}, customAttributes.draggable.droppableId, droppableId), customAttributes.draggable.index, String(index)));\n      setCleanupFn(cleanupFn);\n    }\n    elementRef.current = element;\n    dragHandleRef.current = findDragHandle({\n      contextId: contextId,\n      draggableId: draggableId\n    });\n  }, [contextId, draggableId, droppableId, index, runCleanupFn, setCleanupFn]);\n  var getIndex = useStable(index);\n  var _useReducer = useReducer(reducer, idleState),\n    _useReducer2 = _slicedToArray(_useReducer, 2),\n    state = _useReducer2[0],\n    dispatch = _useReducer2[1];\n  var data = useDraggableData({\n    draggableId: draggableId,\n    droppableId: droppableId,\n    getIndex: getIndex,\n    contextId: contextId,\n    type: type\n  });\n  var isDragging = state.type === 'dragging';\n  var isHiding = state.type === 'hiding';\n  var _useDroppableContext2 = useDroppableContext(),\n    shouldRenderCloneWhileDragging = _useDroppableContext2.shouldRenderCloneWhileDragging,\n    isDropDisabled = _useDroppableContext2.isDropDisabled;\n  var monitorForLifecycle = useMonitorForLifecycle();\n  var _useKeyboardContext = useKeyboardContext(),\n    startKeyboardDrag = _useKeyboardContext.startKeyboardDrag;\n\n  /**\n   * Binds the `keydown` listener to the drag handle which handles starting\n   * keyboard drags.\n   */\n  useEffect(function () {\n    if (state.type !== 'idle') {\n      return;\n    }\n    if (isDragDisabled) {\n      return;\n    }\n    var element = elementRef.current;\n    invariant(element instanceof HTMLElement);\n    var dragHandle = dragHandleRef.current;\n    invariant(dragHandle instanceof HTMLElement);\n    return bindAll(dragHandle, [{\n      type: 'keydown',\n      listener: function listener(event) {\n        if (event.key === ' ') {\n          if (event.defaultPrevented) {\n            return;\n          }\n          if (!disableInteractiveElementBlocking && isEventInInteractiveElement(element, event)) {\n            return;\n          }\n\n          // Only prevent default if we are consuming it\n          event.preventDefault();\n          startKeyboardDrag({\n            event: event,\n            draggableId: draggableId,\n            type: type,\n            getSourceLocation: function getSourceLocation() {\n              return {\n                droppableId: droppableId,\n                index: getIndex()\n              };\n            },\n            sourceElement: element\n          });\n        }\n      }\n    }]);\n  }, [disableInteractiveElementBlocking, draggableId, droppableId, getIndex, isDragDisabled, startKeyboardDrag, state.type, type]);\n\n  /**\n   * Sets up the pdnd draggable.\n   */\n  useEffect(function () {\n    if (isHiding) {\n      /**\n       * If we render a clone, then we need to unmount the original element.\n       *\n       * Because of this, `elementRef.current` will become `null` and we will\n       * no longer have a valid `element` reference.\n       *\n       * In this case, not having a valid `element` is expected,\n       * instead of being an error.\n       */\n      return;\n    }\n    if (isDragDisabled) {\n      return;\n    }\n    var element = elementRef.current;\n    rbdInvariant(element instanceof HTMLElement);\n    var dragHandle = dragHandleRef.current;\n    rbdInvariant(dragHandle instanceof HTMLElement);\n    return draggable({\n      canDrag: function canDrag(_ref2) {\n        var input = _ref2.input;\n        /**\n         * Do not start a drag if any modifier key is pressed.\n         * This matches the behavior of `react-beautiful-dnd`.\n         */\n        if (input.ctrlKey || input.metaKey || input.shiftKey || input.altKey) {\n          return false;\n        }\n\n        /**\n         * To align with `react-beautiful-dnd` we are blocking drags\n         * on interactive elements, unless the `disableInteractiveElementBlocking`\n         * prop is provided.\n         */\n        if (!disableInteractiveElementBlocking) {\n          var elementUnderPointer = getElementFromPointWithoutHoneypot({\n            x: input.clientX,\n            y: input.clientY\n          });\n          return !isAnInteractiveElement(dragHandle, elementUnderPointer);\n        }\n        return !isDragging;\n      },\n      element: element,\n      dragHandle: dragHandle,\n      getInitialData: function getInitialData() {\n        return data;\n      },\n      onGenerateDragPreview: disableNativeDragPreview\n    });\n  }, [data, disableInteractiveElementBlocking, isDragDisabled, isDragging, isHiding]);\n  var hasPlaceholder = state.type !== 'idle' && mode === 'standard';\n  var placeholderRef = useRef(null);\n  useDropTargetForDraggable({\n    /**\n     * Swapping the drop target to the placeholder is important\n     * to ensure that hovering over where the item was won't result in a\n     * drop at the end of the list.\n     */\n    elementRef: hasPlaceholder ? placeholderRef : elementRef,\n    data: data,\n    direction: direction,\n    contextId: contextId,\n    isDropDisabled: isDropDisabled,\n    type: type\n  });\n  var isMountedRef = useRef(true);\n  useEffect(function () {\n    /**\n     * React 18 strict mode will re-run effects in development mode.\n     * https://react.dev/reference/react/StrictMode#fixing-bugs-found-by-re-running-effects-in-development\n     *\n     * Setting the ref value to `true` again in the effect to avoid the value staying `false` incorrectly after\n     * the first cleanup.\n     */\n    isMountedRef.current = true;\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []);\n\n  /**\n   * If the draggable (re)mounts while it is being dragged (via a clone),\n   * then it should hide itself.\n   */\n  useEffect(function () {\n    var dragState = getDragState();\n\n    /**\n     * If the draggable is not using a clone, then it doesn't need to be hidden.\n     */\n    if (!shouldRenderCloneWhileDragging) {\n      return;\n    }\n\n    /**\n     * If there is no ongoing drag, then it doesn't need to be hidden.\n     */\n    if (!dragState.isDragging) {\n      return;\n    }\n\n    /**\n     * Only the draggable being dragged (via a clone) needs to be hidden.\n     */\n    if (dragState.draggableId !== data.draggableId) {\n      return;\n    }\n    dispatch({\n      type: 'START_HIDING',\n      payload: {\n        mode: dragState.mode\n      }\n    });\n  }, [data.draggableId, getDragState, shouldRenderCloneWhileDragging]);\n  var draggableDimensions = useDraggableDimensions();\n  useEffect(function () {\n    /**\n     * If the draggable should render a clone while dragging,\n     * then it doesn't need to track any state, and it should be hidden.\n     */\n    if (shouldRenderCloneWhileDragging) {\n      return monitorForLifecycle({\n        onPendingDragStart: function onPendingDragStart(_ref3) {\n          var start = _ref3.start;\n          if (data.draggableId !== start.draggableId) {\n            return;\n          }\n          dispatch({\n            type: 'START_HIDING',\n            payload: {\n              mode: start.mode\n            }\n          });\n        },\n        onBeforeDragEnd: function onBeforeDragEnd(_ref4) {\n          var draggableId = _ref4.draggableId;\n          if (draggableId !== data.draggableId) {\n            return;\n          }\n          dispatch({\n            type: 'STOP_HIDING'\n          });\n        }\n      });\n    }\n\n    /**\n     * Drag events need to be monitored independently because the original\n     * element can be unmounted for two (valid) reasons.\n     *\n     * The original element can be unmounted during the drag for two reasons:\n     *\n     * 1. A `renderClone` method has been provided to the containing\n     *    `<Droppable />` element. In this case the element is unmounted so\n     *    that it is not visible while the clone is.\n     *\n     * 2. The user portals the element while it is being dragged. This would\n     *    result in the original `HTMLElement` being unmounted.\n     */\n    return combine(monitorForLifecycle({\n      onPendingDragStart: function onPendingDragStart(_ref5) {\n        var start = _ref5.start,\n          droppable = _ref5.droppable;\n        if (data.draggableId !== start.draggableId) {\n          return;\n        }\n        if (start.mode === 'FLUID') {\n          return dispatch({\n            type: 'START_POINTER_DRAG',\n            payload: {\n              start: start\n            }\n          });\n        }\n        if (start.mode === 'SNAP') {\n          var dragState = getDragState();\n          rbdInvariant(dragState.isDragging && dragState.draggableDimensions);\n          return dispatch({\n            type: 'START_KEYBOARD_DRAG',\n            payload: {\n              start: start,\n              draggableDimensions: dragState.draggableDimensions,\n              droppable: droppable\n            }\n          });\n        }\n      },\n      onPendingDragUpdate: function onPendingDragUpdate(_ref6) {\n        var update = _ref6.update,\n          droppable = _ref6.droppable;\n        if (data.draggableId !== update.draggableId) {\n          return;\n        }\n        dispatch({\n          type: 'UPDATE_DRAG',\n          payload: {\n            update: update\n          }\n        });\n        if (update.mode === 'SNAP') {\n          /**\n           * Updating the position in a microtask to resolve timing issues.\n           *\n           * When doing cross-axis dragging, the drop indicator in the new\n           * droppable will mount and update in a `onPendingDragUpdate` too.\n           *\n           * The microtask ensures that the indicator will have updated by\n           * the time this runs, so the preview will have the correct\n           * location of the indicator.\n           */\n          queueMicrotask(function () {\n            /**\n             * Because this update occurs in a microtask, we need to check\n             * that the drag is still happening.\n             *\n             * If it has ended we should not try to update the preview.\n             */\n            var dragState = getDragState();\n            if (!dragState.isDragging) {\n              return;\n            }\n\n            /**\n             * The placeholder might not exist if its associated\n             * draggable unmounts in a virtual list.\n             */\n            var placeholder = findPlaceholder(contextId);\n            var placeholderRect = placeholder ? placeholder.getBoundingClientRect() : null;\n\n            /**\n             * The drop indicator might not exist if the current target\n             * is null\n             */\n            var dropIndicator = findDropIndicator();\n            var dropIndicatorRect = dropIndicator ? dropIndicator.getBoundingClientRect() : null;\n            dispatch({\n              type: 'UPDATE_KEYBOARD_PREVIEW',\n              payload: {\n                update: update,\n                draggableDimensions: draggableDimensions,\n                droppable: droppable,\n                placeholderRect: placeholderRect,\n                dropIndicatorRect: dropIndicatorRect\n              }\n            });\n          });\n        }\n      },\n      onBeforeDragEnd: function onBeforeDragEnd(_ref7) {\n        var draggableId = _ref7.draggableId;\n        if (draggableId !== data.draggableId) {\n          return;\n        }\n        rbdInvariant(isMountedRef.current, 'isMounted onBeforeDragEnd');\n        dispatch({\n          type: 'DROP'\n        });\n      }\n    }), monitorForElements({\n      canMonitor: function canMonitor(_ref8) {\n        var source = _ref8.source;\n        if (!isDraggableData(source.data)) {\n          // not dragging something from the migration layer\n          // we should not monitor it\n          return false;\n        }\n        return source.data.contextId === data.contextId && source.data.draggableId === data.draggableId;\n      },\n      onDrag: function onDrag(_ref9) {\n        var location = _ref9.location;\n        dispatch({\n          type: 'UPDATE_POINTER_PREVIEW',\n          payload: {\n            pointerLocation: location\n          }\n        });\n      }\n    }));\n  }, [data.draggableId, data.contextId, monitorForLifecycle, shouldRenderCloneWhileDragging, direction, contextId, draggableDimensions, getDragState]);\n  var provided = useMemo(function () {\n    return {\n      draggableProps: _defineProperty(_defineProperty(_defineProperty({}, attributes.draggable.contextId, contextId), attributes.draggable.id, draggableId), \"style\", getDraggableProvidedStyle({\n        draggableDimensions: draggableDimensions,\n        draggableState: state\n      })),\n      dragHandleProps: _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({\n        role: 'button',\n        'aria-describedby': getHiddenTextElementId(contextId)\n      }, attributes.dragHandle.contextId, contextId), attributes.dragHandle.draggableId, draggableId), \"tabIndex\", 0), \"draggable\", false), \"onDragStart\", noop),\n      innerRef: setElement\n    };\n  }, [contextId, draggableId, draggableDimensions, state, setElement]);\n  var snapshot = useDraggableStateSnapshot({\n    draggingOver: state.draggingOver,\n    isClone: false,\n    isDragging: isDragging,\n    mode: isDragging ? state.mode : null\n  });\n  var rubric = useMemo(function () {\n    return {\n      draggableId: draggableId,\n      type: type,\n      source: {\n        droppableId: droppableId,\n        index: index\n      }\n    };\n  }, [draggableId, droppableId, index, type]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, isHiding ? null : children(provided, snapshot, rubric), hasPlaceholder && /*#__PURE__*/React.createElement(Placeholder, {\n    ref: placeholderRef\n  }));\n}","import { useDragDropContext } from '../drag-drop-context/internal-context';\nexport function useKeyboardContext() {\n  var _useDragDropContext = useDragDropContext(),\n    startKeyboardDrag = _useDragDropContext.startKeyboardDrag;\n  return {\n    startKeyboardDrag: startKeyboardDrag\n  };\n}","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"isRanking\", \"isRankingItem\", \"testId\"];\n/**\n * @jsxRuntime classic\n * @jsx jsx\n */\nimport { forwardRef } from 'react';\n\n// eslint-disable-next-line @atlaskit/ui-styling-standard/use-compiled -- Ignored via go/DSP-18766\nimport { css, jsx } from '@emotion/react';\nimport { B100, N20, N50A, N60A } from '@atlaskit/theme/colors';\nimport { TableBodyRow } from '../table-row';\nvar rankingStyles = css({\n  display: 'block'\n});\nvar rankingItemStyles = css({\n  backgroundColor: \"var(--ds-surface-overlay, \".concat(N20, \")\"),\n  borderRadius: \"var(--ds-border-radius-050, 2px)\",\n  boxShadow: \"var(--ds-shadow-overlay, \".concat(\"0 20px 32px -8px \".concat(N50A, \", 0 0 1px \").concat(N60A), \")\")\n});\nvar draggableStyles = css({\n  outlineWidth: \"var(--ds-border-width, 2px)\",\n  '&:focus-visible': {\n    outlineColor: \"var(--ds-border-focused, \".concat(B100, \")\"),\n    outlineStyle: 'solid'\n  }\n});\n\n// eslint-disable-next-line @repo/internal/react/require-jsdoc\nexport var RankableTableBodyRow = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var isRanking = _ref.isRanking,\n    isRankingItem = _ref.isRankingItem,\n    testId = _ref.testId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return jsx(TableBodyRow, _extends({\n    css: [isRanking && rankingStyles, isRankingItem && rankingItemStyles, draggableStyles],\n    ref: ref,\n    testId: testId\n  }, props));\n});","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"isRanking\", \"innerRef\"];\n/**\n * @jsxRuntime classic\n * @jsx jsx\n */\n\n// eslint-disable-next-line @atlaskit/ui-styling-standard/use-compiled -- Ignored via go/DSP-18766\nimport { css, jsx } from '@emotion/react';\nimport { TableBodyCell } from '../table-cell';\nvar rankingStyles = css({\n  boxSizing: 'border-box'\n});\n\n// eslint-disable-next-line @repo/internal/react/require-jsdoc\nexport var RankableTableBodyCell = function RankableTableBodyCell(_ref) {\n  var isRanking = _ref.isRanking,\n    innerRef = _ref.innerRef,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return jsx(TableBodyCell, _extends({\n    css: isRanking && rankingStyles\n    // eslint-disable-next-line @repo/internal/react/no-unsafe-spread-props\n  }, props, {\n    innerRef: innerRef\n  }));\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _excluded = [\"content\", \"testId\"];\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nimport React from 'react';\nimport withDimensions\n// @ts-ignore -- This import is required for default export\nfrom '../../hoc/with-dimensions';\nimport { inlineStylesIfRanking } from '../../internal/helpers';\nimport { RankableTableBodyCell } from '../../styled/rankable/table-cell';\nexport var RankableTableCell = /*#__PURE__*/function (_React$Component) {\n  function RankableTableCell() {\n    _classCallCheck(this, RankableTableCell);\n    return _callSuper(this, RankableTableCell, arguments);\n  }\n  _inherits(RankableTableCell, _React$Component);\n  return _createClass(RankableTableCell, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        cell = _this$props.cell,\n        head = _this$props.head,\n        isFixedSize = _this$props.isFixedSize,\n        isRanking = _this$props.isRanking,\n        refWidth = _this$props.refWidth,\n        innerRef = _this$props.innerRef,\n        testId = _this$props.testId;\n      var content = cell.content,\n        cellTestId = cell.testId,\n        restCellProps = _objectWithoutProperties(cell, _excluded);\n      var _ref = head || {},\n        shouldTruncate = _ref.shouldTruncate,\n        width = _ref.width;\n      var inlineStyles = inlineStylesIfRanking(isRanking, refWidth);\n      return /*#__PURE__*/React.createElement(RankableTableBodyCell, _extends({}, restCellProps, {\n        isFixedSize: isFixedSize,\n        shouldTruncate: shouldTruncate,\n        width: width,\n        isRanking: isRanking\n        // eslint-disable-next-line @atlaskit/ui-styling-standard/enforce-style-prop -- Ignored via go/DSP-18766\n        ,\n        style: inlineStyles,\n        onKeyDown: function onKeyDown(e) {\n          return e.stopPropagation();\n        },\n        innerRef: innerRef,\n        \"data-testid\": cellTestId || testId && \"\".concat(testId, \"--rankable--table--body--cell\")\n      }), content);\n    }\n  }]);\n}(React.Component);\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default withDimensions(RankableTableCell);","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _excluded = [\"cells\", \"testId\", \"key\", \"isHighlighted\"];\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nimport React from 'react';\n\n// Allowing existing usage of non Pragmatic drag and drop solution\n// eslint-disable-next-line @atlaskit/design-system/no-unsupported-drag-and-drop-libraries\nimport { Draggable } from '@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration';\nimport withDimensions\n// @ts-ignore -- This import is required for default export\nfrom '../../hoc/with-dimensions';\nimport { inlineStylesIfRanking } from '../../internal/helpers';\nimport { RankableTableBodyRow } from '../../styled/rankable/table-row';\nimport TableCell from './table-cell';\nvar RankableTableRow = /*#__PURE__*/function (_React$Component) {\n  function RankableTableRow() {\n    var _this;\n    _classCallCheck(this, RankableTableRow);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _callSuper(this, RankableTableRow, [].concat(args));\n    _defineProperty(_this, \"innerRef\", function (innerRefFn) {\n      return function (ref) {\n        innerRefFn(ref);\n        if (typeof _this.props.innerRef === 'function') {\n          _this.props.innerRef(ref);\n        }\n      };\n    });\n    return _this;\n  }\n  _inherits(RankableTableRow, _React$Component);\n  return _createClass(RankableTableRow, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props = this.props,\n        row = _this$props.row,\n        head = _this$props.head,\n        isFixedSize = _this$props.isFixedSize,\n        isRanking = _this$props.isRanking,\n        refWidth = _this$props.refWidth,\n        rowIndex = _this$props.rowIndex,\n        isRankingDisabled = _this$props.isRankingDisabled,\n        isHighlighted = _this$props.isHighlighted,\n        testId = _this$props.testId;\n      var cells = row.cells,\n        rowTestId = row.testId,\n        key = row.key,\n        isRowHighlighted = row.isHighlighted,\n        restRowProps = _objectWithoutProperties(row, _excluded);\n      var inlineStyles = inlineStylesIfRanking(isRanking, refWidth);\n      if (typeof key !== 'string' && !isRankingDisabled) {\n        throw new Error('dynamic-table: ranking is not possible because table row does not have a key. Add the key to the row or disable ranking.');\n      }\n      return /*#__PURE__*/React.createElement(Draggable, {\n        draggableId: key || rowIndex.toString(),\n        index: rowIndex,\n        isDragDisabled: isRankingDisabled\n      }, function (provided, snapshot) {\n        var _provided$dragHandleP;\n        return /*#__PURE__*/React.createElement(RankableTableBodyRow, _extends({}, restRowProps, provided.dragHandleProps, provided.draggableProps, {\n          /**\n           * `provided.dragHandleProps` provides `role=\"button\"` which we don't want to apply to table rows.\n           *\n           * Providing `role=\"button\"` is the RBD 13 behavior which the migration layer emulates.\n           * Previously we used RBD 12 which did not provide a role to the drag handle.\n           */\n          role: undefined\n          // It is necessary to prevent the passing of aria-labelledby\n          ,\n          \"aria-labelledby\": undefined\n          // @ts-ignore: [PIT-1685] Fails in post-office due to backwards incompatibility issue with React 18\n          ,\n          \"aria-describedby\": (_provided$dragHandleP = provided.dragHandleProps) === null || _provided$dragHandleP === void 0 ? void 0 : _provided$dragHandleP['aria-describedby'],\n          ref: _this2.innerRef(provided.innerRef)\n          // eslint-disable-next-line @atlaskit/ui-styling-standard/enforce-style-prop -- Ignored via go/DSP-18766\n          ,\n          style: _objectSpread(_objectSpread({}, provided.draggableProps.style), inlineStyles),\n          isHighlighted: isHighlighted || isRowHighlighted,\n          isRanking: isRanking,\n          isRankingItem: snapshot.isDragging,\n          testId: rowTestId || testId && \"\".concat(testId, \"--rankable--table--body--row\")\n        }), cells.map(function (cell, cellIndex) {\n          var headCell = (head || {\n            cells: []\n          }).cells[cellIndex];\n          return /*#__PURE__*/React.createElement(TableCell, {\n            head: headCell,\n            cell: cell,\n            isRanking: isRanking,\n            key: cell.key || cellIndex,\n            isFixedSize: isFixedSize,\n            testId: testId\n          });\n        }));\n      });\n    }\n  }]);\n}(React.Component); // eslint-disable-next-line import/no-anonymous-default-export\nexport default withDimensions(RankableTableRow);","import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nimport React from 'react';\n\n// Allowing existing usage of non Pragmatic drag and drop solution\n// eslint-disable-next-line @atlaskit/design-system/no-unsupported-drag-and-drop-libraries\nimport { DragDropContext, Droppable } from '@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration';\nimport withSortedPageRows from '../../hoc/with-sorted-page-rows';\nimport TableRow from './table-row';\n// computes destination of ranking\n// - if drag was cancelled returns undefined\n// - if drag was finished, returns new position and after/before key\nvar computeRankDestination = function computeRankDestination(result, pageRows) {\n  var sourceIndex = result.source.index,\n    destination = result.destination;\n  if (destination) {\n    var index = destination.index;\n    var keyIndex = index < sourceIndex ? index - 1 : index;\n    var afterKey = keyIndex !== -1 ? pageRows[keyIndex].key : undefined;\n    var beforeIndex = keyIndex === -1 ? 0 : keyIndex + 1;\n    var beforeKey = beforeIndex < pageRows.length ? pageRows[beforeIndex].key : undefined;\n    return {\n      index: index,\n      afterKey: afterKey,\n      beforeKey: beforeKey\n    };\n  }\n  return undefined;\n};\nexport var RankableBody = /*#__PURE__*/function (_React$Component) {\n  function RankableBody() {\n    var _this;\n    _classCallCheck(this, RankableBody);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _callSuper(this, RankableBody, [].concat(args));\n    _defineProperty(_this, \"onBeforeDragStart\", function (dragStart) {\n      var key = dragStart.draggableId,\n        index = dragStart.source.index;\n      var rankStartProps = {\n        index: index,\n        key: key\n      };\n      _this.props.onRankStart(rankStartProps);\n    });\n    _defineProperty(_this, \"onDragEnd\", function (result) {\n      var _this$props = _this.props,\n        pageRows = _this$props.pageRows,\n        onRankEnd = _this$props.onRankEnd;\n      var sourceKey = result.draggableId,\n        sourceIndex = result.source.index;\n      var destination = computeRankDestination(result, pageRows);\n      var rankEndProps = {\n        sourceIndex: sourceIndex,\n        sourceKey: sourceKey,\n        destination: destination\n      };\n      onRankEnd(rankEndProps);\n    });\n    return _this;\n  }\n  _inherits(RankableBody, _React$Component);\n  return _createClass(RankableBody, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n        highlightedRowIndex = _this$props2.highlightedRowIndex,\n        pageRows = _this$props2.pageRows,\n        head = _this$props2.head,\n        isFixedSize = _this$props2.isFixedSize,\n        isRanking = _this$props2.isRanking,\n        isRankingDisabled = _this$props2.isRankingDisabled,\n        testId = _this$props2.testId,\n        forwardedRef = _this$props2.forwardedRef;\n      return /*#__PURE__*/React.createElement(DragDropContext, {\n        onBeforeDragStart: this.onBeforeDragStart,\n        onDragEnd: this.onDragEnd\n      }, /*#__PURE__*/React.createElement(Droppable, {\n        droppableId: \"dynamic-table-droppable\",\n        isDropDisabled: isRankingDisabled\n      }, function (provided) {\n        return /*#__PURE__*/React.createElement(\"tbody\", _extends({\n          \"data-testid\": testId,\n          ref: function ref(_ref) {\n            if (provided && typeof provided.innerRef === 'function') {\n              provided.innerRef(_ref);\n            }\n            if (forwardedRef) {\n              forwardedRef.current = _ref;\n            }\n          }\n        }, provided.droppableProps), pageRows.map(function (row, rowIndex) {\n          return /*#__PURE__*/React.createElement(TableRow, {\n            head: head,\n            isRanking: isRanking,\n            isFixedSize: isFixedSize,\n            key: row.key,\n            rowIndex: rowIndex,\n            row: row,\n            isRankingDisabled: isRankingDisabled,\n            isHighlighted: !!highlightedRowIndex && (typeof highlightedRowIndex === 'number' ? highlightedRowIndex === rowIndex : highlightedRowIndex.indexOf(rowIndex) > -1),\n            testId: testId && \"\".concat(testId, \"--\").concat(row.key, \"--rankable--table--row\")\n          });\n        }), provided.placeholder);\n      }));\n    }\n  }]);\n}(React.Component);\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default withSortedPageRows( /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(RankableBody, _extends({}, props, {\n    forwardedRef: ref\n  }));\n}));"],"names":["_isNativeReflectConstruct","t","Boolean","prototype","valueOf","call","Reflect","construct","prefix","RbdInvariant","_Error","message","_this","o","e","_classCallCheck","this","_getPrototypeOf","_possibleConstructorReturn","constructor","apply","_inherits","_createClass","key","value","_wrapNativeSuper","Error","rbdInvariant","condition","DragDropContext","createContext","useDragDropContext","useContext","DragDropContextProvider","_ref","children","contextId","getDragState","startKeyboardDrag","droppableRegistry","useMemo","React","Provider","useDraggableDimensions","dragState","isDragging","draggableDimensions","noop","createCleanupManager","cleanupFn","setCleanupFn","newCleanupFn","runCleanupFn","useCleanupFn","_useState","useState","cleanupManager","_slicedToArray","useEffect","attributes","id","draggableId","customAttributes","droppableId","index","direction","type","getAttribute","element","attribute","concat","setAttributes","_i","_Object$entries","Object","entries","length","_Object$entries$_i","setAttribute","_i2","_Object$keys","keys","_key","removeAttribute","getSelector","_len","arguments","fragments","Array","map","CSS","escape","join","findElement","selector","document","querySelector","findElementAll","from","querySelectorAll","getElement","result","findDragHandle","getClosestAbsolutePositionedElement","getComputedStyle","position","parentElement","HTMLElement","getClosestPositionedElement","_getClosestAbsolutePo","mode","cancelPointerDrag","window","dispatchEvent","DragEvent","ownKeys","r","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","getDistanceToEdge","top","rect","client","Math","abs","y","right","x","bottom","left","uniqueKey","Symbol","attachClosestEdge","userData","_entries$sort$0$edge","_entries$sort$","input","allowedEdges","clientX","clientY","getBoundingClientRect","addClosestEdge","edge","sort","a","b","extractClosestEdge","_ref2","privateKey","isDraggableData","data","useDraggableData","getIndex","isDroppableData","_excluded","_excluded2","getDraggableLocationFromDroppableData","_objectWithoutProperties","draggables","findAllDraggables","closestEdge","biggestIndex","reduce","max","draggable","draggableIndex","parseInt","getDraggableLocation","location","dropTargets","target","getDraggableLocationFromDraggableData","isSameLocation","createDroppableRegistry","droppableMap","Map","updateListener","getEntry","_droppableMap$get","get","register","entry","_updateListener","set","delete","setUpdateListener","listener","combine","fns","fn","honeyPotDataAttribute","isHoneyPotElement","Element","hasAttribute","getElementFromPointWithoutHoneypot","_document$elementsFro","elementsFromPoint","_document$elementsFro2","second","getHoneyPotRectFor","point","min","innerWidth","innerHeight","preventGoingForwardsOffScreen","preventGoingBackwardsOffScreen","honeyPotSize","pullBackByHalfHoneyPotSize","floor","floorToClosestPixel","DOMRect","fromRect","width","height","getRectStyles","clientRect","once","cache","args","isFirefox","navigator","userAgent","includes","isSafari","symbols","isLeavingWindow","isEnteringWindow","eventTarget","dragLeave","relatedTarget","hasOwnProperty","isLeavingWindowInSafari","ownerDocument","HTMLIFrameElement","getBindingsForBrokenDrags","onDragEnd","callCount","getInput","event","altKey","button","buttons","ctrlKey","metaKey","shiftKey","pageX","pageY","state","enterCount","isOverWindow","bindAll","resetState","capture","scheduleOnDrag","lastArgs","frameId","wrapperFn","requestAnimationFrame","cancel","cancelAnimationFrame","rafSchd","dragStart","scheduled","schedule","flush","globalState","isActive","canStart","getNativeSetDragImage","dataTransfer","setDragImage","bind","setDropEffectOnEvent","_ref3","_current$","innerMost","current","dropEffect","lifecycle","start","dragType","getDropTargetsOver","initial","_ref4","startedFrom","source","payload","getStartLocation","dispatch","previous","safeDispatch","nativeSetDragImage","eventName","dragUpdate","drag","drop","_ref5","updatedSourcePayload","makeDispatch","unbindEvents","onUpdateEvent","updateState","preventDefault","getDropPayload","finish","_toConsumableArray","next","hasChanged","i","hasHierarchyChanged","nextDropTargets","ledger","typeKey","mount","usageCount","unmount","registerUsage","addAttribute","_createForOfIteratorHelper","iterator","isArray","_arrayLikeToArray","toString","slice","name","test","_unsupportedIterableToArray","_n","F","s","n","done","f","TypeError","u","return","copyReverse","array","reverse","makeDropTarget","defaultDropEffect","registry","WeakMap","dropTargetDataAtt","dropTargetSelector","getActualDropTargets","_args$getData","_args$getData2","_args$getDropEffect","_args$getDropEffect2","_ref2$result","Node","closest","feedback","canDrop","getData","getDropEffect","record","isActiveDueToStickiness","notifyCurrent","_step","_iterator","_entry$eventName","self","err","actions","onGenerateDragPreview","onDrag","onDragStart","onDrop","onDropTargetChange","_step2","isCurrent","Set","visited","_iterator2","_entry$onDropTargetCh","add","_entry$onDragLeave","isOver","has","onDragLeave","_step3","_iterator3","_entry$onDropTargetCh2","_entry$onDragEnter","_record","_args","_entry","onDragEnter","dropTargetForConsumers","addToRegistry","getIsOver","actual","lastCaptureOrdered","actualCaptureOrdered","resultCaptureOrdered","_argsForLast$getIsSti","last","fresh","parent","lastParent","argsForLast","getIsSticky","makeMonitor","dragging","tryAddToActive","monitor","canMonitor","canMonitorArgs","active","_active","_monitor$eventName","_monitor","clear","monitorForConsumers","isAndroid","toLocaleLowerCase","textMediaType","draggableRegistry","honeyPotFix","latestPointerMove","bindEvents","options","getOnPostDispatch","_ref6","_latestPointerMove","createElement","assign","style","backgroundColor","padding","margin","boxSizing","pointerEvents","zIndex","body","appendChild","unbindPointerMove","isWithin","remove","unbindPostDragEvents","cleanup","mountHoneyPot","_finish","_input","makeHoneyPotFix","adapter","dispatchEventToSource","onPostDispatch","monitorAPI","dropTargetAPI","api","dropTarget","makeAdapter","_entry$dragHandle","_entry$getInitialData","_entry$getInitialData2","_entry$dragHandle2","_entry$getInitialData3","_entry$getInitialData4","defaultPrevented","dragHandle","canDrag","over","contains","nativeData","getInitialDataForExternal","setData","types","getInitialData","_draggableRegistry$ge","_draggableRegistry$ge2","dropTargetForElements","monitorForElements","ErrorBoundaryInner","dragController","isDraggingRef","useRef","handleWindowError","useCallback","stopDrag","reason","error","ErrorBoundary","_React$Component","props","getActualDestination","isSameList","isMovingForward","getHiddenTextElementId","findClosestScrollContainer","_getComputedStyle","overflowX","overflowY","getBestCrossAxisDroppable","droppables","getDroppablesOfType","currentIndex","findIndex","candidates","_","isDropDisabled","bestCandidate","at","getElementByDraggableLocation","String","scrollToTop","scrollContainer","scrollTo","moveHandlers","mainAxis","prev","sourceLocation","targetLocation","nextLocation","updateDrag","crossAxis","before","after","commonKeyHandlers","PageUp","PageDown","Home","End","Enter","Tab","keyHandlers","vertical","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","horizontal","isEqual","base","isScroll","isAuto","isEither","overflow","getClosestScrollableElement","el","documentElement","isElementScrollable","getRect","center","origin","point1","point2","smallestSigned","getOverlap","getRemainder","change","targetScroll","overlap","canPartiallyScroll","rawMax","smallestChange","canScrollWindow","viewport","scroll","canScrollScrollable","scrollable","end","size","scrollAxis","startFromPercentage","maxScrollAtPercentage","maxPixelScroll","ease","percentage","pow","durationDampening","stopDampeningAt","accelerateAt","container","axis","startScrollingFrom","config","maxScrollValueAt","getPercentage","startOfRange","endOfRange","range","stopAt","distanceToEdge","thresholds","dragStartTime","shouldUseTimeDampening","percentageFromStartScrollingFrom","ceil","getValueFromDistance","proposedScroll","runTime","Date","now","betweenAccelerateAtAndStopAtPercentage","dampenValueByTime","distanceToEdges","getDistanceThresholds","getValue","clean","getScrollOnAxis","required","doc","scrollHeight","scrollWidth","maxScroll","getMaxScroll","clientWidth","clientHeight","pageXOffset","pageYOffset","getMaxWindowScroll","scrollElement","scrollWindow","behavior","tryScrollWindow","getViewport","windowScrollChange","getScroll","getWindowScrollChange","tryScrollContainer","closestScrollable","scrollPosition","scrollLeft","scrollTop","getScrollable","scrollableScrollChange","getScrollableScrollChange","scrollBy","autoScroller","tryScroll","fakeScrollCallback","latestInput","loop","loopFrameId","_ref$behavior","updateInput","stop","createAutoScroller","acceptDrop","_unbindEvents","preventUnhandled","_window$event","_window$event2","useIsomorphicLayoutEffect","useLayoutEffect","getDragHandleRuleString","styles","concatString","property","getRuleString","cursor","createStyleManager","nonce","head","createStyleEl","textContent","unstable_batchedUpdates","version","startsWith","callback","batchUpdatesForReact16","createLifecycleManager","onPendingDragStart","onPrePendingDragUpdate","onPendingDragUpdate","onBeforeDragEnd","addResponder","responder","_responder","LifecycleContext","LifecycleContextProvider","monitorForLifecycle","responders","cleanupFns","_event","_responder2","useMonitorForLifecycle","node","visuallyHiddenStyles","border","clip","whiteSpace","marginTop","getNode","append","createNode","announce","getPosition","defaultMessage","startPosition","onDragUpdate","destination","endPosition","getProvided","userMessage","provided","getMessage","_userMessage","getDefaultMessage","idleQueue","status","createScheduler","queue","clearTimeout","timeoutId","items","setTimeout","instanceCount","getContextId","getOffset","offsetElement","offsetTop","offsetLeft","_ref$dragHandleUsageI","dragHandleUsageInstructions","onBeforeCapture","onBeforeDragStart","text","display","useHiddenTextElement","useLifecycle","_useScheduler","useScheduler","dragStateRef","useDroppableRegistry","getClosestEnabledDraggableLocation","droppable","parentDroppableId","_ref3$isImmediate","isImmediate","_dragStateRef$current","prevDestination","nextDestination","update","dispatchConsumerLifecycleEvent","_getProvided","startDrag","getSourceLocation","sourceElement","activeElement","dragHandleDraggableId","restoreFocusTo","draggableInitialOffsetInSourceDroppable","_getProvided2","keyboardCleanupManager","_dragStateRef$current2","_getProvided3","focus","updatePointerDrag","find","usePointerControls","_useKeyboardControls","setKeyboardCleanupFn","startEvent","cancelDrag","cancelBindings","_keyHandlers$directio","_keyHandlers$directio2","useKeyboardControls","onDroppableUpdate","_dragState$targetLoca","useStyleMarshal","useStable","ref","notDraggingStyle","transform","undefined","transition","baseDraggingStyle","opacity","getDraggableProvidedStyle","draggableState","previewOffset","translateX","translateY","isAtOrigin","getDraggingStyle","directionMapping","offset","scrollOffset","forwardEdge","idleState","draggingOver","getKeyboardPreviewOffset","_directionMapping$dir","placeholderRect","baseOffset","_directionMapping$dir2","dropIndicatorRect","_directionMapping$dir3","_ref8","reducer","action","_action$payload","pointerLocation","_nextState2","_ref7","_update$destination","updateKeyboardPreview","useDraggableStateSnapshot","isClone","isDropAnimating","dropAnimation","combineWith","combineTargetFor","findDropIndicator","findPlaceholder","getBody","DraggableCloneInner","_ref$getContainerForC","getContainerForClone","focusDragHandle","innerRef","draggableProps","dragHandleProps","role","snapshot","rubric","createPortal","DraggableClone","_useDragDropContext2","_useReducer","useReducer","_useReducer2","queueMicrotask","placeholder","dropIndicator","calculateGap","where","getDroppableId","Number","isInteger","adjacentElement","marginRight","marginBottom","marginLeft","parseFloat","distance","getDistance","measureDraggable","isForwardEdge","gapOffset","gap","getGapOffset","lineThickness","measureDroppable","mainAxisOffset","getDroppableOffset","getIndicatorSizeAndOffset","isInHomeLocation","_element","measurePlaceholder","_element2","baseStyles","css","background","scrollMarginTop","scrollMarginBottom","virtualStyles","directionStyles","dropIndicatorData","DropIndicator","_useDragDropContext","_useState2","dimensions","setDimensions","_useState3","_useState4","isHidden","setIsHidden","updateIndicator","scrollIntoView","block","indicatorOffset","dynamicStyles","getDynamicStyles","isVirtual","jsx","_extends","DroppableContext","DroppableContextProvider","useDroppableContext","draggingFromThisWith","draggingOverWith","isDraggingOver","_action$payload2","_droppableId","_draggableId","_source","_isDraggingOver","_draggingOverWith","_draggingFromThisWith","Placeholder","memo","forwardRef","styleProp","dataAttributes","useDropTargetForDraggable","elementRef","VirtualPlaceholder","Droppable","_ref$type","_ref$direction","_ref$mode","renderClone","_ref$isDropDisabled","getIsDropDisabled","useDroppableData","setElement","parentDroppable","useParentDroppableId","invariant","isEventRelevant","_data$destination","isSameType","isOverAfterUpdate","droppableProps","isUsingPlaceholder","shouldPortalDropIndicator","prevStyle","shouldRenderCloneWhileDragging","contextValue","shouldPortalPlaceholder","tinyTransparentImage","img","Image","src","disableNativeDragPreview","interactiveTagNames","textarea","select","option","optgroup","video","audio","isAnInteractiveElement","tagName","toLowerCase","Draggable","_ref$isDragDisabled","isDragDisabled","_ref$disableInteracti","disableInteractiveElementBlocking","_useDroppableContext","dragHandleRef","_useCleanupFn","isHiding","_useDroppableContext2","isEventInInteractiveElement","elementUnderPointer","hasPlaceholder","placeholderRef","isMountedRef","_ref9","rankingStyles","rankingItemStyles","N20","borderRadius","boxShadow","N50A","N60A","draggableStyles","outlineWidth","outlineColor","B100","outlineStyle","RankableTableBodyRow","isRanking","isRankingItem","testId","TableBodyRow","RankableTableBodyCell","TableBodyCell","RankableTableCell","_this$props","cell","isFixedSize","refWidth","content","cellTestId","restCellProps","shouldTruncate","inlineStyles","inlineStylesIfRanking","onKeyDown","stopPropagation","withDimensions","RankableTableRow","innerRefFn","_this2","row","rowIndex","isRankingDisabled","isHighlighted","cells","rowTestId","isRowHighlighted","restRowProps","_provided$dragHandleP","cellIndex","headCell","TableCell","RankableBody","rankStartProps","onRankStart","pageRows","onRankEnd","sourceKey","sourceIndex","keyIndex","beforeIndex","afterKey","beforeKey","computeRankDestination","_this$props2","highlightedRowIndex","forwardedRef","TableRow","indexOf","withSortedPageRows"],"sourceRoot":""}